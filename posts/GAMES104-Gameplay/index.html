<!DOCTYPE html>
<html lang=zh-CN data-theme="light">
	
<script src="/js/plugins/toggleTheme.js"></script>

	<script>
		setTheme();
	</script>
	<head>
		
<title>GAMES104-Gameplay | Zi-Zi's Journey</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" type="image/x-icon" href="/images/icon/favicon.ico">
<link href="/css/plugins/print.css" media="print" rel="stylesheet" />

<link rel="stylesheet" href="/css/index.css">



<meta name="keywords" content="游戏引擎架构,GAMES104,">
<meta name="description" content="王希-GAMES104-现代游戏引擎：从入门到实践。">



<script src="/js/plugins/jquery.min.js"></script>


<script src="/js/plugins/hljs.min.js"></script>


<script src="/js/plugins/init.js"></script>


<script src="/js/plugins/hide.js"></script>


<script src="/js/plugins/tabs.js"></script>



    



    
<script src="/js/plugins/alert-title.js"></script>

    
<link rel="stylesheet" href="/css/plugins/github-alerts/github-base.css">

    
<link rel="stylesheet" href="/css/plugins/github-alerts/github-colors-dark-class.css">

    
<link rel="stylesheet" href="/css/plugins/github-alerts/github-colors-light.css">






    

	<meta name="generator" content="Hexo 6.1.0"></head>

	<body>
		<header class="sticky-header">
	<nav>
		<div class="nav-left">
			<a href="/" class="logo">
				<img no-lazy src="/images/headers_icon/logo.webp" alt="Quieter">
			</a>
			<ul class="breadcrumb" id="breadcrumb"></ul>
		</div>
		<div class="nav-right">
			<ul>
				
					<li>
						<a href="/">
						  主页
						</a>
					</li>
				
					<li>
						<a href="/categories">
						  类别
						</a>
					</li>
				
					<li>
						<a href="/tags">
						  标签
						</a>
					</li>
				
					<li>
						<a href="/archives">
						  归档
						</a>
					</li>
				
					<li>
						<a href="/galleries">
						  相册
						</a>
					</li>
				
					<li>
						<a href="/links">
						  链接
						</a>
					</li>
				
					<li>
						<a href="/about">
						  关于
						</a>
					</li>
								  
			</ul>
		</div>
		<div class="nav-right-close">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
				<path fill="none" d="M0 0h24v24H0z" />
				<path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z" fill="rgba(68,68,68,1)" />
			</svg>
		</div>

		<div class="sidebar">
    <div class="topo">
        <p>Zi-Zi's Journey</p>
    </div>
    <ul>
        
        <li>
            <a href="/">
                主页
            </a>
        </li>
        
        <li>
            <a href="/categories">
                类别
            </a>
        </li>
        
        <li>
            <a href="/tags">
                标签
            </a>
        </li>
        
        <li>
            <a href="/archives">
                归档
            </a>
        </li>
        
        <li>
            <a href="/galleries">
                相册
            </a>
        </li>
        
        <li>
            <a href="/links">
                链接
            </a>
        </li>
        
        <li>
            <a href="/about">
                关于
            </a>
        </li>
        
    </ul>
    <div class="sidebar-footer">
        
        <a target="_blank" rel="noopener" href="https://weibo.com/u/5020307235">
            <img no-lazy src="/images/bottom_icon/Weibo.webp" alt="Quieter">
        </a>
        
        <a target="_blank" rel="noopener" href="https://tieba.baidu.com/home/main?id=tb.1.ff6d2775.vFH7wrdW2ZjPCmyBHJcjnA">
            <img no-lazy src="/images/bottom_icon/Tieba.webp" alt="Quieter">
        </a>
        
        <a target="_blank" rel="noopener" href="https://space.bilibili.com/11547880">
            <img no-lazy src="/images/bottom_icon/Bilibili.webp" alt="Quieter">
        </a>
        
        <a target="_blank" rel="noopener" href="https://github.com/GZ-Metal-Cell">
            <img no-lazy src="/images/bottom_icon/github.webp" alt="Quieter">
        </a>
        
    </div>
</div>
<div class='shelter'>
    <script>
        $(function() {
            $('.nav-right-close > svg').click(function() {
                $('.sidebar').animate({
                    right: "0"
                }, 500);
                $('.shelter').fadeIn("slow");
            
                var element = $('.topo');
                element.addClass('custom-style');
            
                var links = null;
                if ("") {
                    links = "".split(',');
                } else {
                    links = "/images/random_top_img/01.webp,/images/random_top_img/02.webp,/images/random_top_img/03.webp,/images/random_top_img/04.webp,/images/random_top_img/05.webp,/images/random_top_img/06.webp,/images/random_top_img/07.webp,/images/random_top_img/08.webp,/images/random_top_img/09.webp,/images/random_top_img/10.webp,/images/random_top_img/11.webp,/images/random_top_img/12.webp,/images/random_top_img/13.webp,/images/random_top_img/14.webp,/images/random_top_img/15.webp,/images/random_top_img/16.webp,/images/random_top_img/17.webp,/images/random_top_img/18.webp,/images/random_top_img/19.webp,/images/random_top_img/20.webp,/images/random_top_img/21.webp,/images/random_top_img/22.webp,/images/random_top_img/23.webp,/images/random_top_img/24.webp,/images/random_top_img/25.webp,/images/random_top_img/26.webp,/images/random_top_img/27.webp,/images/random_top_img/28.webp,/images/random_top_img/29.webp,/images/random_top_img/30.webp,/images/random_top_img/31.webp,/images/random_top_img/32.webp,/images/random_top_img/33.webp,/images/random_top_img/34.webp,/images/random_top_img/35.webp,/images/random_top_img/36.webp,/images/random_top_img/37.webp,/images/random_top_img/38.webp,/images/random_top_img/39.webp,/images/random_top_img/40.webp,/images/random_top_img/41.webp,/images/random_top_img/42.webp,/images/random_top_img/43.webp,/images/random_top_img/44.webp,/images/random_top_img/45.webp,/images/random_top_img/46.webp,/images/random_top_img/47.webp,/images/random_top_img/48.webp,/images/random_top_img/49.webp,/images/random_top_img/50.webp,/images/random_top_img/51.webp,/images/random_top_img/52.webp,/images/random_top_img/53.webp,/images/random_top_img/54.webp,/images/random_top_img/55.webp,/images/random_top_img/56.webp,/images/random_top_img/57.webp".split(',');
                }
            
                var randomLink = links[Math.floor(Math.random() * links.length)];
                element.css('background-image', "url('" + randomLink + "')");
            });
          
            $('.shelter').click(function(e) {
                $('.sidebar').animate({
                    right: "-100%"
                }, 500);
                $('.shelter').fadeOut("slow");
            });
        });      
    </script>
</div>
	</nav>

	
		<div class="header-background"></div>
	

	<script>
		const name = 'post';
		const ul = document.querySelectorAll('.nav-right ul')[0];
		const lis = ul.querySelectorAll('li');

		if (name == 'home') {
			lis[0].classList.add('select');
		} else {
			for (let i = 0; i < lis.length; i++) {
				const li = lis[i];
				const a = li.querySelector('a');
				if (name === a.href.split('/')[3]) {
					li.classList.add('select');
				}
			}
		}
	</script>
	
	<script>
		var element = document.querySelector('.header-background');
		if(element) {
			element.classList.add('custom-style');
			var links = null;
			if("")
			{
				links = "".split(',');
			} else
			{
				links = "/images/random_top_img/01.webp,/images/random_top_img/02.webp,/images/random_top_img/03.webp,/images/random_top_img/04.webp,/images/random_top_img/05.webp,/images/random_top_img/06.webp,/images/random_top_img/07.webp,/images/random_top_img/08.webp,/images/random_top_img/09.webp,/images/random_top_img/10.webp,/images/random_top_img/11.webp,/images/random_top_img/12.webp,/images/random_top_img/13.webp,/images/random_top_img/14.webp,/images/random_top_img/15.webp,/images/random_top_img/16.webp,/images/random_top_img/17.webp,/images/random_top_img/18.webp,/images/random_top_img/19.webp,/images/random_top_img/20.webp,/images/random_top_img/21.webp,/images/random_top_img/22.webp,/images/random_top_img/23.webp,/images/random_top_img/24.webp,/images/random_top_img/25.webp,/images/random_top_img/26.webp,/images/random_top_img/27.webp,/images/random_top_img/28.webp,/images/random_top_img/29.webp,/images/random_top_img/30.webp,/images/random_top_img/31.webp,/images/random_top_img/32.webp,/images/random_top_img/33.webp,/images/random_top_img/34.webp,/images/random_top_img/35.webp,/images/random_top_img/36.webp,/images/random_top_img/37.webp,/images/random_top_img/38.webp,/images/random_top_img/39.webp,/images/random_top_img/40.webp,/images/random_top_img/41.webp,/images/random_top_img/42.webp,/images/random_top_img/43.webp,/images/random_top_img/44.webp,/images/random_top_img/45.webp,/images/random_top_img/46.webp,/images/random_top_img/47.webp,/images/random_top_img/48.webp,/images/random_top_img/49.webp,/images/random_top_img/50.webp,/images/random_top_img/51.webp,/images/random_top_img/52.webp,/images/random_top_img/53.webp,/images/random_top_img/54.webp,/images/random_top_img/55.webp,/images/random_top_img/56.webp,/images/random_top_img/57.webp".split(',');
			}
			var randomLink = links[Math.floor(Math.random() * links.length)];
			element.style.backgroundImage = "url('" + randomLink + "')";
		}
	</script>

	
<script src="/js/plugins/breadcrumb.js"></script>

	<script>
		var menus_title = [];
		
			menus_title.push({home: '主页'});
		
			menus_title.push({categories: '类别'});
		
			menus_title.push({tags: '标签'});
		
			menus_title.push({archives: '归档'});
		
			menus_title.push({galleries: '相册'});
		
			menus_title.push({links: '链接'});
		
			menus_title.push({about: '关于'});
		
		
			
				postsBreadcrumb(
					document.getElementById('breadcrumb'),
					"类别",
					"/categories",
					"学习",
					"/categories/学习",
					1
				);
			
		
	</script>
</header>

<div class="main-wrapper">
    <main class="post">
        <header class="main-header">
	
		
			
				
<link rel="stylesheet" href="/css/plugins/fancybox.css">

				
<script src="/js/plugins/fancybox.umd.js"></script>

				
<script src="/js/plugins/fancybox.js"></script>

			
			<div class="post-header-background-content">
				<ul class="post-header-tag">
					
						
							<li><a href="/tags/游戏引擎架构"><span>游戏引擎架构</span></a></li>
						
							<li><a href="/tags/GAMES104"><span>GAMES104</span></a></li>
						
					
				</ul>
				
				<h1>GAMES<b><font color="#0FF">104</font></b>-Gameplay</h1>
		
				
					<div class="post-header-desc">
						<svg t="1714702231661" class="icon" viewBox="0 0 1024 1024" version="1.1"
						xmlns="http://www.w3.org/2000/svg" p-id="1154" xmlns:xlink="http://www.w3.org/1999/xlink"
						width="20" height="20">
						<path
							d="M778.24 117.76A46.08 46.08 0 0 1 824.32 163.84v430.08c0 8.4992-4.13696 16.01536-10.50624 20.6848l-0.24576 0.2048L587.5712 846.09024a35.84 35.84 0 0 1-61.48096-25.06752v-220.9792a46.08 46.08 0 0 1 46.08-46.08l200.94976-0.02048V168.96h-522.24v686.08H389.12c13.25056 0 24.1664 10.07616 25.47712 22.97856l0.12288 2.62144c0 14.1312-11.4688 25.6-25.6 25.6h-143.36A46.08 46.08 0 0 1 199.68 860.16V163.84A46.08 46.08 0 0 1 245.76 117.76h532.48z m-26.78784 487.38304h-174.16192v178.176l174.16192-178.176z m-45.19936-169.94304a25.6 25.6 0 0 1 0 51.2H307.2a25.6 25.6 0 0 1 0-51.2h399.0528z m0-122.88a25.6 25.6 0 0 1 0 51.2H307.2a25.6 25.6 0 0 1 0-51.2h399.0528z"
							fill="#ffffff" p-id="1155"></path>
						</svg>
						<p>王希-GAMES104-现代游戏引擎：从入门到实践。</p>
					</div>
				
		
				<div class="post-header-info">
					<svg t="1604839279282" class="icon" viewBox="0 0 1024 1024" version="1.1"
					xmlns="http://www.w3.org/2000/svg" p-id="2901" width="20" height="20">
						<path
							d="M513 956.3c-247.7 0-448-200.3-448-448S265.3 66.2 513 66.2s448 200.3 448 448-200.3 442.1-448 442.1z m0-830.9c-212.2 0-388.8 170.7-388.8 388.8C124.2 726.3 294.9 903 513 903c212.2 0 388.8-170.7 388.8-388.8S725.2 125.4 513 125.4z m0 430.2c-94.2 0-170.7-76.5-170.7-170.7S418.8 207.8 513 207.8s170.7 76.5 170.7 170.7S607.2 555.6 513 555.6z m0-289.1c-64.6 0-112 52.8-112 112s47.4 117.9 112 117.9 112-52.8 112-112-47.4-117.9-112-117.9z m0 689.8c-135.7 0-259-58.7-341.9-158.9l-11.8-17.8 11.8-17.8c76.5-117.9 206.2-188.5 347.8-188.5 135.7 0 265 64.6 341.9 182.6l11.8 17.8-11.8 17.8C778 897.1 648.7 956.3 513 956.3zM230.3 773.2C300.9 849.7 406.9 897 513 897c112 0 218.1-47.4 288.6-129.8-70.5-88.2-170.7-135.6-282.7-135.6s-218.1 53.3-288.6 141.6z"
							p-id="2902" fill="#ffffff"></path>
					</svg>
					<div class="post-header-info-author">
						<a href="/about">Zi-Zi</a>
					</div>
					
						<div class="post-header-info-categories">
							
								<a href="/categories/学习">学习</a>
							
						</div>
					
					<time>2024/06/20 14:48:00</time>
				</div>
		
				
					<div class="post-header-stat">
						<svg version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						viewBox="0 0 200 200" enable-background="new 0 0 200 200" xml:space="preserve" width="20" height="20">
							<path fill="#FFFFFF" d="M187.2,165.6c0,2.6-2.1,4.7-4.7,4.7H17.5c-2.6,0-4.7-2.1-4.7-4.7s2.1-4.7,4.7-4.7h165.1
								C185.2,160.9,187.2,163,187.2,165.6z"/>
							<path fill="#FFFFFF" d="M17.5,29.7c2.6,0,4.7,2.1,4.7,4.7v131.2c0,2.6-2.1,4.7-4.7,4.7s-4.7-2.1-4.7-4.7V34.4
								C12.8,31.8,14.9,29.7,17.5,29.7z M77.9,91.5c1.8,1.8,1.8,4.8,0,6.6l-39.8,39.8c-1.9,1.8-4.9,1.7-6.6-0.2c-1.7-1.8-1.7-4.6,0-6.4
								l39.8-39.8C73.1,89.6,76,89.6,77.9,91.5z M169.9,70.2c1.6,2.1,1.1,5-0.9,6.5c0,0,0,0,0,0l-64.2,48.2c-2.1,1.5-5,1.1-6.6-0.9
								c-1.6-2.1-1.1-5,0.9-6.5c0,0,0,0,0,0l64.2-48.2C165.4,67.7,168.3,68.1,169.9,70.2L169.9,70.2z"/>
							<path fill="#FFFFFF" d="M104.6,124.5c-1.8,1.8-4.8,1.8-6.6,0L71.6,98.1c-1.8-1.8-1.8-4.8,0-6.6c1.8-1.8,4.8-1.8,6.6,0l26.3,26.3
								C106.4,119.6,106.4,122.6,104.6,124.5C104.6,124.4,104.6,124.4,104.6,124.5z"/>
						</svg>
		
						
							
<script src="/js/plugins/wordCount.js"></script>

							<p class="post-count">文字数：---</p>
						
		
						
							<p id="busuanzi_container_page_pv" style='display:none;'>阅读数：<span id="busuanzi_value_page_pv"></span></p>
						
					</div>
				
			</div>
		
	
</header>
        <div class="post-content article-container">
            <article class="post-content-info">
                <h1 id="%E8%B5%84%E6%BA%90" tabindex="-1">资源</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1oU4y1R7Km/">GAMES104-现代游戏引擎：从入门到实践_哔哩哔哩_bilibili</a></li>
<li><a target="_blank" rel="noopener" href="https://games104.boomingtech.com/sc/">GAMES104 - 现代游戏引擎入门必修课 (boomingtech.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.piccoloengine.com/topics/node/feed/all">Piccolo 社区 - 游戏引擎爱好者的新家园 (piccoloengine.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/BoomingTech/Piccolo">BoomingTech/Piccolo: Piccolo (formerly Pilot) – mini game engine for games104 (github.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/597024196">GAMES104：现代游戏引擎，从理论到实践 - 知乎 (zhihu.com)</a></li>
</ul>
<h1 id="%E8%AF%BE%E7%A8%8B" tabindex="-1">课程</h1>
<h2 id="%E7%AC%AC%E5%8D%81%E4%BA%94%E8%8A%82%EF%BC%9A%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E7%9A%84-gameplay-%E7%8E%A9%E6%B3%95%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80" tabindex="-1" id="第十五节：游戏引擎的-Gameplay-玩法系统基础">第十五节：游戏引擎的 Gameplay 玩法系统基础</h2>
<h3 id="gameplay-complexity-and-building-blocks" tabindex="-1" id="Gameplay-Complexity-and-Building-Blocks">Gameplay Complexity and Building Blocks</h3>
<p>​	游戏复杂性和构建模块</p>
<h4 id="outline-of-gameplay-system" tabindex="-1" id="Outline-of-Gameplay-System">Outline of Gameplay System</h4>
<p>​	游戏系统概述</p>
<h5 id="gameplay-complexity-and-building-blocks-1" tabindex="-1" id="Gameplay-complexity-and-Building-Blocks">Gameplay complexity and Building Blocks</h5>
<p>​	游戏复杂性和构建模块</p>
<ul>
<li>
<p>Overview</p>
<p>概述</p>
</li>
<li>
<p>Event Mechanism</p>
<p>事件机制</p>
</li>
<li>
<p>Script System</p>
<p>脚本系统</p>
</li>
<li>
<p>Visual Script</p>
<p>可视化脚本</p>
</li>
<li>
<p>Character, Control and Camera</p>
<p>角色、控制和相机</p>
</li>
</ul>
<h5 id="ai" tabindex="-1" id="AI">AI</h5>
<h4 id="challenges-in-gameplay-(1%2F3)" tabindex="-1" id="Challenges-in-GamePlay-1-3">Challenges in GamePlay (1/3)</h4>
<p>​	游戏玩法的挑战</p>
<h5 id="cooperation-among-multiple-systems" tabindex="-1" id="Cooperation-among-multiple-systems">Cooperation among multiple systems</h5>
<p>​	多系统协作</p>
<p><img src="15.1.webp" alt="webp"></p>
<h4 id="challenges-in-gameplay-(2%2F3)" tabindex="-1" id="Challenges-in-GamePlay-2-3">Challenges in GamePlay (2/3)</h4>
<h5 id="diversity-of-game-play-in-the-same-game" tabindex="-1" id="Diversity-of-game-play-in-the-same-game">Diversity of game play in the same game</h5>
<p>​	单种游戏多种玩法</p>
<p><img src="15.2.webp" alt="webp"></p>
<h4 id="challenges-in-gameplay-(3%2F3)" tabindex="-1" id="Challenges-in-GamePlay-3-3">Challenges in GamePlay (3/3)</h4>
<h5 id="rapid-iteration" tabindex="-1" id="Rapid-iteration">Rapid iteration</h5>
<p>​	快速迭代</p>
<p><img src="15.3.webp" alt="webp"></p>
<center>这款游戏在研发过程中了改变了其玩法</center>
<p>Epic acknowledged that within the Fortnite fundamentals, they could also do a battle royale mode, and rapidly developed their own version atop Fortnite in about two <strong>months</strong>.</p>
<p>​	Epic 承认，在 Fortnite 的基本原理内，他们也可以做一款大逃杀模式，并在大约两个月内迅速在 Fortnite 的基础上开发了自己的版本。</p>
<h3 id="event-mechanism" tabindex="-1" id="Event-Mechanism">Event Mechanism</h3>
<p>​	事件机制</p>
<h4 id="let-objects-talk" tabindex="-1" id="Let-Objects-Talk">Let Objects Talk</h4>
<p>​	让不同对象之间联系</p>
<p><img src="15.4.webp" alt="webp"></p>
<h4 id="event%2Fmessage-mechanism" tabindex="-1" id="Event-Message-Mechanism">Event/Message Mechanism</h4>
<p>​	事件/消息机制</p>
<ul>
<li>
<p>Abstract the world communication to messages</p>
<p>将世界通信抽象为消息</p>
</li>
<li>
<p>Decoupling event sending and handling</p>
<p>解耦事件发送和处理</p>
</li>
</ul>
<p><img src="15.5.webp" alt="webp"></p>
<p>​	使用消息机制便于不同对象之间联系</p>
<h4 id="publish-subscribe-pattern" tabindex="-1" id="Publish-subscribe-Pattern">Publish-subscribe Pattern</h4>
<p>​	发布-订阅模式</p>
<ul>
<li>
<p>Publisher categorizes published messages (events) into classes</p>
<p>发布者将发布的消息（事件）分类为不同的类别</p>
</li>
<li>
<p>Subscriber receive messages (events) that are of interest without knowledge of which publishers</p>
<p>订阅者接收感兴趣的消息（事件），但不知道是哪个发布者</p>
</li>
</ul>
<p><img src="15.6.webp" alt="webp"></p>
<h4 id="3-key-components-of-publish-subscribe-pattern" tabindex="-1" id="3-Key-Components-of-Publish-subscribe-Pattern">3 Key Components of Publish-subscribe Pattern</h4>
<p>​	发布-订阅模式的 3 个关键组件</p>
<ul>
<li>
<p>Event Definition</p>
<p>事件定义</p>
</li>
<li>
<p>Callback Registration</p>
<p>回调注册</p>
</li>
<li>
<p>Event Despatching</p>
<p>事件分派</p>
</li>
</ul>
<h4 id="event-definition" tabindex="-1" id="Event-Definition">Event Definition</h4>
<p>​	事件定义</p>
<p><img src="15.7.webp" alt="webp"></p>
<p>​	定义事件的类型（枚举）和变量</p>
<h4 id="type-and-arguments" tabindex="-1" id="Type-and-Arguments">Type and Arguments</h4>
<p>​	类型和参数</p>
<p><img src="15.8.webp" alt="webp"></p>
<p>Impossible for hardcode</p>
<p>​	硬编码不可能</p>
<ul>
<li>
<p>Editable</p>
<p>可编辑性</p>
</li>
</ul>
<p><img src="15.9.webp" alt="webp"></p>
<h4 id="callback-registration" tabindex="-1" id="Callback-Registration">Callback Registration</h4>
<p>​	回调注册</p>
<h5 id="callback-(function)" tabindex="-1" id="Callback-function">Callback (function)</h5>
<p>​	回调（函数）</p>
<ul>
<li>
<p>Any reference to executable code that is passed as an argument to another piece of code</p>
<p>对作为参数传递给另一段代码的可执行代码的任何引用</p>
</li>
</ul>
<blockquote>
<p>​	字面上的理解，回调函数就是一个参数，将这个函数作为参数传到另一个函数里面，当那个函数执行完之后，再执行传进去的这个函数。这个过程就叫做回调。</p>
</blockquote>
<p><img src="15.10.webp" alt="webp"></p>
<h4 id="object-lifespan-and-callback-safety" tabindex="-1" id="Object-Lifespan-and-Callback-Safety">Object Lifespan and Callback Safety</h4>
<p>​	对象生命周期和回调安全</p>
<h5 id="time-points-of-registration-and-execution-differs" tabindex="-1" id="Time-points-of-registration-and-execution-differs">Time points of registration and execution differs</h5>
<p>​	<strong>注册</strong>和<strong>执行</strong>的时间点不同</p>
<p><img src="15.11.webp" alt="webp"></p>
<p><img src="15.12.webp" alt="webp"></p>
<p>​	执行回调函数时，回调函数所在的对象已经被销毁了，报错。</p>
<h4 id="object-strong-reference" tabindex="-1" id="Object-Strong-Reference">Object Strong Reference</h4>
<p>​	对象强引用</p>
<p><img src="15.13.webp" alt="webp"></p>
<p>Make sure to unregister callback function before delete objects, otherwise it will cause memory leak!</p>
<p>​	删除对象前请务必注销回调函数，否则会造成内存泄漏！</p>
<p>Prevent object from de-allocation as long as callback function still registered</p>
<p>​	只要回调函数仍然注册，就防止对象被取消分配</p>
<h4 id="object-weak-reference" tabindex="-1" id="Object-Weak-Reference">Object Weak Reference</h4>
<p>​	对象弱引用</p>
<p><img src="15.14.webp" alt="webp"></p>
<p>Object could be de-allocated, and wilcheck callback function if valid</p>
<p>​	对象可以被取消分配，并且将检查回调函数是否有效</p>
<h4 id="event-dispatch" tabindex="-1" id="Event-Dispatch">Event Dispatch</h4>
<p>​	事件分派</p>
<ul>
<li>
<p>Send event to appropriate destination</p>
<p>将事件发送到适当的目的地</p>
</li>
</ul>
<p><img src="15.15.webp" alt="webp"></p>
<h4 id="event-dispatch%3A-immediate" tabindex="-1" id="Event-Dispatch-Immediate">Event Dispatch: Immediate</h4>
<p>​	事件分派：立即</p>
<p><img src="15.16.webp" alt="webp"></p>
<p>parent function returns after callback function</p>
<p>​	回调函数之后父函数返回，这么做可能出现如下问题：</p>
<ul>
<li>
<p>Deep well of callbacks</p>
<p>回调的深井</p>
</li>
</ul>
<p><img src="15.17.webp" alt="webp"></p>
<p>​	这么做可能导致 Callstack 过长，占用内存。</p>
<ul>
<li>
<p>Blocked by function</p>
<p>被函数阻止</p>
</li>
</ul>
<p>​	期间某个函数耗时较长，导致帧率突然下降。</p>
<p><img src="15.18.webp" alt="webp"></p>
<p>The bleeding effect should be loaded but cost plenty of time in this function call</p>
<p>​	应该加载出血效果，但在此函数调用中会花费大量时间</p>
<ul>
<li>Difficult for parallelization</li>
</ul>
<p>​	难以并行化</p>
<p><img src="15.19.webp" alt="webp"></p>
<h4 id="event-queue" tabindex="-1" id="Event-Queue">Event Queue</h4>
<p>​	事件队列</p>
<h5 id="basic-implementation" tabindex="-1" id="Basic-implementation">Basic implementation</h5>
<p>​	基本实现</p>
<ul>
<li>
<p>Store events in queue for handling at an arbitrary future time</p>
<p>将事件存储在队列中，以便在未来的任意时间进行处理</p>
</li>
</ul>
<p><img src="15.20.webp" alt="webp"></p>
<h4 id="event-serializing-and-deserializing" tabindex="-1" id="Event-Serializing-and-Deserializing">Event Serializing and Deserializing</h4>
<p>​	事件序列化和反序列化</p>
<ul>
<li>
<p>To store various types of events</p>
<p>存储各种类型的事件</p>
</li>
</ul>
<p><img src="15.21.webp" alt="webp"></p>
<h4 id="event-quene" tabindex="-1" id="Event-Quene">Event Quene</h4>
<p>​	事件队列</p>
<h5 id="ring-buffer" tabindex="-1" id="Ring-buffer">Ring buffer</h5>
<p>​	环形缓冲区</p>
<p><img src="15.22.webp" alt="webp"></p>
<h5 id="batching" tabindex="-1" id="Batching">Batching</h5>
<p>​	批处理</p>
<p><img src="15.23.webp" alt="webp"></p>
<h4 id="problems-of-event-queue-(1%2F2)" tabindex="-1" id="Problems-of-Event-Queue-1-2">Problems of Event Queue (1/2)</h4>
<p>​	事件队列的问题</p>
<ul>
<li>
<p>Timeline not determined by publisher</p>
<p>事件发布者尚未确定时间表</p>
</li>
</ul>
<p><img src="15.24.webp" alt="webp"></p>
<h4 id="problems-of-event-queue-(2%2F2)" tabindex="-1" id="Problems-of-Event-Queue-2-2">Problems of Event Queue (2/2)</h4>
<ul>
<li>
<p>One-frame delays</p>
<p>一帧延迟</p>
</li>
</ul>
<p><img src="15.25.webp" alt="webp"></p>
<h3 id="game-logic" tabindex="-1" id="Game-Logic">Game Logic</h3>
<p>​	游戏逻辑</p>
<h4 id="early-stage-game-logic-programming" tabindex="-1" id="Early-Stage-Game-Logic-Programming">Early Stage Game Logic Programming</h4>
<p>​	早期游戏逻辑编程</p>
<p>Compiled language (mostly C/C++)</p>
<p>​	编译语言（主要是 C/C++）</p>
<ul>
<li>
<p>Compiled to machine code with high performance</p>
<p>编译为高性能机器代码</p>
</li>
<li>
<p>More easier to use than assembly language</p>
<p>比汇编语言更易于使用</p>
</li>
</ul>
<p><img src="15.26.webp" alt="webp"></p>
<p>​	修改某个游戏逻辑需要重新编译整个游戏。</p>
<h4 id="problem-of-compiled-languages" tabindex="-1" id="Problem-of-Compiled-Languages">Problem of Compiled Languages</h4>
<p>​	编译语言的问题</p>
<p>Game requirements get complex as hardware evolves</p>
<p>​	随着硬件的发展，游戏要求变得复杂</p>
<ul>
<li>
<p>Need quick iterations of gameplay logic</p>
<p>需要快速迭代游戏逻辑</p>
</li>
</ul>
<p>Issues with compiled language</p>
<p>​	编译语言的问题</p>
<ul>
<li>
<p>Need recompilation with even a little modification</p>
<p>即使进行少量修改也需要重新编译</p>
</li>
<li>
<p>Program can easily get crashed with incorrect codes</p>
<p>程序很容易因代码错误而崩溃</p>
</li>
</ul>
<h4 id="glue-designers-and-programmers" tabindex="-1" id="Glue-Designers-and-Programmers">Glue Designers and Programmers</h4>
<p>​	将设计师和程序员连接起来</p>
<ul>
<li>
<p>Get rid of inefficient communication between designers and programmers</p>
<p>摆脱设计师和程序员之间低效的沟通</p>
</li>
<li>
<p>Designers need direct control of gameplay logic</p>
<p>设计师需要直接控制游戏逻辑</p>
</li>
<li>
<p>Artists need to quickly adjust assets at the runtime environment</p>
<p>艺术家需要在运行时环境中快速调整资产</p>
</li>
</ul>
<p><img src="15.27.webp" alt="webp"></p>
<h4 id="scripting-languages" tabindex="-1" id="Scripting-Languages">Scripting Languages</h4>
<p>​	脚本语言</p>
<ul>
<li>
<p>Support for rapid iteration</p>
<p>支持快速迭代</p>
</li>
<li>
<p>Easy to learn and write</p>
<p>易学易写</p>
</li>
<li>
<p>Support for hot update</p>
<p>支持热更新</p>
</li>
<li>
<p>Stable, less crash by running in a sandbox</p>
<p>沙盒运行稳定，崩溃少</p>
</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tick</span><span class="hljs-params">(delta)</span></span><br>	<span class="hljs-keyword">if</span> input_system.isKeyDown(Keycode.W) <span class="hljs-keyword">then</span><br>        <span class="hljs-built_in">self</span>:moveForward(delta)<br>    <span class="hljs-keyword">elseif</span> input_system.isKeyDown(Keycode.S) <span class="hljs-keyword">then</span> <br>        <span class="hljs-built_in">self</span>:moveBackward(delta)<br>    <span class="hljs-keyword">end</span><br><br>    <span class="hljs-keyword">if</span> input_system.iskeyDown(Keycode.MouseLeft) <span class="hljs-keyword">then</span><br>        <span class="hljs-built_in">self</span>:fire(delta)<br>	<span class="hljs-keyword">end</span><br>    ...<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<center>Lua Script Example</center>
<h4 id="how-script-languages-work" tabindex="-1" id="How-Script-Languages-Work">How Script Languages Work</h4>
<p>​	脚本语言的工作原理</p>
<p>Script is converted to <strong>bytecode</strong> by a <strong>compiler</strong> first, then run on a <strong>virtual machine</strong></p>
<p>​	脚本首先由<strong>编译器</strong>转换为<strong>字节码</strong>，然后在<strong>虚拟机</strong>上运行</p>
<p><img src="15.28.webp" alt="webp"></p>
<h4 id="object-management-between-scripts-and-engine-(1%2F2)" tabindex="-1" id="Object-Management-between-Scripts-and-Engine-1-2">Object Management between Scripts and Engine (1/2)</h4>
<p>​	脚本和引擎之间的对象管理 (1/2)</p>
<p>Object lifetime management in <strong>native engine code</strong></p>
<p>​	<strong>原生引擎代码</strong>中的对象生命周期管理</p>
<ul>
<li>
<p>Need to provide an object lifetime management mechanism</p>
<p>需要提供对象生命周期管理机制</p>
</li>
<li>
<p>Not safe when script uses native objects (may have been destructed)</p>
<p>当脚本使用原生对象时不安全（可能已被破坏）</p>
</li>
</ul>
<p><img src="15.29.webp" alt="webp"></p>
<h4 id="object-management-between-scripts-and-engine-(2%2F2)" tabindex="-1" id="Object-Management-between-Scripts-and-Engine-2-2">Object Management between Scripts and Engine (2/2)</h4>
<p>​	脚本和引擎之间的对象管理 (2/2)</p>
<p>Object lifetime management in <strong>script</strong></p>
<p>​	<strong>脚本</strong>中的对象生命周期管理</p>
<ul>
<li>
<p>The lifetime of objects are auto managed by script GC</p>
<p>对象的生命周期由脚本 GC 自动管理</p>
</li>
<li>
<p>The time when object is deallocated is uncontrolled (controlled by GC)</p>
<p>对象被释放的时间不受控制（由 GC 控制）</p>
</li>
<li>
<p>Easy to get memory leak if reference relations get complex in script</p>
<p>如果脚本中的引用关系变得复杂，则容易发生内存泄漏</p>
</li>
</ul>
<p><img src="15.30.webp" alt="webp"></p>
<h4 id="architectures-for-scripting-system-(1%2F2)" tabindex="-1" id="Architectures-for-Scripting-System-1-2">Architectures for Scripting System (1/2)</h4>
<p>​	脚本系统架构 (1/2)</p>
<p>Native language dominants the game world</p>
<p>​	原生语言主导游戏世界</p>
<ul>
<li>
<p>Most gameplay logic is in native code</p>
<p>大多数游戏逻辑都采用原生代码</p>
</li>
<li>
<p>Script extends the functionality of native engine code</p>
<p>脚本扩展了原生引擎代码的功能</p>
</li>
<li>
<p>High performance with compiled language</p>
<p>编译语言带来高性能</p>
</li>
</ul>
<p><img src="15.31.webp" alt="webp"></p>
<h4 id="architectures-for-scripting-system-(2%2F2)" tabindex="-1" id="Architectures-for-Scripting-System-2-2">Architectures for Scripting System (2/2)</h4>
<p>Script language dominants the game world</p>
<p>​	脚本语言主导游戏世界</p>
<ul>
<li>
<p>Most gameplay logic is in script</p>
<p>大多数游戏逻辑都在脚本中</p>
</li>
<li>
<p>Native engine code provides necessary functionality to script</p>
<p>原生引擎代码为脚本提供必要的功能</p>
</li>
<li>
<p>Quick development iteration with script language</p>
<p>使用脚本语言快速进行开发迭代</p>
</li>
</ul>
<p><img src="15.32.webp" alt="webp"></p>
<h4 id="advanced-script-features---hot-update" tabindex="-1" id="Advanced-Script-Features-Hot-Update">Advanced Script Features - Hot Update</h4>
<p>​	高级脚本功能 - <strong>热更新</strong></p>
<p>Allow modifications of script while game is running</p>
<p>​	<strong>允许在游戏运行时修改脚本</strong></p>
<ul>
<li>
<p>Quick iteration for some specific logic</p>
<p>针对某些特定逻辑进行快速迭代</p>
</li>
<li>
<p>Enable to fix bugs in script while game is online</p>
<p>允许在游戏在线时修复脚本中的错误</p>
</li>
</ul>
<p>A troublesome problem with hot update</p>
<p>​	热更新的一个麻烦问题</p>
<ul>
<li>
<p>All variables reference to old functions shouldbe updated too</p>
<p>所有引用旧函数的变量也应更新</p>
</li>
</ul>
<p><img src="15.33.webp" alt="webp"></p>
<h4 id="issues-with-script-language" tabindex="-1" id="Issues-with-Script-Language">Issues with Script Language</h4>
<p>​	脚本语言的问题</p>
<p>The performance is usually lower than compiled language</p>
<p>​	性能通常低于编译型语言</p>
<ul>
<li>
<p>Weakly typed language is usually harder to optimize when compile</p>
<p>弱类型语言在编译时通常更难优化</p>
</li>
<li>
<p>Need a virtual machine to run the bytecode</p>
<p>需要虚拟机来运行字节码</p>
</li>
<li>
<p>JIT is a solution for optimization</p>
<p>JIT 是优化的解决方案</p>
</li>
</ul>
<p>​	Weakly typed language is usually harder to refactor</p>
<p>​	弱类型语言通常更难重构</p>
<p><img src="15.34.webp" alt="webp"></p>
<h4 id="make-a-right-choice-of-scripting-language" tabindex="-1" id="Make-a-Right-Choice-of-Scripting-Language">Make a Right Choice of Scripting Language</h4>
<p>​	正确选择脚本语言</p>
<p>Things need to be considered</p>
<p>​	需要考虑的事项</p>
<ul>
<li>
<p>Language performance</p>
<p>语言性能</p>
</li>
<li>
<p>Built-in features, e.g. object-oriented programming support</p>
<p>内置功能，例如面向对象编程支持</p>
</li>
</ul>
<p>Select the proper architecture of scripting</p>
<p>​	选择合适的脚本架构</p>
<ul>
<li>
<p>Object lifetime management in native engine code or script</p>
<p>本机引擎代码或脚本中的对象生命周期管理</p>
</li>
<li>
<p>Which one is dominant, native language or script</p>
<p>本机语言或脚本哪个占主导地位</p>
</li>
</ul>
<h4 id="popular-script-languages-(1%2F2)" tabindex="-1" id="Popular-Script-Languages-1-2">Popular Script Languages (1/2)</h4>
<p>​	热门脚本语言 (1/2)</p>
<p>Lua (used in World of Warcraft, Civilization V)</p>
<p>​	Lua（用于《魔兽世界》、《文明 5》）</p>
<ul>
<li>
<p>Robust and mature</p>
<p>强大且成熟</p>
</li>
<li>
<p>Excellent runtime performance</p>
<p>出色的运行时性能</p>
</li>
<li>
<p>Light-weighted and highly extensible</p>
<p>轻量且高度可扩展</p>
</li>
</ul>
<p>Python (used in The Sims 4, EVE Online)</p>
<p>​	Python（用于《模拟人生 4》、《星战前夜》）</p>
<ul>
<li>
<p>Reflection support</p>
<p>反射支持</p>
</li>
<li>
<p>Built-in object-oriented support</p>
<p>内置面向对象支持</p>
</li>
<li>
<p>Extensive standard libraries and third-party modules</p>
<p>广泛的标准库和第三方模块</p>
</li>
</ul>
<p>C# (to bytecode offline, used in Unity)</p>
<p>​	C#（离线字节码，用于 Unity）</p>
<ul>
<li>
<p>Low learning curve, easy to read and understand</p>
<p>学习难度低，易于阅读和理解</p>
</li>
<li>
<p>Built-in object-oriented support</p>
<p>内置面向对象支持</p>
</li>
<li>
<p>Great community with lots of active developers</p>
<p>拥有大量活跃开发人员的优秀社区</p>
</li>
</ul>
<p><img src="15.35.webp" alt="webp"></p>
<h3 id="visual-scripting" tabindex="-1" id="Visual-Scripting">Visual Scripting</h3>
<p>​	可视化脚本</p>
<h4 id="why-we-need-visual-scripting" tabindex="-1" id="Why-We-Need-Visual-Scripting">Why We Need Visual Scripting</h4>
<p>​	为什么我们需要可视化脚本</p>
<ul>
<li>
<p>Friendly to non-programmers, especially designers and artists</p>
<p>对非程序员，尤其是设计师和艺术家来说很友好</p>
</li>
<li>
<p>Less error-prone with drag-drop operations instead of code writing</p>
<p>使用拖放操作代替代码编写，更不容易出错</p>
</li>
</ul>
<p><img src="15.36.webp" alt="webp"></p>
<h4 id="visual-script-is-a-program-language" tabindex="-1" id="Visual-Script-is-a-Program-Language">Visual Script is a Program Language</h4>
<p>​	Visual Script 是一种程序语言</p>
<p>Visual script is also a programming language, which usually needs</p>
<p>​	Visual Script 也是一种编程语言，通常需要</p>
<ul>
<li>
<p>Variable</p>
<p>变量</p>
</li>
<li>
<p>Statement and Expression</p>
<p>语句和表达式</p>
</li>
<li>
<p>Control Flow</p>
<p>控制流</p>
</li>
<li>
<p>Function</p>
<p>函数</p>
</li>
<li>
<p>Class (for object-oriented programming language)</p>
<p>类（用于面向对象编程语言）</p>
</li>
</ul>
<p><img src="15.37.webp" alt="webp"></p>
<h4 id="variable" tabindex="-1" id="Variable">Variable</h4>
<p>​	变量</p>
<p>Preserve the data to be processed or output</p>
<p>​	保存要处理或输出的数据</p>
<ul>
<li>
<p>Type</p>
<p>类型</p>
<ul>
<li>
<p>Basic type, e.g. integer, floating</p>
<p>基本类型，例如整数、浮点数</p>
</li>
<li>
<p>Complex type, e.g.structure</p>
<p>复杂类型，例如结构体</p>
</li>
</ul>
</li>
<li>
<p>Scope</p>
<p>作用域</p>
<ul>
<li>
<p>Local variable</p>
<p>局部变量</p>
</li>
<li>
<p>Member variable</p>
<p>成员变量</p>
</li>
<li>
<p>…</p>
</li>
</ul>
</li>
</ul>
<p><img src="15.38.webp" alt="webp"></p>
<h4 id="variable-visualization---data-pin-and-wire" tabindex="-1" id="Variable-Visualization-Data-Pin-and-Wire">Variable Visualization - Data Pin and Wire</h4>
<p>​	变量可视化 - 数据引脚和数据线</p>
<p>Use data wires through data pins to pass variables (parameters)</p>
<p>​	通过数据引脚使用数据线传递变量（参数）</p>
<ul>
<li>
<p>Each data type uses a unique pin color</p>
<p>每种数据类型都使用独特的引脚颜色</p>
</li>
</ul>
<p><img src="15.39.webp" alt="webp"></p>
<h4 id="statement-and-expression" tabindex="-1" id="Statement-and-Expression">Statement and Expression</h4>
<p>​	语句和表达式</p>
<p>Control how to process data</p>
<p>​	控制如何处理数据</p>
<ul>
<li>
<p>Statement: expresses some action to be carried out</p>
<p>语句：表达要执行的某些操作</p>
<ul>
<li>
<p>Assignment Statement</p>
<p>赋值语句</p>
</li>
<li>
<p>Function Statement</p>
<p>函数语句</p>
</li>
<li>
<p>…</p>
</li>
</ul>
</li>
<li>
<p>Expression: to be evaluated to determine its value</p>
<p>表达式：要进行求值以确定其值</p>
<ul>
<li>
<p>Function Expression</p>
<p>函数表达式</p>
</li>
<li>
<p>Math Expression</p>
<p>数学表达式</p>
</li>
</ul>
</li>
</ul>
<p><img src="15.40.webp" alt="webp"></p>
<h4 id="statement-and-expression-visualization---node" tabindex="-1" id="Statement-and-Expression-Visualization-Node">Statement and Expression Visualization - Node</h4>
<p>​	语句和表达式可视化 - 节点</p>
<p>Use <strong>nodes</strong> to represent <strong>statements</strong> and <strong>expressions</strong></p>
<p>​	使用<strong>节点</strong>表示<strong>语句</strong>和<strong>表达式</strong></p>
<ul>
<li>
<p>Statement Node</p>
<p>语句节点</p>
</li>
<li>
<p>Expression Node</p>
<p>表达式节点</p>
</li>
</ul>
<p><img src="15.41.webp" alt="webp"></p>
<h4 id="control-flow" tabindex="-1" id="Control-Flow">Control Flow</h4>
<p>​	控制流</p>
<p>Control the statement execution order</p>
<p>​	控制语句的执行顺序</p>
<ul>
<li>
<p>Sequence</p>
<p>顺序</p>
<ul>
<li>
<p>By default statements are executed one by one</p>
<p>默认情况下，语句会逐个执行</p>
</li>
</ul>
</li>
<li>
<p>Conditional</p>
<p>条件</p>
<ul>
<li>
<p>Next statement is decided by a condition</p>
<p>下一个语句由条件决定</p>
</li>
</ul>
</li>
<li>
<p>Loop</p>
<p>循环</p>
<ul>
<li>
<p>Statements are executed iteratively until thecondition is not true</p>
<p>语句会迭代执行，直到条件不成立</p>
</li>
</ul>
</li>
</ul>
<p><img src="15.42.webp" alt="webp"></p>
<h4 id="control-flow-visualization--execution-pin-and-wire" tabindex="-1" id="Control-Flow-Visualization-Execution-Pin-and-Wire">Control Flow Visualization -Execution Pin and Wire</h4>
<p>​	控制流可视化 - 执行引脚和连线</p>
<p>Use <strong>execution wires</strong> through <strong>execution pins</strong> to make <strong>statements</strong> sequence</p>
<p>​	使用<strong>执行连线</strong>通过<strong>执行引脚</strong>来制作<strong>语句</strong>序列</p>
<ul>
<li>
<p>Use control statement nodes to make different control flow</p>
<p>使用控制语句节点来制作不同的控制流</p>
</li>
</ul>
<p><img src="15.43.webp" alt="webp"></p>
<h4 id="function" tabindex="-1" id="Function">Function</h4>
<p>​	函数</p>
<p>A logic module which take in data, process it and return result(s)</p>
<p>​	接收数据、处理数据并返回结果的逻辑模块</p>
<ul>
<li>
<p>Input Parameter</p>
<p>输入参数</p>
<ul>
<li>
<p>The data required input to be processed</p>
<p>需要输入以进行处理的数据</p>
</li>
</ul>
</li>
<li>
<p>Function Body</p>
<p>函数主体</p>
<ul>
<li>
<p>Control how to process data</p>
<p>控制如何处理数据</p>
</li>
</ul>
</li>
<li>
<p>Return value(s)</p>
<p>返回值</p>
<ul>
<li>
<p>The data to be returned</p>
<p>要返回的数据</p>
</li>
</ul>
</li>
</ul>
<p><img src="15.44.webp" alt="webp"></p>
<h4 id="function-visualization--function-graph" tabindex="-1" id="Function-Visualization-Function-Graph">Function Visualization -Function Graph</h4>
<p>​	函数可视化 - 函数图</p>
<p>Use a <strong>graph</strong> with connected nodes to make a function</p>
<p>​	使用带有连接节点的<strong>图</strong>来制作函数</p>
<p><img src="15.45.webp" alt="webp"></p>
<h4 id="class" tabindex="-1" id="Class">Class</h4>
<p>​	类</p>
<p>A prototype for a kind of objects</p>
<p>​	一种对象的原型</p>
<ul>
<li>
<p>Member Variable</p>
<p>成员变量</p>
<ul>
<li>
<p>The lifetime is managed by the object instance</p>
<p>生命周期由对象实例管理</p>
</li>
</ul>
</li>
<li>
<p>Member Function</p>
<p>成员函数</p>
<ul>
<li>
<p>Can access member variables directly</p>
<p>可以直接访问成员变量</p>
</li>
<li>
<p>Maybe overrided by derived classes</p>
<p>可能被派生类覆盖</p>
</li>
</ul>
</li>
</ul>
<p><img src="15.46.webp" alt="webp"></p>
<h4 id="class-visualization--blueprint" tabindex="-1" id="Class-Visualization-Blueprint">Class Visualization -Blueprint</h4>
<p>​	类可视化 - 蓝图</p>
<p>Use blueprint to define a class that inherits from a native class</p>
<p>​	使用蓝图定义从本机类继承的类</p>
<ul>
<li>
<p>Event Callback Functions</p>
<p>事件回调函数</p>
</li>
<li>
<p>Member Functions</p>
<p>成员函数</p>
</li>
<li>
<p>Member Variables</p>
<p>成员变量</p>
</li>
</ul>
<p><img src="15.47.webp" alt="webp"></p>
<h4 id="make-graph-user-friendly" tabindex="-1" id="Make-Graph-User-Friendly">Make Graph User Friendly</h4>
<p>​	使图表更方便用户使用</p>
<ul>
<li>
<p>Fuzzy finding</p>
<p>模糊查找</p>
</li>
<li>
<p>Accurate suggestions by type</p>
<p>按类型提供准确建议</p>
</li>
</ul>
<h4 id="visual-script-debugger" tabindex="-1" id="Visual-Script-Debugger">Visual Script Debugger</h4>
<p>​	可视化脚本调试器</p>
<p>Debug is an important step among development</p>
<p>​	调试是开发过程中的重要步骤</p>
<p>Provide user-friendly debug tools for visual scripting</p>
<p>​	为可视化脚本提供用户友好的调试工具</p>
<p><img src="15.48.webp" alt="webp"></p>
<h4 id="issues-with-visual-scriping-(1%2F2)" tabindex="-1" id="Issues-with-Visual-Scriping-1-2">Issues with Visual Scriping (1/2)</h4>
<p>​	可视化脚本问题 (1/2)</p>
<p>Visual script is hard to merge for a team work</p>
<p>​	可视化脚本很难在团队合作中合并</p>
<ul>
<li>
<p>Usually a visual script is stored as a binary file</p>
<p>通常，可视化脚本以二进制文件形式存储</p>
</li>
<li>
<p>Manually reorder script graph is inefficient and error-prone even with a merge tool</p>
<p>即使使用合并工具，手动重新排序脚本图也效率低下且容易出错</p>
</li>
</ul>
<p><img src="15.49.webp" alt="webp"></p>
<h4 id="issues-with-visual-scripting-(2%2F2)" tabindex="-1" id="Issues-with-Visual-Scripting-2-2">Issues with Visual Scripting (2/2)</h4>
<p>The graph can get pretty messy with complex logic</p>
<p>​	图表可能因逻辑复杂而变得相当混乱</p>
<ul>
<li>
<p>Need uniform graph layout rules for a team work</p>
<p>团队合作需要统一的图表布局规则</p>
</li>
</ul>
<p><img src="15.50.webp" alt="webp"></p>
<h4 id="script-and-graph-are-twins" tabindex="-1" id="Script-and-Graph-are-Twins">Script and Graph are Twins</h4>
<p>​	脚本和图是双胞胎</p>
<p><img src="15.51.webp" alt="webp"></p>
<h3 id="%E2%80%9C3c%E2%80%9D-in-game-play" tabindex="-1" id="“3C”-in-Game-Play">“3C” in Game Play</h3>
<h4 id="what-is-3c%3F" tabindex="-1" id="What-is-3C">What is 3C?</h4>
<p>3C: Character, Control &amp; Camera</p>
<p>​	3C：角色、控制和摄像头</p>
<p>3C is the primary element that determines the gameplay experience</p>
<p>​	3C 是决定游戏体验的主要元素</p>
<p><img src="15.52.webp" alt="webp"></p>
<h4 id="character" tabindex="-1" id="Character">Character</h4>
<p>​	角色</p>
<p>In-game character, both player and npc.</p>
<p>​	游戏中的角色，包括玩家和 NPC。</p>
<p>Include character movement, combat, healthmana, what skills and talents they have, etc.</p>
<p>​	包括角色移动、战斗、生命值、他们拥有的技能和天赋等。</p>
<p>One most basic element of a character is <strong>movement</strong>.</p>
<p>​	角色最基本的元素之一是<strong>移动</strong>。</p>
<p><img src="15.53.webp" alt="webp"></p>
<h4 id="character%3A-well-designed-movement" tabindex="-1" id="Character-Well-designed-Movement">Character: Well-designed Movement</h4>
<p>​	角色：精心设计的动作</p>
<p>Movement looks simple, but it’s hard to do well.</p>
<p>​	动作看似简单，但做好却很难。</p>
<p>In AAA games, every basic state of action needs to bebroken down into detailed states.</p>
<p>​	在 AAA 游戏中，每个基本动作状态都需要分解为详细状态。</p>
<p><img src="15.54.webp" alt="webp"></p>
<h4 id="extended-character%3A-more-complex-and-varied-states" tabindex="-1" id="Extended-Character-More-complex-and-varied-states">Extended Character: More complex and varied states</h4>
<p>​	扩展角色：更加复杂多样的状态</p>
<p><img src="15.55.webp" alt="webp"></p>
<ul>
<li>
<p>Hanging</p>
<p>悬挂</p>
</li>
<li>
<p>Skating</p>
<p>滑冰</p>
</li>
<li>
<p>Diving</p>
<p>跳水</p>
</li>
</ul>
<h4 id="extended-character%3A-cooperate-with-other-systems" tabindex="-1" id="Extended-Character-Cooperate-with-other-systems">Extended Character: Cooperate with other systems</h4>
<p>​	扩展角色：与其他系统配合</p>
<p>Game effects, sound, environment interaction.</p>
<p>​	游戏特效、声音、环境互动。</p>
<h4 id="extended-character%3A-more-realistic-motion-with-physics" tabindex="-1" id="Extended-Character-More-realistic-motion-with-Physics">Extended Character: More realistic motion with Physics</h4>
<p>​	扩展角色：更逼真的物理运动</p>
<ul>
<li>
<p>Airflow</p>
<p>气流</p>
</li>
<li>
<p>Inertia tensor</p>
<p>惯性张量</p>
</li>
<li>
<p>Torque</p>
<p>扭矩</p>
</li>
<li>
<p>…</p>
</li>
</ul>
<p><img src="15.56.webp" alt="webp"></p>
<h4 id="movement-state-machine" tabindex="-1" id="Movement-State-Machine">Movement State Machine</h4>
<p>​	运动状态机</p>
<p><img src="15.57.webp" alt="webp"></p>
<h4 id="control" tabindex="-1" id="Control">Control</h4>
<p>​	控制</p>
<p>Different input device</p>
<p>​	不同的输入设备</p>
<p>Different game play</p>
<p>​	不同的游戏玩法</p>
<p><img src="15.58.webp" alt="webp"></p>
<h4 id="a-good-example-of-control" tabindex="-1" id="A-Good-Example-of-Control">A Good Example of Control</h4>
<h4 id="from-input-to-game-logic" tabindex="-1" id="From-Input-to-Game-Logic">From Input to Game Logic</h4>
<p><img src="15.59.webp" alt="webp"></p>
<h4 id="control%3A-zoom-in-and-out" tabindex="-1" id="Control-Zoom-in-and-out">Control: Zoom in and out</h4>
<p>​	控制：放大和缩小</p>
<h4 id="control%3A-aim-assist" tabindex="-1" id="Control-Aim-Assist">Control: Aim Assist</h4>
<p>​	控制：瞄准辅助</p>
<p><img src="15.60.webp" alt="webp"></p>
<p>​	让玩家体验更好。如果没有瞄准辅助，有可能因延迟（接受信号输入到逻辑中射弹这段时间）导致玩家无法瞄准。</p>
<h4 id="control%3A-feedback" tabindex="-1" id="Control-Feedback">Control: Feedback</h4>
<p>​	控制：反馈</p>
<p><img src="15.61.webp" alt="webp"></p>
<p>​	一些地方让手柄震动。</p>
<h4 id="control%3A-context-awareness" tabindex="-1" id="Control-Context-Awareness">Control: Context Awareness</h4>
<p>​	控制：情境感知</p>
<h5 id="context-sensitive-controls" tabindex="-1" id="Context-sensitive-controls">Context-sensitive controls</h5>
<p>​	情境敏感控制</p>
<ul>
<li>
<p>The same input button produces different effects in different game scenarios</p>
<p>同一输入按钮在不同的游戏场景中产生不同的效果</p>
</li>
</ul>
<p><img src="15.62.webp" alt="webp"></p>
<h4 id="control%3A-chord-%26-key-sequences" tabindex="-1" id="Control-Chord-Key-Sequences">Control: Chord &amp; Key Sequences</h4>
<p>​	控制：和弦和按键序列</p>
<p><img src="15.63.webp" alt="webp"></p>
<h5 id="chords" tabindex="-1" id="Chords">Chords</h5>
<p>​	和弦</p>
<ul>
<li>
<p>when pressed at the same time, produce a unique behavior in the game</p>
<p>同时按下时，在游戏中产生独特的行为</p>
</li>
</ul>
<h5 id="key-sequences" tabindex="-1" id="Key-Sequences">Key Sequences</h5>
<p>​	按键序列</p>
<ul>
<li>
<p>Gesture detection is generally implemented by keeping a brief history of the HlD actions performed by the player</p>
<p>手势检测通常通过保存玩家执行的 HlD 操作的简要历史记录来实现</p>
</li>
</ul>
<h4 id="camera%3A-subjective-feelings" tabindex="-1" id="Camera-Subjective-Feelings">Camera: Subjective Feelings</h4>
<p>​	相机：主观感受</p>
<p><img src="15.64.webp" alt="webp"></p>
<h4 id="camera-basic%3A-pov-%26-fov" tabindex="-1" id="Camera-Basic-POV-FOV">Camera Basic: POV &amp; FOV</h4>
<p>​	摄像机基础：POV 和 FOV</p>
<h5 id="pov-(point-of-view)" tabindex="-1" id="POV-point-of-view">POV (point of view)</h5>
<p>​	POV（视点）</p>
<ul>
<li>
<p>determines the position of the player to observe</p>
<p>确定玩家观察的位置</p>
</li>
</ul>
<h5 id="fov-(field-of-view)" tabindex="-1" id="FOV-field-of-view">FOV (field of view)</h5>
<p>​	FOV（视野）</p>
<ul>
<li>
<p>determines the size of the player’s viewing Angle</p>
<p>确定玩家视角的大小</p>
</li>
</ul>
<p><img src="15.65.webp" alt="webp"></p>
<h4 id="camera-binding" tabindex="-1" id="Camera-Binding">Camera Binding</h4>
<p>​	摄像机绑定</p>
<p>Using POV and rotation to bind.</p>
<p>​	使用 POV 和旋转进行绑定。</p>
<p><img src="15.66.webp" alt="webp"></p>
<h4 id="camera-control" tabindex="-1" id="Camera-Control">Camera Control</h4>
<p>​	相机控制</p>
<p><img src="15.67.webp" alt="webp"></p>
<p>​	相机与角色的相对位置不应是完全固定。</p>
<h4 id="camera-track" tabindex="-1" id="Camera-Track">Camera Track</h4>
<p>​	相机轨迹</p>
<p><img src="15.68.webp" alt="webp"></p>
<h4 id="camera-effects" tabindex="-1" id="Camera-Effects">Camera Effects</h4>
<p>​	相机特效</p>
<p>Provide the camera with more post-visual effects, such as filters and shake.</p>
<p>​	为相机提供更多后期视觉效果，如滤镜和抖动。</p>
<p><img src="15.69.webp" alt="webp"></p>
<h4 id="many-cameras%3A-camera-manager" tabindex="-1" id="Many-Cameras-Camera-Manager">Many Cameras: Camera Manager</h4>
<p>​	多个摄像机：相机管理</p>
<h4 id="camera%3A-subjective-feelings-1" tabindex="-1" id="Camera-Subjective-Feelings-2">Camera: Subjective Feelings</h4>
<p>​	相机：主观感受</p>
<p>Complex effects are often achieved by multiple base adjustments. To create a sense of speed as an example, we can do:</p>
<p>​	复杂的效果往往需要通过多次基础调整来实现。以营造速度感为例，我们可以这样做：</p>
<ul>
<li>
<p>Add lines in the speed direction</p>
<p>在速度方向上添加线条</p>
</li>
<li>
<p>The character falls backwards</p>
<p>角色向后倒下</p>
</li>
<li>
<p>The dynamic fuzzy</p>
<p>动态模糊</p>
</li>
<li>
<p>Zoom in FOV (to speed up changes in screen content)</p>
<p>放大 FOV（以加快屏幕内容的变化）</p>
</li>
</ul>
<h5 id="loose-feeling" tabindex="-1" id="loose-feeling">loose feeling</h5>
<p>​	放松的感觉</p>
<ul>
<li>
<p>Relax camera movement</p>
<p>放松镜头运动</p>
</li>
</ul>
<p><img src="15.70.webp" alt="webp"></p>
<h5 id="cinematic" tabindex="-1" id="Cinematic">Cinematic</h5>
<p>​	电影</p>
<ul>
<li>
<p>filter, motion, sound, narrator, model, animation, camera movement, …</p>
<p>滤镜、动作、声音、旁白、模型、动画、镜头运动……</p>
</li>
</ul>
<p><img src="15.71.webp" alt="webp"></p>
<h4 id="camera" tabindex="-1" id="Camera">Camera</h4>
<p>​	相机</p>
<p>For artists and designers to optimize the effect:</p>
<p>​	供艺术家和设计师优化效果：</p>
<ul>
<li>
<p>Inheritable classes</p>
<p>可继承的类</p>
</li>
<li>
<p>Function that can be accessed by Blueprint</p>
<p>蓝图可访问的函数</p>
</li>
<li>
<p>Adjustable parameters</p>
<p>可调整的参数</p>
</li>
</ul>
<p><img src="15.72.webp" alt="webp"></p>
<p>Everything is Gameplay.</p>
<h3 id="references" tabindex="-1" id="References">References</h3>
<h4 id="event-mechanism-1" tabindex="-1" id="Event-Mechanism-2">Event Mechanism</h4>
<ul>
<li>Are Callbacks Always Asynchronous: <a target="_blank" rel="noopener" href="https://dev.to/marek/are-callbacks-always-asynchronous-bah">https://dev.to/marek/are-callbacks-always-asynchronous-bah</a></li>
<li>Unreal Engine Documentation Actor Communication: <a target="_blank" rel="noopener" href="https://docs.unrealengine.com/4.27/en-US/ProgrammingAndScripting/ActorCommunication/">https://docs.unrealengine.com/4.27/en-US/ProgrammingAndScripting/ActorCommunication/</a></li>
<li>Publish-subscribe pattern: <a target="_blank" rel="noopener" href="https://ably.com/topic/pub-sub">https://ably.com/topic/pub-sub</a></li>
<li>Unreal Engine Event Dispatcher: <a target="_blank" rel="noopener" href="https://docs.unrealengine.com/4.27/en-US/ProgrammingAndScripting/Blueprints/UserGuide/EventDispatcher/">https://docs.unrealengine.com/4.27/en-US/ProgrammingAndScripting/Blueprints/UserGuide/EventDispatcher/</a></li>
</ul>
<h4 id="script" tabindex="-1" id="Script">Script</h4>
<ul>
<li>A Classification of Scripting Systems for Entertainment and Serious Computer Games, 2011: <a target="_blank" rel="noopener" href="http://eprints.bournemouth.ac.uk/20555/4/vsgames2011postprint.pdfProgramming">http://eprints.bournemouth.ac.uk/20555/4/vsgames2011postprint.pdfProgramming</a></li>
<li>Language and Compiler Benchmarks: <a target="_blank" rel="noopener" href="https://programming-language-benchmarks.vercel.app">https://programming-language-benchmarks.vercel.app</a></li>
<li>Lua official site: <a target="_blank" rel="noopener" href="https://www.lua.org/">https://www.lua.org/</a></li>
<li>LuaJIT official site: <a target="_blank" rel="noopener" href="https://luaiit.org/">https://luaiit.org/</a></li>
<li>Unity C# Scripting Manual: <a target="_blank" rel="noopener" href="https://docs.unity3d.com/Manual/ScriptingSection.html">https://docs.unity3d.com/Manual/ScriptingSection.html</a></li>
<li>Implementing a Scripting Engine: <a target="_blank" rel="noopener" href="https://www.flipcode.com/archives/lmplementing_A_Scripting_Engine-Part_1_Overview.shtml">https://www.flipcode.com/archives/lmplementing_A_Scripting_Engine-Part_1_Overview.shtml</a></li>
<li>Scripting Virtual Machine and Bvtecode: <a target="_blank" rel="noopener" href="http://gameprogrammingpatterns.com/bytecode.html">http://gameprogrammingpatterns.com/bytecode.html</a></li>
</ul>
<h4 id="visual-scripting-1" tabindex="-1" id="Visual-Scripting-2">Visual Scripting</h4>
<ul>
<li>Unreal Engine Blueprints Visual Scripting: <a target="_blank" rel="noopener" href="https://docs.unrealengine.com/5.0/en-US/blueprints-visual-scripting-in-unreal-engine/">https://docs.unrealengine.com/5.0/en-US/blueprints-visual-scripting-in-unreal-engine/</a></li>
<li>Unity Visual Scripting: <a target="_blank" rel="noopener" href="https://unity.com/features/unity-visual-scripting">https://unity.com/features/unity-visual-scripting</a></li>
<li>Programming Language Design: <a target="_blank" rel="noopener" href="https://cs.lmu.edu/~ray/notes/languagedesignnotes">https://cs.lmu.edu/~ray/notes/languagedesignnotes</a></li>
<li>Blueprint Merge Tool: <a target="_blank" rel="noopener" href="https://github.com/KennethBuijssen/MergeAssist">https://github.com/KennethBuijssen/MergeAssist</a></li>
</ul>
<h4 id="gameplay-and-3c" tabindex="-1" id="Gameplay-and-3C">Gameplay and 3C</h4>
<ul>
<li>
<p>Level Up! The Guide to Great Video Game Design 2nd Edition, Scott Rogers, 2014</p>
</li>
<li>
<p>Game Engine Architecture Third Edition, Jason Gregory, 2018</p>
</li>
<li>
<p>The 3Cs of Game Development: <a target="_blank" rel="noopener" href="https://www.pluralsight.com/blog/film-games/character-controlscamera-3cs-game-development">https://www.pluralsight.com/blog/film-games/character-controlscamera-3cs-game-development</a></p>
</li>
</ul>
<h2 id="%E7%AC%AC%E5%8D%81%E5%85%AD%E8%8A%82%EF%BC%9A%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E-gameplay-%E7%8E%A9%E6%B3%95%E7%B3%BB%E7%BB%9F%EF%BC%9A%E5%9F%BA%E7%A1%80-ai" tabindex="-1" id="第十六节：游戏引擎-Gameplay-玩法系统：基础-AI">第十六节：游戏引擎 Gameplay 玩法系统：基础 AI</h2>
<h3 id="basic-artificial-intelligence" tabindex="-1" id="Basic-Artificial-Intelligence">Basic Artificial Intelligence</h3>
<p>​	基础人工智能</p>
<h4 id="outline-of-artificial-intelligence-systems" tabindex="-1" id="Outline-of-Artificial-intelligence-Systems">Outline of Artificial intelligence Systems</h4>
<p>​	人工智能系统概述</p>
<h5 id="al-basic" tabindex="-1" id="Al-Basic">Al Basic</h5>
<p>​	人工智能基础</p>
<ul>
<li>
<p>Navigation</p>
<p>导航</p>
</li>
<li>
<p>Steering</p>
<p>转向</p>
</li>
<li>
<p>Crowd Simulation</p>
<p>人群模拟</p>
</li>
<li>
<p>Sensing</p>
<p>感知</p>
</li>
<li>
<p>Classic Decision Making Algorithms</p>
<p>经典决策算法</p>
</li>
</ul>
<h5 id="advanced-al" tabindex="-1" id="Advanced-Al">Advanced Al</h5>
<p>​	高级人工智能</p>
<ul>
<li>
<p>Planning and Goals</p>
<p>规划和目标</p>
</li>
<li>
<p>Machine Learning</p>
<p>机器学习</p>
</li>
</ul>
<h3 id="navigation" tabindex="-1" id="Navigation">Navigation</h3>
<p>​	导航</p>
<h4 id="navigation-in-games" tabindex="-1" id="Navigation-In-Games">Navigation In Games</h4>
<p>​	游戏中的导航</p>
<p>Find paths from a location to another in an automatic manner</p>
<p>​	自动查找从一个位置到另一个位置的路径</p>
<p><img src="16.1.webp" alt="webp"></p>
<h4 id="navigation-steps" tabindex="-1" id="Navigation-Steps">Navigation Steps</h4>
<p>​	导航三步骤</p>
<p><img src="16.2.webp" alt="webp"></p>
<ul>
<li>
<p>Map representation</p>
<p>地图表示</p>
</li>
<li>
<p>Path finding</p>
<p>路径查找</p>
</li>
<li>
<p>Path smoothing</p>
<p>路径平滑</p>
</li>
</ul>
<h4 id="map-representations---walkable-area" tabindex="-1" id="Map-Representations-Walkable-Area">Map Representations - Walkable Area</h4>
<p>​	地图表示 - 可行走区域</p>
<ul>
<li>
<p>We need to tell Al agents where they can walk - Walkable area</p>
<p>我们需要告诉人工智能代理他们可以走到哪里 - 可行走区域</p>
</li>
<li>
<p>Walkable area of players is determined by character motion capabilities</p>
<p>玩家的可行走区域由角色运动能力决定</p>
<ul>
<li>
<p>Physical Collision</p>
<p>物理碰撞</p>
</li>
<li>
<p>Climbing slope/height</p>
<p>爬坡/高度</p>
</li>
<li>
<p>Jumping distance</p>
<p>跳跃距离</p>
</li>
<li>
<p>…</p>
</li>
</ul>
</li>
<li>
<p>Simulating movement of Al agents as players costs too much</p>
<p>模拟人工智能代理作为玩家的移动成本太高</p>
</li>
<li>
<p>Al agents are still expected to have the same walkable area as players</p>
<p>人工智能代理仍然需要与玩家拥有相同的可行走区域</p>
</li>
</ul>
<h4 id="map-representations---formats" tabindex="-1" id="Map-Representations-Formats">Map Representations - Formats</h4>
<p>​	地图表示 - 格式</p>
<ul>
<li>
<p>Waypoint Network</p>
<p>航点网络</p>
</li>
<li>
<p>Grid</p>
<p>网格</p>
</li>
<li>
<p>Navigation Mesh</p>
<p>导航网格</p>
</li>
<li>
<p>Sparse Voxel Octree</p>
<p>稀疏体素八叉树</p>
</li>
</ul>
<h4 id="waypoint-network" tabindex="-1" id="Waypoint-Network">Waypoint Network</h4>
<p>​	航点网络</p>
<ul>
<li>
<p>Network connecting critical points (waypoints) from the map</p>
<p>连接地图上关键点（航点）的网络</p>
</li>
<li>
<p>Waypoint sources:</p>
<p>航点来源：</p>
<ul>
<li>
<p>Designed important locations（<span style="color: red;">下图中红点</span>）</p>
<p>设计重要位置</p>
</li>
<li>
<p>Corner points to cover walkable area（<span style="color: green;">下图中绿点</span>）</p>
<p>角点覆盖可步行区域</p>
</li>
<li>
<p>Internal points to connect near-by waypointsadding flexibility to navigation（<span style="color: blue;">下图中蓝点</span>）</p>
<p>内部点连接附近的航点，为导航增添灵活性</p>
</li>
</ul>
</li>
</ul>
<p><img src="16.3.webp" alt="webp"></p>
<p>​	魔兽争霸就使用了航点网络。</p>
<p>Usage of waypoint network is similar to subway system</p>
<p>​	航点网络的使用方式与地铁系统类似</p>
<ul>
<li>
<p>Find the nearest points to get on and off the network</p>
<p>查找最近的上下车点</p>
</li>
<li>
<p>Plan the path on the waypoint network</p>
<p>规划航点网络上的路径</p>
</li>
</ul>
<p><img src="16.4.webp" alt="webp"></p>
<p>Pros:</p>
<p>​	优点：</p>
<ul>
<li>
<p>Easy to implement</p>
<p>易于实施</p>
</li>
<li>
<p>Fast path finding, even for large maps</p>
<p>路径查找速度快，即使对于大型地图也是如此</p>
</li>
</ul>
<p>Cons:</p>
<p>​	缺点：</p>
<ul>
<li>
<p>Limited flexibility: must go to the nearest point inthe network before navigation</p>
<p>灵活性有限：导航前必须前往网络中的最近点</p>
</li>
<li>
<p>Waypoint selection requires manual intervention</p>
<p>航点选择需要人工干预</p>
</li>
</ul>
<p><img src="16.5.webp" alt="webp"></p>
<h4 id="grid" tabindex="-1" id="Grid">Grid</h4>
<p>​	网格</p>
<ul>
<li>
<p>Intuitive discretization of map</p>
<p>直观的地图离散化</p>
</li>
<li>
<p>Uniform subdivision into small regular grid shapes</p>
<p>均匀细分为小的规则网格形状</p>
</li>
<li>
<p>Common grid shapes</p>
<p>常见的网格形状</p>
<ul>
<li>
<p>Square</p>
<p>正方形</p>
</li>
<li>
<p>Triangle</p>
<p>三角形</p>
</li>
<li>
<p>Hexagon</p>
<p>六边形</p>
</li>
</ul>
</li>
</ul>
<p><img src="16.6.webp" alt="webp"></p>
<p>​	像文明五这样的六边形网格不易在内存中分配存储空间。</p>
<p>Grid property could be modified in runtime to reflect dynamic environmental changes</p>
<p>​	可以在运行时修改网格属性以反映动态环境变化</p>
<p><img src="16.7.webp" alt="webp"></p>
<p>Pros:</p>
<p>​	优点：</p>
<ul>
<li>
<p>Easy to implement</p>
<p>易于实现</p>
</li>
<li>
<p>Uniform data structure</p>
<p>统一的数据结构</p>
</li>
<li>
<p>Dynamic</p>
<p>动态</p>
</li>
</ul>
<p>Cons:</p>
<p>​	缺点：</p>
<ul>
<li>
<p>Accuracy depends on grid resolution</p>
<p>精度取决于网格分辨率</p>
</li>
<li>
<p>Dense grid lowers pathfinding performance</p>
<p>密集的网格会降低寻路性能</p>
</li>
<li>
<p>High memory consumption</p>
<p>内存消耗高</p>
</li>
<li>
<p><strong>Hard to handle 3D map</strong></p>
<p><strong>难以处理 3D 地图</strong></p>
</li>
</ul>
<p><img src="16.8.webp" alt="webp"></p>
<p>​	导航网络难以处理 3D 地图。</p>
<h4 id="navigation-mesh-(navmesh)" tabindex="-1" id="Navigation-Mesh-NavMesh">Navigation Mesh (NavMesh)</h4>
<p>​	导航网格 (NavMesh)</p>
<ul>
<li>
<p>Solves the problem of representing overlapped walkable areas</p>
<p>解决表示重叠可行走区域的问题</p>
</li>
<li>
<p>Approximates the walkable area of character controller based on physical collision and motion capabilities</p>
<p>根据物理碰撞和运动能力估计角色控制器的可行走区域</p>
</li>
<li>
<p>Lowers network density to boost pathfinding performance</p>
<p>降低网络密度以提高寻路性能</p>
</li>
</ul>
<p><img src="16.9.webp" alt="webp"></p>
<h4 id="navmesh-example" tabindex="-1" id="NavMesh-Example">NavMesh Example</h4>
<p>​	NavMesh 示例</p>
<p>Neighboring 3D convex polygons to represent walkable areas</p>
<p>​	相邻的 3D 凸多边形表示可行走区域</p>
<p><img src="16.10.webp" alt="webp"></p>
<h4 id="convex-polygon-of-navmesh" tabindex="-1" id="Convex-Polygon-of-NavMesh">Convex Polygon of NavMesh</h4>
<p>​	NavMesh 的凸多边形</p>
<p>Why convex polygon?</p>
<p>​	为什么是凸多边形？</p>
<ul>
<li>
<p>Pathfinding generates a series of polygon (<strong>Polygon Corridor</strong>) need to walk through</p>
<p>寻路会生成一系列需要穿过的多边形（<strong>多边形走廊</strong>）</p>
</li>
<li>
<p>Convexity guarantees the final path is limited inthe polygon and two adjacent polygons have onlyone common edge (<strong>Portal</strong>)</p>
<p>凸性保证最终路径仅限于多边形内，并且两个相邻多边形只有一个共同边（<strong>传送门</strong>）</p>
</li>
</ul>
<p><img src="16.11.webp" alt="webp"></p>
<h4 id="navmesh-pros-and-cons" tabindex="-1" id="NavMesh-Pros-and-Cons">NavMesh Pros and Cons</h4>
<p>​	NavMesh 的优缺点</p>
<p>Pros:</p>
<p>​	优点：</p>
<ul>
<li>
<p>Support 3D walkable surface</p>
<p>支持 3D 可行走表面</p>
</li>
<li>
<p>Accurate</p>
<p>准确</p>
</li>
<li>
<p>Fast in pathfinding</p>
<p>寻路速度快</p>
</li>
<li>
<p>Flexible for selection of start/destination</p>
<p>可灵活选择起点/终点</p>
</li>
<li>
<p>Dynamic</p>
<p>动态</p>
</li>
</ul>
<p>Cons:</p>
<p>​	缺点：</p>
<ul>
<li>
<p>Complex generation algorithm</p>
<p>生成算法复杂</p>
</li>
<li>
<p>Not support 3D space</p>
<p>不支持 3D 空间</p>
</li>
</ul>
<p><img src="16.12.webp" alt="webp"></p>
<h4 id="sparse-voxel-octree" tabindex="-1" id="Sparse-Voxel-Octree">Sparse Voxel Octree</h4>
<p>​	稀疏体素八叉树</p>
<ul>
<li>
<p>Represents “flyable” 3D space</p>
<p>表示“可飞行”的 3D 空间</p>
</li>
<li>
<p>Similar to spatial partitioning</p>
<p>类似于空间分区</p>
</li>
<li>
<p>Finest level voxels represents complicated boundary</p>
<p>最精细级别的体素表示复杂边界</p>
</li>
<li>
<p>Coarser-level voxels represents uniform regions</p>
<p>较粗糙级别的体素表示均匀区域</p>
</li>
</ul>
<p><img src="16.13.webp" alt="webp"></p>
<h4 id="path-finding" tabindex="-1" id="Path-Finding">Path Finding</h4>
<p>​	路径查找</p>
<p>Distances in map representations can be abstracted as edge costs in graph</p>
<p>​	地图表示中的距离可以抽象为图中的边成本</p>
<p><img src="16.14.webp" alt="webp"></p>
<p><img src="16.15.webp" alt="webp"></p>
<h4 id="depth-first-search" tabindex="-1" id="Depth-First-Search">Depth-First Search</h4>
<p>​	深度优先搜索</p>
<p>Expand most recently added</p>
<p>​	展开最近添加的</p>
<h4 id="breadth-first-search" tabindex="-1" id="Breadth-First-Search">Breadth-First Search</h4>
<p>​	广度优先搜索</p>
<p>Expand least recently added</p>
<p>​	展开最近最少添加的</p>
<h4 id="dijkstra-algorithm" tabindex="-1" id="Dijkstra-Algorithm">Dijkstra Algorithm</h4>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs lua"><span class="hljs-keyword">for</span> each vertex v:<br>	dist[v] = ∞<br>	prev[v]= none<br>	dist[source]= <span class="hljs-number">0</span><br>set all vertices to unexplored<br><span class="hljs-keyword">while</span> destination <span class="hljs-keyword">not</span> explored:<br>	v = least-valued unexplored vertex<br>	set v to explored<br>    <span class="hljs-keyword">for</span> each edge(v, w):<br>    	<span class="hljs-keyword">if</span> dist[v] + <span class="hljs-built_in">len</span>(v,w) &lt; dist[w]:<br>    		dist[w]= dist[v]+ <span class="hljs-built_in">len</span>(v, w)<br>    		prev[W]=V<br></code></pre></td></tr></table></figure>
<p>​	总是能搜索到图中两点间最短距离。</p>
<h4 id="a-star-(a*)" tabindex="-1" id="A-Star-A">A Star (A*)</h4>
<ul>
<li>
<p>Expand lowest cost in list</p>
<p>扩展列表中成本最低的元素</p>
</li>
<li>
<p>Distance is known distance from source + heuristic</p>
<p>距离是距源的已知距离 + 启发式</p>
</li>
<li>
<p>Greedy: stops when reaches the goal</p>
<p>贪婪：达到目标时停止</p>
</li>
</ul>
<h4 id="a*---cost-calculation" tabindex="-1" id="A-Cost-calculation">A* - Cost calculation</h4>
<p>Cost calculation: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo>(</mo><mi>n</mi><mo>)</mo><mo>=</mo><mi>g</mi><mo>(</mo><mi>n</mi><mo>)</mo><mo>+</mo><mi>h</mi><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">f(n) = g(n) + h(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span><span class="mbin">+</span><span class="mord mathit">h</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span></p>
<p>​	成本计算：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo>(</mo><mi>n</mi><mo>)</mo><mo>=</mo><mi>g</mi><mo>(</mo><mi>n</mi><mo>)</mo><mo>+</mo><mi>h</mi><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">f(n) = g(n) + h(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span><span class="mbin">+</span><span class="mord mathit">h</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span></p>
<ul>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">g(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span>: the exact cost of the path from the start to node <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">g(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span>：从起点到节点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> 的路径的准确成本</p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">h(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">h</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span>: the estimated cost from node <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> to the goal</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">g(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span>：从起点到节点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span> 的路径的准确成本</p>
</li>
</ul>
<p><img src="16.16.webp" alt="webp"></p>
<h4 id="a*---heuristic-on-grids" tabindex="-1" id="A-Heuristic-On-Grids">A* - Heuristic On Grids</h4>
<p>​	A* - 网格启发式算法</p>
<ul>
<li>
<p>For 4 directions of movement, we can use Manhattan distance</p>
<p>对于 4 个移动方向，我们可以使用曼哈顿距离（来计算 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">g(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">h(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">h</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span>）</p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">D_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.02778em;">D</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">1</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>: cost for moving to the adjacent node</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">D_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.02778em;">D</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">1</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>：移动到相邻节点的成本</p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo>(</mo><mi>n</mi><mo>)</mo><mo>=</mo><msub><mi>D</mi><mn>1</mn></msub><mo>⋅</mo><mo>(</mo><msub><mi>d</mi><mi>x</mi></msub><mo>+</mo><msub><mi>d</mi><mi>y</mi></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">h(n)=D_1\cdot(d_x+d_y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord mathit">h</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord"><span class="mord mathit" style="margin-right:0.02778em;">D</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02778em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">1</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">⋅</span><span class="mopen">(</span><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">x</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mclose">)</span></span></span></span></p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>x</mi></msub><mo>=</mo><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>n</mi></msub><mo>−</mo><msub><mi>x</mi><mrow><mi>g</mi><mi>o</mi><mi>a</mi><mi>l</mi></mrow></msub><mi mathvariant="normal">∣</mi><mo separator="true">,</mo><msub><mi>d</mi><mi>y</mi></msub><mo>=</mo><mi mathvariant="normal">∣</mi><msub><mi>y</mi><mi>n</mi></msub><mo>−</mo><msub><mi>y</mi><mrow><mi>g</mi><mi>o</mi><mi>a</mi><mi>l</mi></mrow></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">d_x=|x_n-x_{goal}|, d_y=|y_n-y_{goal}|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">x</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord mathrm">∣</span><span class="mord"><span class="mord mathit">x</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">−</span><span class="mord"><span class="mord mathit">x</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mord mathit">o</span><span class="mord mathit">a</span><span class="mord mathit" style="margin-right:0.01968em;">l</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathrm">∣</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord mathrm">∣</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">−</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mord mathit">o</span><span class="mord mathit">a</span><span class="mord mathit" style="margin-right:0.01968em;">l</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathrm">∣</span></span></span></span></li>
</ul>
</li>
</ul>
<p><img src="16.17.webp" alt="webp"></p>
<h4 id="a*--heuristic-on-navmesh" tabindex="-1" id="A-Heuristic-On-NavMesh">A*- Heuristic On NavMesh</h4>
<p>​	A*- NavMesh 上的启发式方法</p>
<p>Multiple choices when evaluating cost on NavMesh</p>
<p>​	评估 NavMesh 上的成本时有多种选择</p>
<ul>
<li>
<p>Using polygon centers or vertices usually over-estimate the cost</p>
<p>使用多边形中心或顶点通常会高估成本</p>
</li>
<li>
<p>Using hybrid method introduces too many points to check</p>
<p>使用混合方法会引入太多要检查的点</p>
</li>
<li>
<p><strong>Midpoints of edges - a good balance</strong></p>
</li>
</ul>
<p>（选用区域的）<strong>边缘的中点 - 良好的平衡</strong></p>
<p><img src="16.18.webp" alt="webp"></p>
<ul>
<li>
<p>On a navigation mesh that allows any angle ofmovement, use a straight line distance</p>
<p>在允许任意角度移动的导航网格上，使用直线距离</p>
</li>
<li>
<p>Use midpoint of the edge entering the currentnode as node cost calculation point</p>
<p>使用进入当前节点的边缘中点作为节点成本计算点</p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02778em;">D</span></span></span></span>: the cost for moving unit distance in any direction</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02778em;">D</span></span></span></span>：向任意方向移动单位距离的成本</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo>(</mo><mi>n</mi><mo>)</mo><mo>=</mo><mi>D</mi><mo>⋅</mo><msqrt><mrow><msub><mi>d</mi><mi>x</mi></msub><mo>⋅</mo><msub><mi>d</mi><mi>x</mi></msub><mo>+</mo><msub><mi>d</mi><mi>y</mi></msub><mo>⋅</mo><msub><mi>d</mi><mi>y</mi></msub></mrow></msqrt></mrow><annotation encoding="application/x-tex">h(n)=D\cdot\sqrt{d_x\cdot d_x+d_y\cdot d_y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.889171em;"></span><span class="strut bottom" style="height:1.24001em;vertical-align:-0.35083899999999996em;"></span><span class="base textstyle uncramped"><span class="mord mathit">h</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.02778em;">D</span><span class="mbin">⋅</span><span class="sqrt mord"><span class="sqrt-sign" style="top:0.0008289999999999687em;"><span class="style-wrap reset-textstyle textstyle uncramped"><span class="delimsizing size1">√</span></span></span><span class="vlist"><span style="top:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">​</span></span><span class="mord textstyle cramped"><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">x</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">⋅</span><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">x</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">⋅</span><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span><span style="top:-0.809171em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">​</span></span><span class="reset-textstyle textstyle uncramped sqrt-line"></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">​</span></span>​</span></span></span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>x</mi></msub><mo>=</mo><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>n</mi></msub><mo>−</mo><msub><mi>x</mi><mrow><mi>g</mi><mi>o</mi><mi>a</mi><mi>l</mi></mrow></msub><mi mathvariant="normal">∣</mi><mo separator="true">,</mo><msub><mi>d</mi><mi>y</mi></msub><mo>=</mo><mi mathvariant="normal">∣</mi><msub><mi>y</mi><mi>n</mi></msub><mo>−</mo><msub><mi>y</mi><mrow><mi>g</mi><mi>o</mi><mi>a</mi><mi>l</mi></mrow></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">d_x=|x_n-x_{goal}|, d_y=|y_n-y_{goal}|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">x</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord mathrm">∣</span><span class="mord"><span class="mord mathit">x</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">−</span><span class="mord"><span class="mord mathit">x</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mord mathit">o</span><span class="mord mathit">a</span><span class="mord mathit" style="margin-right:0.01968em;">l</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathrm">∣</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord mathrm">∣</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">−</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mord mathit">o</span><span class="mord mathit">a</span><span class="mord mathit" style="margin-right:0.01968em;">l</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathrm">∣</span></span></span></span></li>
</ul>
</li>
</ul>
<p><img src="16.19.webp" alt="webp"></p>
<h4 id="a*-navmesh-walkthrough" tabindex="-1" id="A-NavMesh-Walkthrough">A*-NavMesh Walkthrough</h4>
<p>​	A*-NavMesh 演练</p>
<p><img src="16.20.webp" alt="webp"></p>
<h4 id="a*--heuristic" tabindex="-1" id="A-Heuristic">A*- Heuristic</h4>
<p>​	A*- 启发式</p>
<ul>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">h(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">h</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span> controls <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>A</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">A^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.688696em;"></span><span class="strut bottom" style="height:0.688696em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">A</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">∗</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>'s behavior.</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">h(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">h</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span> 控制 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>A</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">A^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.688696em;"></span><span class="strut bottom" style="height:0.688696em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">A</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">∗</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> 的行为。</p>
</li>
<li>
<p>With 100% accurate estimates, get shortest paths quickly</p>
<p>以 100% 准确的估计，快速获得最短路径</p>
</li>
<li>
<p>Too low, continue to get shortest paths, but slow down</p>
<p>太低，继续获得最短路径，但速度会减慢</p>
</li>
<li>
<p>Too high, exit early without shortest pathBalance between pathfinding speed and accuracy</p>
<p>太高，提前退出，没有最短路径在寻路速度和准确性之间取得平衡</p>
</li>
</ul>
<h4 id="path-smoothing" tabindex="-1" id="Path-Smoothing">Path Smoothing</h4>
<p>​	路径平滑</p>
<ul>
<li>
<p>Why we need path smoothing</p>
<p>为什么我们需要路径平滑</p>
<ul>
<li>
<p>Zigzag, many unnecessary turns</p>
<p>之字形，许多不必要的转弯</p>
</li>
</ul>
</li>
<li>
<p>“String Pulling”- Funnel Algorithm</p>
<p>“拉线”- 漏斗算法</p>
</li>
</ul>
<p><img src="16.21.webp" alt="webp"></p>
<h4 id="path-smoothing-funnel-algorithm" tabindex="-1" id="Path-Smoothing-Funnel-Algorithm">Path Smoothing-Funnel Algorithm</h4>
<p>​	路径平滑漏斗算法</p>
<ul>
<li>
<p>The scope of the funnel is the possible scope of the path</p>
<p>漏斗的范围是路径的可能范围</p>
</li>
<li>
<p>Narrow the funnel if necessary to fit the portal</p>
<p>必要时缩小漏斗以适应门户</p>
</li>
</ul>
<p><img src="16.22.webp" alt="webp"></p>
<p>Terminate when the goal is in the funnel</p>
<p>​	当目标处于漏斗中时终止</p>
<p><img src="16.23.webp" alt="webp"></p>
<h4 id="navmesh-generation-voxelization" tabindex="-1" id="NavMesh-Generation-Voxelization">NavMesh Generation-Voxelization</h4>
<p>​	NavMesh 生成-体素化</p>
<p>Sample collision scene by voxelization</p>
<p>​	通过体素化示例碰撞场景</p>
<p><img src="16.24.webp" alt="webp"></p>
<h4 id="navmesh-generation-region-segmentation" tabindex="-1" id="NavMesh-Generation-Region-Segmentation">NavMesh Generation-Region Segmentation</h4>
<p>​	NavMesh 生成-区域分割</p>
<ul>
<li>
<p>Calculate the distance of each voxel to border</p>
<p>计算每个体素到边界的距离</p>
</li>
<li>
<p>Mark border voxels by AgentRadius to avoid clipping</p>
<p>通过 AgentRadius 标记边界体素以避免剪切</p>
</li>
</ul>
<p><img src="16.25.webp" alt="webp"></p>
<p>Watershed Algorithm</p>
<p>​	分水岭算法</p>
<ul>
<li>
<p>Gradually “flood” the “terrain”</p>
<p>逐渐“淹没”“地形”</p>
</li>
<li>
<p>Form “watershed” (dividing ridge) when “pools” meet</p>
<p>当“水池”相遇时形成“分水岭”（分水岭）</p>
</li>
</ul>
<p><img src="16.26.webp" alt="webp"></p>
<p>Segment the “neighboring&quot; voxels into regions to provide a good basis for polygon mesh</p>
<p>​	将“相邻”体素分割成区域，为多边形网格提供良好的基础</p>
<p><img src="16.27.webp" alt="webp"></p>
<p>Regions don’t have overlapping voxels in 2D</p>
<p>​	区域在 2D 中没有重叠体素</p>
<p><img src="16.28.webp" alt="webp"></p>
<h4 id="navmesh-generation-mesh-generation" tabindex="-1" id="NavMesh-Generation-Mesh-Generation">NavMesh Generation-Mesh Generation</h4>
<p>​	NavMesh 生成-网格生成</p>
<p>Generate NavMesh from segmented regions</p>
<p>​	从分段区域生成 NavMesh</p>
<p><img src="16.29.webp" alt="webp"></p>
<p>​	现在有插件来实现这个。</p>
<h4 id="navmesh-advanced-features-polygon-flag" tabindex="-1" id="NavMesh-Advanced-Features-Polygon-Flag">NavMesh Advanced Features-Polygon Flag</h4>
<p>​	NavMesh 高级功能-多边形标记</p>
<p>Useful for marking terrain types: plains, mountain, water, etc.</p>
<p>​	用于标记地形类型：平原、山脉、水域等。</p>
<ul>
<li>
<p>“Paint colors&quot; to add user-defined regions</p>
<p>“绘制颜色”以添加用户定义的区域</p>
</li>
<li>
<p>Polygons generated from user-defined regions have special flag</p>
<p>从用户定义的区域生成的多边形具有特殊标记</p>
</li>
</ul>
<p><img src="16.30.webp" alt="webp"></p>
<h4 id="navmesh-advanced-features-tile" tabindex="-1" id="NavMesh-Advanced-Features-Tile">NavMesh Advanced Features-Tile</h4>
<p>​	NavMesh 高级功能-Tile</p>
<ul>
<li>
<p>Fast for responding to dynamic objects</p>
<p>快速响应动态对象</p>
</li>
<li>
<p>Avoid rebuilding the entire NavMesh</p>
<p>避免重建整个 NavMesh</p>
</li>
<li>
<p>TileSize - trade-off between pathfinding and dynamic rebuilding performance</p>
<p>TileSize- 寻路和动态重建性能之间的权衡</p>
</li>
</ul>
<p><img src="16.31.webp" alt="webp"></p>
<p>​	在游戏中，导航网络可能会发生变化。</p>
<h3 id="navmesh-advanced-features-off-mesh-link" tabindex="-1" id="NavMesh-Advanced-Features-Off-mesh-Link">NavMesh Advanced Features-Off-mesh Link</h3>
<p>​	NavMesh 高级功能-网格外链接</p>
<p>Allow agents to jump or teleport</p>
<p>​	允许代理跳跃或传送</p>
<p><img src="16.32.webp" alt="webp"></p>
<h3 id="steering" tabindex="-1" id="Steering">Steering</h3>
<p>​	转向</p>
<h4 id="from-path-to-motion" tabindex="-1" id="From-Path-to-Motion">From Path to Motion</h4>
<p>​	从路径到运动</p>
<ul>
<li>
<p>Cars cannot follow planned path exactly</p>
<p>汽车无法完全遵循计划的路径（车辆具有转向半径）</p>
</li>
<li>
<p>Motion of cars are limited by theirs motion abilities:</p>
<p>汽车的运动受到其运动能力的限制：</p>
<ul>
<li>
<p>Linear acceleration (throttle/brake)</p>
<p>线性加速度（油门/刹车）</p>
</li>
<li>
<p>Angular acceleration (steering force)</p>
<p>角加速度（转向力）</p>
</li>
</ul>
</li>
<li>
<p>Motion needs to be adjusted according to the limits</p>
<p>运动需要根据限制进行调整</p>
</li>
</ul>
<p><img src="16.33.webp" alt="webp"></p>
<h4 id="steering-behaviors" tabindex="-1" id="Steering-Behaviors">Steering Behaviors</h4>
<p>​	转向行为</p>
<p><img src="16.34.webp" alt="webp"></p>
<ul>
<li>
<p>Seek / Flee</p>
<p>寻找 / 逃跑</p>
</li>
<li>
<p>Velocity Match</p>
<p>速度匹配（从起点出发加速，减速到终点停止）</p>
</li>
<li>
<p>Align</p>
<p>对齐（让车头朝着某个方向）</p>
</li>
</ul>
<h4 id="seek%2Fflee" tabindex="-1" id="Seek-Flee">Seek/Flee</h4>
<p>​	寻找/逃跑</p>
<p>Steer the agent towards / away from the target</p>
<p>​	引导代理朝向/远离目标</p>
<ul>
<li>
<p>Position matching in the nature</p>
<p>自然中的位置匹配</p>
</li>
<li>
<p>Accelerate with max acceleration towards / away from the target</p>
<p>以最大加速度朝向/远离目标加速</p>
</li>
<li>
<p>Will oscillate around the target</p>
<p>会围绕目标振荡</p>
</li>
<li>
<p>Input:</p>
<p>输入：</p>
<ul>
<li>
<p>Self position</p>
<p>自身位置</p>
</li>
<li>
<p>Target position</p>
<p>目标位置</p>
</li>
</ul>
</li>
<li>
<p>Output:</p>
<p>输出：</p>
<ul>
<li>
<p>Acceleration</p>
<p>加速度</p>
</li>
</ul>
</li>
</ul>
<p><img src="16.35.webp" alt="webp"></p>
<h4 id="seek-%2F-flee-variations" tabindex="-1" id="Seek-Flee-Variations">Seek / Flee Variations</h4>
<p>​	寻找 / 逃离变体</p>
<p>Modifying the target in runtime can generate new steering behaviors</p>
<p>​	在运行时修改目标可以生成新的转向行为</p>
<p><img src="16.36.webp" alt="webp"></p>
<ul>
<li>
<p>Pursue</p>
<p>追寻</p>
</li>
<li>
<p>Path Following</p>
<p>路径跟随</p>
</li>
<li>
<p>Wander</p>
<p>漫游</p>
</li>
<li>
<p>Flow Field Following</p>
<p>流场跟随</p>
</li>
</ul>
<h4 id="velocity-match" tabindex="-1" id="Velocity-Match">Velocity Match</h4>
<p>​	速度匹配</p>
<p>Matches the target velocity</p>
<p>​	匹配目标速度</p>
<ul>
<li>
<p>Calculate acceleration from matching time and velocity differences</p>
<p>根据匹配时间和速度差异计算加速度</p>
</li>
<li>
<p>Clamp the acceleration by maximum acceleration of agents</p>
<p>通过代理的最大加速度限制加速度</p>
</li>
<li>
<p>Input:</p>
<p>输入：</p>
<ul>
<li>
<p>Target velocity</p>
<p>目标速度</p>
</li>
<li>
<p>Self velocity</p>
<p>自身速度</p>
</li>
<li>
<p>Matching time</p>
<p>匹配时间</p>
</li>
</ul>
</li>
<li>
<p>Output:</p>
<p>输出：</p>
<ul>
<li>
<p>Acceleration</p>
<p>加速度</p>
</li>
</ul>
</li>
</ul>
<h4 id="align" tabindex="-1" id="Align">Align</h4>
<p>​	对齐</p>
<p>Matches target orientation</p>
<p>​	匹配目标方向</p>
<ul>
<li>
<p>Input:</p>
<p>输入：</p>
<ul>
<li>
<p>Target orientation</p>
<p>目标方向</p>
</li>
<li>
<p>Self orientation</p>
<p>自我定位</p>
</li>
</ul>
</li>
<li>
<p>Output:</p>
<p>输出：</p>
<ul>
<li>
<p>Angular acceleration</p>
<p>角加速度</p>
</li>
</ul>
</li>
</ul>
<p><img src="16.37.webp" alt="webp"></p>
<h3 id="crowd-simulation" tabindex="-1" id="Crowd-Simulation">Crowd Simulation</h3>
<p>​	人群模拟</p>
<h4 id="crowd" tabindex="-1" id="Crowd">Crowd</h4>
<p>​	人群</p>
<p>A large group of individuals share information in the same environment alone or in a group</p>
<p>​	一大群人单独或成群地在同一环境中分享信息</p>
<ul>
<li>
<p>Collision avoidance</p>
<p>避免碰撞</p>
</li>
<li>
<p>Swarming</p>
<p>蜂拥</p>
</li>
<li>
<p>Motion in formation</p>
<p>形成队列运动</p>
</li>
<li>
<p>…</p>
</li>
</ul>
<p><img src="16.38.webp" alt="webp"></p>
<h4 id="crowd-simulation-models" tabindex="-1" id="Crowd-Simulation-Models">Crowd Simulation Models</h4>
<p>​	人群模拟模型</p>
<ul>
<li>
<p>Started from “Boids” system of Reynolds</p>
<p>从雷诺的 “Boids” 系统开始</p>
</li>
<li>
<p>Three families of models:</p>
<p>三个模型系列：</p>
<ul>
<li>
<p>Microscopic models</p>
<p>微观模型</p>
<ul>
<li>
<p>“Bottom-Up”</p>
<p>“自下而上”</p>
</li>
<li>
<p>Focus on individuals</p>
<p>关注个体</p>
</li>
</ul>
</li>
<li>
<p>Macroscopic models</p>
<p>宏观模型</p>
<ul>
<li>
<p>Crowd as a unified and continuous entity</p>
<p>人群作为一个统一且连续的实体</p>
</li>
</ul>
</li>
<li>
<p>Mesoscopic models</p>
<p>中观模型</p>
<ul>
<li>
<p>Divide the crowd into groups</p>
<p>将人群分成几组</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="microscopic-models-rule-based-models" tabindex="-1" id="Microscopic-Models-Rule-based-Models">Microscopic Models-Rule-based Models</h4>
<p>​	微观模型-基于规则的模型</p>
<p>Flock dynamics of animal crowds as an emergent behavior by modeling motion of each individuals with simple predefined rules:</p>
<p>​	通过使用简单的预定义规则对每个个体的运动进行建模，将动物群体的群体动态视为一种突发行为：</p>
<ul>
<li>
<p>Separation: to steer away from all of its neighbors</p>
<p>分离：远离所有邻居</p>
</li>
<li>
<p>Cohesion: to steer towards the “center of mass”</p>
<p>凝聚：转向“重心”</p>
</li>
<li>
<p>Alignment: to line up with agents close by</p>
<p>对齐：与附近的代理对齐</p>
</li>
</ul>
<p><img src="16.39.webp" alt="webp"></p>
<ul>
<li>
<p>Separation</p>
<p>分离</p>
</li>
<li>
<p>Cohesion</p>
<p>凝聚</p>
</li>
<li>
<p>Alignment</p>
<p>对齐</p>
</li>
</ul>
<p><img src="16.40.webp" alt="webp"></p>
<p>Easy to implement, but not suitable to simulate complex behavior rules.</p>
<p>​	易于实现，但不适合模拟复杂的行为规则。</p>
<h4 id="macroscopic-models" tabindex="-1" id="Macroscopic-Models">Macroscopic Models</h4>
<p>​	宏观模型</p>
<p>Simulate crowd motion from a macro perspective</p>
<p>​	从宏观角度模拟人群运动</p>
<ul>
<li>
<p>Treat the crowd as a unified and continuous entity</p>
<p>将人群视为统一且连续的实体（避免逐个计算影响性能）</p>
</li>
<li>
<p>Control motions with potential field or fluid dynamics</p>
<p>用势场或流体动力学控制运动</p>
</li>
<li>
<p>Does not consider interactions between individualsand the environment in individual level</p>
<p>不考虑个体与环境在个体层面上的相互作用</p>
</li>
</ul>
<p><img src="16.41.webp" alt="webp"></p>
<h4 id="mesoscopic-models" tabindex="-1" id="Mesoscopic-Models">Mesoscopic Models</h4>
<p>​	中观模型</p>
<p>Simulate crowd motion taking care of both details and the whole</p>
<p>​	模拟人群运动，兼顾细节和整体</p>
<ul>
<li>
<p>Divide the crowd into groups</p>
<p>将人群分成几组</p>
</li>
<li>
<p>Deals with interactions between groups and individuals in each group</p>
<p>处理群体之间以及每个群体中个人之间的互动</p>
</li>
<li>
<p>combinations of microscopic models and formation rules or psychological models</p>
<p>微观模型与形成规则或心理模型的组合</p>
</li>
</ul>
<p><img src="16.42.webp" alt="webp"></p>
<h4 id="collision-avoidance-force-based-models" tabindex="-1" id="Collision-Avoidance-Force-based-Models">Collision Avoidance-Force-based Models</h4>
<p>​	基于防撞力的模型</p>
<ul>
<li>
<p>A mixture of socio-psychological and physical forces influencing the behavior in a crowd</p>
<p>影响人群行为的社会心理和物理力量的混合</p>
</li>
<li>
<p>The actual movement of an individual depends on the desired velocity and its interaction with the environment</p>
<p>个人的实际运动取决于所需速度及其与环境的相互作用</p>
</li>
<li>
<p>Can simulate dynamical features of escape crowd panic</p>
<p>可以模拟逃离人群恐慌的动态特征</p>
</li>
</ul>
<p><img src="16.43.webp" alt="webp"></p>
<p>Pros:</p>
<p>​	优点：</p>
<ul>
<li>
<p>can be extended to simulate more emergent behaviors of human crowds</p>
<p>可以扩展以模拟更多人群突发行为</p>
</li>
</ul>
<p>Cons:</p>
<p>​	缺点：</p>
<ul>
<li>
<p>Similar to physics simulation, simulation step should be small enough</p>
<p>与物理模拟类似，模拟步骤应该足够小</p>
</li>
</ul>
<p><img src="16.44.webp" alt="webp"></p>
<h4 id="collision-avoidance-velocity-based-models" tabindex="-1" id="Collision-Avoidance-Velocity-based-models">Collision Avoidance-Velocity-based models</h4>
<p>​	碰撞避免-基于速度的模型</p>
<p>Consider the neighbor information to make decisions in velocity space</p>
<p>​	考虑邻居信息以在速度空间中做出决策</p>
<ul>
<li>
<p>able to simulate in local space</p>
<p>能够在局部空间中进行模拟</p>
</li>
<li>
<p>applied to collision avoidance</p>
<p>应用于碰撞避免</p>
</li>
</ul>
<p>Reciprocal Velocity obstacle methods-Current standard collision avoidance algorithms</p>
<p>​	相互速度障碍方法-当前标准碰撞避免算法</p>
<ul>
<li>
<p>Velocity Obstacle (VO)</p>
<p>速度障碍 (VO)</p>
</li>
<li>
<p>Reciprocal Velocity Obstacle (RVO)</p>
<p>相互速度障碍 (RVO)</p>
</li>
<li>
<p>Optimal Reciprocal Collision Avoidance (ORCA)</p>
<p>最佳相互碰撞避免 (ORCA)</p>
</li>
</ul>
<p><img src="16.45.webp" alt="webp"></p>
<h4 id="velocity-obstacle-(vo)" tabindex="-1" id="Velocity-obstacle-VO">Velocity obstacle (VO)</h4>
<p>​	速度障碍 (VO)</p>
<ul>
<li>
<p>Calculate its own dodge velocity, assuming other agent is unresponsive</p>
<p>假设其他代理没有响应，计算自己的躲避速度</p>
</li>
<li>
<p>Appropriate for static and unresponsive obstacles</p>
<p>适用于静态和无响应的障碍物</p>
</li>
<li>
<p>Overshoot</p>
<p>超调</p>
</li>
<li>
<p>Causes oscillation between two agents attempting to avoid each other</p>
<p>导致两个试图相互避开的代理之间发生振荡</p>
</li>
</ul>
<p><img src="16.46.webp" alt="webp"></p>
<h4 id="reciprocal-velocity-obstacle-(rvo)" tabindex="-1" id="Reciprocal-Velocity-Obstacle-RVO">Reciprocal Velocity Obstacle (RVO)</h4>
<p>​	相互速度障碍 (RVO)</p>
<ul>
<li>
<p>Assuming the other agent is using the same decision process (mutually cooperating)</p>
<p>假设其他代理使用相同的决策过程（相互合作）</p>
</li>
<li>
<p>Both sides move half way out of the way ofa collision</p>
<p>双方都向半路移动以避免碰撞</p>
</li>
<li>
<p>Only guarantees no oscillation and avoidance for two agents</p>
<p>仅保证两个代理不会发生振荡和避免碰撞</p>
</li>
</ul>
<p>Optimal Reciprocal Collision Avoidance (ORCA)</p>
<p>​	最佳相互碰撞避免 (ORCA)</p>
<p><img src="16.47.webp" alt="webp"></p>
<h3 id="sensing" tabindex="-1" id="Sensing">Sensing</h3>
<p>​	传感</p>
<h4 id="sensing-or-perception" tabindex="-1" id="Sensing-or-Perception">Sensing or Perception</h4>
<p>​	传感或感知</p>
<p><img src="16.48.webp" alt="webp"></p>
<h4 id="internal-information" tabindex="-1" id="Internal-Information">Internal Information</h4>
<p>​	内部信息</p>
<ul>
<li>
<p>Information of the agent itself</p>
<p>agent 本身的信息</p>
<ul>
<li>
<p>Position</p>
<p>位置</p>
</li>
<li>
<p>HP</p>
<p>生命值</p>
</li>
<li>
<p>Armor status</p>
<p>护甲状态</p>
</li>
<li>
<p>Buff status</p>
<p>增益状态</p>
</li>
<li>
<p>…</p>
</li>
</ul>
</li>
<li>
<p>Can be accessed freely</p>
<p>可自由访问</p>
</li>
</ul>
<h4 id="static-spatial-information" tabindex="-1" id="Static-Spatial-information">Static Spatial information</h4>
<p>​	静态空间信息</p>
<p><img src="16.49.webp" alt="webp"></p>
<ul>
<li>
<p>Navigation Data</p>
<p>导航数据</p>
</li>
<li>
<p>Tactical Map</p>
<p>战术地图</p>
</li>
<li>
<p>Smart Object</p>
<p>智能对象</p>
</li>
<li>
<p>Cover Point</p>
<p>掩护点</p>
</li>
</ul>
<h4 id="dynamic-spatial-information-(1%2F2)---influence-map" tabindex="-1" id="Dynamic-Spatial-information-1-2-influence-Map">Dynamic Spatial information (1/2) - influence Map</h4>
<p>​	动态空间信息（1/2）- 影响力地图</p>
<p><img src="16.50.webp" alt="webp"></p>
<h4 id="dynamic-spatial-information-(2%2F2)---game-objects" tabindex="-1" id="Dynamic-Spatial-Information-2-2-Game-Objects">Dynamic Spatial Information (2/2) - Game Objects</h4>
<p>​	动态空间信息 (2/2) - 游戏对象</p>
<ul>
<li>
<p>Information being sensed from a character</p>
<p>从角色感知到的信息</p>
</li>
<li>
<p>Multiple character information can exist for a single character as it can be sensed by multiple agents</p>
<p>单个角色可以存在多个角色信息，因为它可以被多个代理感知</p>
</li>
<li>
<p>Usually contains:</p>
<p>通常包含：</p>
<ul>
<li>
<p>Game Object lD</p>
<p>游戏对象 ID</p>
</li>
<li>
<p>Visibility</p>
<p>可见性</p>
</li>
<li>
<p>Last Sensed Method</p>
<p>最后感知的方法</p>
</li>
<li>
<p>Last Sensed Position</p>
<p>最后感知的位置</p>
</li>
</ul>
</li>
</ul>
<h4 id="sensing-simulation" tabindex="-1" id="Sensing-Simulation">Sensing Simulation</h4>
<p>​	传感模拟</p>
<ul>
<li>
<p>Light, sound, and odor travels in space</p>
<p>光、声音和气味在空间中传播</p>
</li>
<li>
<p>Have max traveling range</p>
<p>具有最大传播范围</p>
</li>
<li>
<p>Attenuates in space and time with different patterns</p>
<p>以不同的模式在空间和时间中衰减</p>
<ul>
<li>
<p>Sight is blocked by obstacles</p>
<p>视线被障碍物阻挡</p>
</li>
<li>
<p>Smelling ranges shrinks over time</p>
<p>嗅觉范围随时间缩小</p>
</li>
</ul>
</li>
<li>
<p>Radiating field can simulate sensing signals</p>
<p>辐射场可以模拟传感信号</p>
<ul>
<li>
<p>Can be simplified as Influence Map</p>
<p>可以简化为影响图</p>
</li>
<li>
<p>Agents covered by the field can sense the information</p>
<p>场覆盖的代理可以感知信息</p>
</li>
</ul>
</li>
</ul>
<p><img src="16.51.webp" alt="webp"></p>
<h3 id="classic-decision-making-algorithms" tabindex="-1" id="Classic-Decision-Making-Algorithms">Classic Decision Making Algorithms</h3>
<p>​	经典决策算法</p>
<h4 id="decision-making-algorithms" tabindex="-1" id="Decision-Making-Algorithms">Decision Making Algorithms</h4>
<p>​	决策算法</p>
<ul>
<li>
<p>Finite State Machine</p>
<p>有限状态机</p>
</li>
<li>
<p>Behavior Tree</p>
<p>行为树</p>
</li>
<li>
<p>Hierarchical Tasks Network</p>
<p>分层任务网络</p>
</li>
<li>
<p>Goal Oriented Action Planning</p>
<p>目标导向行动规划</p>
</li>
<li>
<p>Monte Carlo Tree Search</p>
<p>蒙特卡洛树搜索</p>
</li>
<li>
<p>Deep Learning</p>
<p>深度学习</p>
</li>
</ul>
<h4 id="finite-state-machine" tabindex="-1" id="Finite-State-Machine">Finite State Machine</h4>
<p>​	有限状态机</p>
<ul>
<li>
<p>Change from one State to another according to some Conditions</p>
<p>根据某些条件从一个状态变为另一个状态</p>
</li>
<li>
<p>The change from one state to another is called a Transition</p>
<p>从一个状态到另一个状态的改变称为转换</p>
</li>
</ul>
<p><img src="16.52.webp" alt="webp"></p>
<p><img src="16.53.webp" alt="webp"></p>
<p>​	游戏 AI 经典案例——吃豆人。</p>
<h4 id="finite-state-machine---pros-%26-cons" tabindex="-1" id="Finite-State-Machine-Pros-Cons">Finite State Machine - Pros &amp; Cons</h4>
<p>​	有限状态机 - 优点和缺点</p>
<p>Pros:</p>
<p>​	优点：</p>
<ul>
<li>
<p>Easy to implement</p>
<p>易于实现</p>
</li>
<li>
<p>Easy to understand</p>
<p>易于理解</p>
</li>
<li>
<p>Very fast to deal with simple case</p>
<p>处理简单情况非常快</p>
</li>
</ul>
<p>Cons:</p>
<p>​	缺点：</p>
<ul>
<li>
<p>Maintainability is bad, especially add or remove state</p>
<p>可维护性差，尤其是添加或删除状态</p>
</li>
<li>
<p>Reusability is bad, can’t used in other projects or characters</p>
<p>可重用性差，不能用于其他项目或角色</p>
</li>
<li>
<p>Scalability is bad, hard to modify for complicated case</p>
<p>可扩展性差，复杂情况下难以修改</p>
</li>
</ul>
<p><img src="16.54.webp" alt="webp"></p>
<h4 id="hierarchical-finite-state-machine-(hfsm)" tabindex="-1" id="Hierarchical-Finite-State-Machine-HFSM">Hierarchical Finite State Machine (HFSM)</h4>
<p>​	分层有限状态机 (HFSM)</p>
<p>Tradeoff between reactivity and modularity</p>
<p>​	反应性和模块化之间的权衡</p>
<ul>
<li>
<p>Reactivity: the ability to quickly and efficiently react to changes</p>
<p>反应性：快速高效地对变化做出反应的能力</p>
</li>
<li>
<p>Modularity: the degree to which a system’s components may be separated into building blocks, and recombined</p>
<p>模块化：系统组件可分离成构建块并重新组合的程度</p>
</li>
</ul>
<p><img src="16.55.webp" alt="webp"></p>
<h3 id="behavior-tree-(bt)" tabindex="-1" id="Behavior-Tree-BT">Behavior Tree (BT)</h3>
<h4 id="behavior-tree" tabindex="-1" id="Behavior-Tree">Behavior Tree</h4>
<h5 id="focus-on-state-abstraction-and-transition-conditions" tabindex="-1" id="Focus-on-state-abstraction-and-transition-conditions">Focus on state abstraction and transition conditions</h5>
<p>​	关注状态抽象和转换条件</p>
<p><img src="16.56.webp" alt="webp"></p>
<h5 id="similar-to-human-thinking%3A" tabindex="-1" id="Similar-to-human-thinking">Similar to human thinking:</h5>
<p>​	类似于人类的思维：</p>
<ul>
<li>
<p>If ghost close, run away</p>
<p>如果鬼靠近，就逃跑</p>
</li>
<li>
<p>But if I’m powerful, chase it</p>
<p>但如果我很强大，就去追它</p>
</li>
<li>
<p>Otherwise, eating</p>
<p>否则，就吃</p>
</li>
</ul>
<p><img src="16.57.webp" alt="webp"></p>
<h4 id="behavior-tree---execution-nodes" tabindex="-1" id="Behavior-Tree-Execution-Nodes">Behavior Tree - Execution Nodes</h4>
<p>​	行为树 - 执行节点</p>
<p>Execution node (leaf node)</p>
<p>​	执行节点（叶节点）</p>
<ul>
<li>
<p>Condition node</p>
<p>条件节点</p>
</li>
<li>
<p>Action node</p>
<p>动作节点</p>
</li>
</ul>
<p><img src="16.58.webp" alt="webp"></p>
<h4 id="behavior-tree---control-nodes" tabindex="-1" id="Behavior-Tree-Control-Nodes">Behavior Tree - Control Nodes</h4>
<p>​	行为树-控制节点</p>
<h5 id="control-flow-node-(internal-node)" tabindex="-1" id="Control-flow-node-internal-node">Control flow node (internal node)</h5>
<p>​	控制流节点（内部节点）</p>
<ul>
<li>
<p>Control flow determined by the return value of child nodes</p>
<p>控制流由子节点的返回值决定</p>
</li>
<li>
<p>Each node has a return value which is success failure or running</p>
<p>每个节点都有一个返回值，即成功、失败或正在运行</p>
</li>
</ul>
<p><img src="16.59.webp" alt="webp"></p>
<h4 id="control-node-sequence-(1%2F2)" tabindex="-1" id="Control-Node-Sequence-1-2">Control Node-Sequence (1/2)</h4>
<p>​	控制节点顺序 (1/2)</p>
<ul>
<li>
<p>Order</p>
<p>顺序</p>
<ul>
<li>
<p>Execute children from left to right</p>
<p>从左到右执行子节点</p>
</li>
</ul>
</li>
<li>
<p>Stop Condition and Return Value</p>
<p>停止条件和返回值</p>
<ul>
<li>
<p>until one child returns Failure or Running then return value accordingly</p>
<p>直到一个子节点返回失败或正在运行，然后相应地返回值</p>
</li>
<li>
<p>or all children return Success, then return Success</p>
<p>或所有子节点都返回成功，然后返回成功</p>
</li>
</ul>
</li>
<li>
<p>lf Stop and Return Running</p>
<p>如果停止并返回正在运行</p>
<ul>
<li>
<p>the next execution will start from the running action</p>
<p>下一次执行将从正在运行的操作开始</p>
</li>
</ul>
</li>
</ul>
<p><img src="16.60.webp" alt="webp"></p>
<h4 id="control-node-sequence-(2%2F2)" tabindex="-1" id="Control-Node-Sequence-2-2">Control Node-Sequence (2/2)</h4>
<h5 id="sequence" tabindex="-1" id="Sequence">Sequence</h5>
<p>​	序列</p>
<ul>
<li>
<p>Allows designers to make a “plan”</p>
<p>允许设计师制定“计划”</p>
</li>
</ul>
<p><img src="16.61.webp" alt="webp"></p>
<h4 id="control-node-selector-(1%2F2)" tabindex="-1" id="Control-Node-Selector-1-2">Control Node-Selector (1/2)</h4>
<p>​	控制节点选择器 (1/2)</p>
<ul>
<li>
<p>Order</p>
<p>顺序</p>
<ul>
<li>
<p>Execute children from left to right</p>
<p>从左到右执行子节点</p>
</li>
</ul>
</li>
<li>
<p>Stop Condition and Return Value</p>
<p>停止条件和返回值</p>
<ul>
<li>
<p>until one child returns Success or Running, then return value accordingly</p>
<p>直到一个子节点返回 Success 或 Running，然后相应地返回值</p>
</li>
<li>
<p>or all children return Failure, then return Failure</p>
<p>或所有子节点都返回 Failure，然后返回 Failure</p>
</li>
</ul>
</li>
<li>
<p>If Stop and Return Runningthe next execution will start from the runningaction</p>
<p>如果 Stop 并 Return Running，则下一次执行将从 running 操作开始</p>
</li>
</ul>
<p><img src="16.62.webp" alt="webp"></p>
<h4 id="control-node-selector-(2%2F2)" tabindex="-1" id="Control-Node-Selector-2-2">Control Node-Selector (2/2)</h4>
<p>​	控制节点选择器 (2/2)</p>
<h5 id="selector" tabindex="-1" id="Selector">Selector</h5>
<p>​	选择器</p>
<ul>
<li>
<p>Could select one action to do response to different environment</p>
<p>可以选择一个动作来响应不同的环境</p>
</li>
<li>
<p>Could do the right thing according to priority</p>
<p>可以根据优先级做正确的事情</p>
</li>
</ul>
<p><img src="16.63.webp" alt="webp"></p>
<h4 id="control-node--parallel-(1%2F2)" tabindex="-1" id="Control-Node-Parallel-1-2">Control Node- Parallel (1/2)</h4>
<p>​	控制节点 - 并行 (1/2)</p>
<ul>
<li>
<p>Order</p>
<p>顺序</p>
<ul>
<li>
<p>Logically execute all children simultaneously</p>
<p>逻辑上同时执行所有子节点</p>
</li>
</ul>
</li>
<li>
<p>Stop Condition and Return Value</p>
<p>停止条件和返回值</p>
<ul>
<li>
<p>Return Success when at least M childnodes (between 1 and N) have succeeded</p>
<p>当至少 M 个子节点（介于 1 和 N 之间）成功时返回成功</p>
</li>
<li>
<p>Return Failure when at least N - M + 1 child nodes (between 1 and N) have failed</p>
<p>当至少 N - M + 1 个子节点（介于 1 和 N 之间）失败时返回失败</p>
</li>
<li>
<p>Otherwise return Running</p>
<p>否则返回正在运行</p>
</li>
</ul>
</li>
<li>
<p>If Stop and Return Running</p>
<p>如果停止并返回正在运行</p>
</li>
<li>
<p>the next execution will start from the running actions</p>
<p>下一次执行将从正在运行的操作开始</p>
</li>
</ul>
<p><img src="16.64.webp" alt="webp"></p>
<h4 id="control-node---parallel-(2%2F2)" tabindex="-1" id="Control-Node-Parallel-2-2">Control Node - Parallel (2/2)</h4>
<p>​	控制节点 - 并行 (2/2)</p>
<h5 id="parallel" tabindex="-1" id="Parallel">Parallel</h5>
<p>​	并行</p>
<ul>
<li>
<p>Could do multiple things “at the same time”</p>
<p>可以同时做多件事</p>
</li>
</ul>
<p><img src="16.65.webp" alt="webp"></p>
<h4 id="behavior-tree-1" tabindex="-1" id="Behavior-Tree-2">Behavior Tree</h4>
<p>​	行为树</p>
<h5 id="execution-nodes" tabindex="-1" id="Execution-nodes">Execution nodes</h5>
<p>​	执行节点</p>
<ul>
<li>
<p>Action</p>
<p>操作</p>
</li>
<li>
<p>Condition</p>
<p>条件</p>
</li>
</ul>
<h5 id="control-flow-nodes" tabindex="-1" id="Control-flow-nodes">Control flow nodes</h5>
<p>​	控制流节点</p>
<ul>
<li>
<p>Sequence</p>
<p>序列</p>
</li>
<li>
<p>Selector</p>
<p>选择器</p>
</li>
<li>
<p>Parallel</p>
<p>并行</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Node Type</th>
<th>Symbol</th>
<th>Succeeds</th>
<th>Fails</th>
<th>Running</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sequence</td>
<td><img src="16.66.webp" alt="webp"></td>
<td>If all children succeed</td>
<td>lf one child fails</td>
<td>If one child returns Running</td>
</tr>
<tr>
<td>Selector</td>
<td><img src="16.67.webp" alt="webp"></td>
<td>If one child succeeds</td>
<td>If all children fail</td>
<td>If one child returns Running</td>
</tr>
<tr>
<td>Parallel</td>
<td><img src="16.68.webp" alt="webp"></td>
<td>If ≥ M children succeed</td>
<td>If &gt; N - M children fail</td>
<td>else</td>
</tr>
<tr>
<td>Condition</td>
<td><img src="16.69.webp" alt="webp"></td>
<td>Upon completion</td>
<td>If impossible to complete</td>
<td>During completion</td>
</tr>
<tr>
<td>Action</td>
<td><img src="16.70.webp" alt="webp"></td>
<td>lf true</td>
<td>If false</td>
<td>Never</td>
</tr>
</tbody>
</table>
<h4 id="tick-a-behavior-tree" tabindex="-1" id="Tick-a-Behavior-Tree">Tick a Behavior Tree</h4>
<p>​	勾选行为树</p>
<ul>
<li>
<p>The tick of BT is like thinking</p>
<p>BT 的勾选就像思考</p>
</li>
<li>
<p>Every tick start from root node</p>
<p>每次勾选都从根节点开始</p>
</li>
<li>
<p>Go through different nodes from up to down, left to right</p>
<p>从上到下、从左到右遍历不同的节点</p>
</li>
<li>
<p>Each node must return failure, success or running</p>
<p>每个节点必须返回失败、成功或正在运行</p>
</li>
</ul>
<p><img src="16.71.webp" alt="webp"></p>
<h4 id="behavior-tree-decorator-(1%2F2)" tabindex="-1" id="Behavior-Tree-Decorator-1-2">Behavior Tree-Decorator (1/2)</h4>
<p>​	行为树装饰器 (1/2)</p>
<h5 id="decorator" tabindex="-1" id="Decorator">Decorator</h5>
<p>​	装饰器</p>
<ul>
<li>
<p>A special kind of control node with a single child node</p>
<p>一种特殊的控制节点，只有一个子节点</p>
</li>
<li>
<p>Usually some behavior pattern which is commonly used</p>
<p>通常是一些常用的行为模式</p>
</li>
</ul>
<p><img src="16.72.webp" alt="webp"></p>
<ul>
<li>For example, some common policies:
<ul>
<li>Loop execution</li>
<li>Execute once</li>
<li>Timer</li>
<li>Time Limiter</li>
<li>Value Modifier</li>
<li>Etc.</li>
</ul>
</li>
</ul>
<h4 id="behavior-tree---decorator-(2%2F2)" tabindex="-1" id="Behavior-Tree-Decorator-2-2">Behavior Tree - Decorator (2/2)</h4>
<p>​	行为树 - 装饰器 (2/2)</p>
<h5 id="decorator-1" tabindex="-1" id="Decorator-2">Decorator</h5>
<p>​	装饰器</p>
<ul>
<li>
<p>Example: Use timer to implement “patrol”</p>
<p>示例：使用计时器实现“巡逻”</p>
</li>
</ul>
<p><img src="16.73.webp" alt="webp"></p>
<h4 id="behavior-tree-precondition" tabindex="-1" id="Behavior-Tree-Precondition">Behavior Tree-Precondition</h4>
<p>​	行为树-前提条件</p>
<p>Simplify behavior tree structure with preconditions</p>
<p>​	使用前提条件简化行为树结构</p>
<p><img src="16.74.webp" alt="webp"></p>
<h4 id="behavior-tree-blackboard" tabindex="-1" id="Behavior-Tree-Blackboard">Behavior Tree-Blackboard</h4>
<p>​	行为树-黑板</p>
<p>Blackboard: the memory of behavior tree</p>
<p>​	黑板：行为树的记忆</p>
<p><img src="16.75.webp" alt="webp"></p>
<h4 id="behavior-tree---pros" tabindex="-1" id="Behavior-Tree-Pros">Behavior Tree - Pros</h4>
<p>​	行为树 - 优点</p>
<ul>
<li>
<p>Modular, Hierarchical organization</p>
<p>模块化、分层组织</p>
<ul>
<li>
<p>each subtree of a BT can be seen as a module, with a standard interface given by the return statuses</p>
<p>BT 的每个子树都可以看作一个模块，具有由返回状态给出的标准接口</p>
</li>
</ul>
</li>
<li>
<p>Human readable</p>
<p>人类可读</p>
</li>
<li>
<p>Easy to maintain</p>
<p>易于维护</p>
<ul>
<li>
<p>Modification only affect parts of tree</p>
<p>修改仅影响树的部分</p>
</li>
</ul>
</li>
</ul>
<p><img src="16.76.webp" alt="webp"></p>
<ul>
<li>
<p>Reactivity</p>
<p>反应性</p>
<ul>
<li>
<p>Think every tick to quickly change behavior according to environment</p>
<p>思考每一次滴答，根据环境快速改变行为</p>
</li>
</ul>
</li>
<li>
<p>Easy to Debug</p>
<p>易于调试</p>
<ul>
<li>
<p>Every tick is a whole decision making process, so that it is easy to debug</p>
<p>每一次滴答都是一个完整的决策过程，因此易于调试</p>
</li>
</ul>
</li>
</ul>
<p><img src="16.77.webp" alt="webp"></p>
<h4 id="behavior-tree---cons" tabindex="-1" id="Behavior-Tree-Cons">Behavior Tree - Cons</h4>
<p>​	行为树 - 缺点</p>
<h5 id="cons" tabindex="-1" id="Cons">Cons</h5>
<p>​	缺点</p>
<ul>
<li>
<p>Each tick starts from root node which costs much more</p>
<p>每次更新都从根节点开始，成本更高</p>
</li>
<li>
<p>The more reactive, the more condition to be checked andthe more costs per tick</p>
<p>反应性越高，需要检查的条件就越多，每次更新的成本就越高</p>
</li>
</ul>
<h4 id="upcoming%3A-al-planning-and-goals" tabindex="-1" id="Upcoming-Al-Planning-and-Goals">Upcoming: Al Planning and Goals</h4>
<p>​	即将推出：人工智能规划和目标</p>
<p>To make the Al more deliberative, game designers introduced the Al Planning technique to improve the planning ability of Al</p>
<p>​	为了让人工智能更具深思熟虑，游戏设计师引入了人工智能规划技术来提高人工智能的规划能力</p>
<p>Al Planning:</p>
<p>​	人工智能规划：</p>
<ul>
<li>
<p>Manage a set of actions</p>
<p>管理一组动作</p>
</li>
<li>
<p>A planner make a plan according tothe initial world state</p>
<p>规划者根据初始世界状态制定计划</p>
</li>
</ul>
<p><img src="16.78.webp" alt="webp"></p>
<h3 id="reference" tabindex="-1" id="Reference">Reference</h3>
<h4 id="navigation-1" tabindex="-1" id="Navigation-2">Navigation</h4>
<ul>
<li>
<p>Amit Patel’s fabulous website with animated demonstration of pathfinding algorithms:<a target="_blank" rel="noopener" href="http://theory.stanford.edu/~amitp/GameProgramming/">http://theory.stanford.edu/~amitp/GameProgramming/</a></p>
</li>
<li>
<p>In-depth explanation of Detour Recast Navmesh generation algorithm:</p>
<p><a target="_blank" rel="noopener" href="http://critterai.org/projects/nmgen_study/">http://critterai.org/projects/nmgen_study/</a></p>
</li>
<li>
<p>Al Summit: ‘Death Stranding’: An Al Postmortem, Eric Johnson, Kojima Productions, GDc 2021: <a target="_blank" rel="noopener" href="https://gdcvault.com/play/1027144/A1-Summit-Death-Stranding-An">https://gdcvault.com/play/1027144/A1-Summit-Death-Stranding-An</a></p>
</li>
<li>
<p>Getting off the NavMesh: Navigating in Fully 3D Environments, Dan Brewer, Digital Extremes, GDc2015: <a target="_blank" rel="noopener" href="https://gdcvault.com/play/1022016/Getting-off-the-NavMesh-Navigating">https://gdcvault.com/play/1022016/Getting-off-the-NavMesh-Navigating</a></p>
</li>
<li>
<p>Mikko Mononen, Author of Recast Detour, blog on Funnel Algorithm :<a target="_blank" rel="noopener" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?m=1">http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?m=1</a></p>
</li>
</ul>
<h4 id="steering-%26-sensing" tabindex="-1" id="Steering-Sensing">Steering &amp; Sensing</h4>
<ul>
<li>Steering Behaviors For Autonomous Characters, Craig W. Reynolds, Sony Computer Entertainment America: <a target="_blank" rel="noopener" href="https://www.researchgate.net/publication/2495826_Steering_Behaviors_For_Autonomous_Characters">https://www.researchgate.net/publication/2495826_Steering_Behaviors_For_Autonomous_Characters</a></li>
<li>Al For Games, lan Millington, 3rd Edition, CRC Press, 2019</li>
<li>Knowledge is Power, an Overview of Al Knowledge Representation in Games, Daniel Brewer: <a target="_blank" rel="noopener" href="http://ww.gameaipro.com/GameAlProOnlineEdition2021/GameAlProOnlineEdition2021_Chapter04Knowledge_is_Power_an_Overview_of_Al_Knowledge_Representation_in_Games.pdf">http://ww.gameaipro.com/GameAlProOnlineEdition2021/GameAlProOnlineEdition2021_Chapter04Knowledge_is_Power_an_Overview_of_Al_Knowledge_Representation_in_Games.pdf</a></li>
</ul>
<h4 id="crowd-simulation-1" tabindex="-1" id="Crowd-Simulation-2">Crowd Simulation</h4>
<ul>
<li>A review on crowd simulation and modeling, Shanwen Yang, Tianrui Li, Xun Gong, Bo Peng, Jie Hu: <a target="_blank" rel="noopener" href="https://www.sciencedirect.com/science/article/abs/pii/S1524070320300242">https://www.sciencedirect.com/science/article/abs/pii/S1524070320300242</a></li>
<li>Forced-Based Anticipatory Collision Avoidance in Crowd Simulations, Stephen Guy, loannisKaramouzas, University of Minnesota, GDc 2015: <a target="_blank" rel="noopener" href="https://www.gdcvault.com/play/1022465/ForcedBased-Anticipatory-Collision-Avoidance">https://www.gdcvault.com/play/1022465/ForcedBased-Anticipatory-Collision-Avoidance</a></li>
<li>RVO and ORCA How They Really Work, Ben Sunshine-Hill.https:/www.taylorfrancis.com/chapters/edit10.1201/9780429055096-22/rvo-orca-ben-sunshine-hilRVO2</li>
<li>Library: Reciprocal Colision Avoidance for Real-Time Multi-Agent Simulation, Jur van denBerg, et al.: <a target="_blank" rel="noopener" href="https://gamma.cs.unc.edu/RVO2/">https://gamma.cs.unc.edu/RVO2/</a></li>
<li>Documentation of Al systems in Unreal Engine 5: <a target="_blank" rel="noopener" href="https://docs.unrealengine.com/5.0/en-US/artificialintelligence-in-unreal-engine/">https://docs.unrealengine.com/5.0/en-US/artificialintelligence-in-unreal-engine/</a></li>
</ul>
<h4 id="classical-decision-making-algorithms" tabindex="-1" id="Classical-Decision-Making-Algorithms">Classical Decision Making Algorithms</h4>
<ul>
<li>Behavior Trees in Robotics and Al: an lntroduction, Michele Colledanchise and Petter Ogre, 1st EditionCRC Press, 2018.
<a target="_blank" rel="noopener" href="https://www.researchgatenetpublication/319463746_Behavior_Trees_in_Robotics_and_Al_An_introduction">https://www.researchgatenetpublication/319463746_Behavior_Trees_in_Robotics_and_Al_An_introduction</a></li>
<li>The Behavior Tree Starter Kit, Alex Champandard, Philip Dunstan, Game Al Pro, 2013.<a target="_blank" rel="noopener" href="http://www.gameaipro.com/GameAlPro/GameAlPro_Chapter06_The_Behavior_Tree-Starter-Kit.pdf">http://www.gameaipro.com/GameAlPro/GameAlPro_Chapter06_The_Behavior_Tree-Starter-Kit.pdf</a></li>
<li>FSM: Finite-State Machines: Theory and lmplementation, <a target="_blank" rel="noopener" href="https://gamedevelopment.tutsplus.com/tutorials/finite-state-machines-theory-and-implementation-.gamedev-11867">https://gamedevelopment.tutsplus.com/tutorials/finite-state-machines-theory-and-implementation-.gamedev-11867</a></li>
<li>Managing Complexity in the Halo 2 Al System, Damian lsla, Moonshot Games, GDc 2005: <a target="_blank" rel="noopener" href="https://www">https://www</a>,tavlorfrancis,com/chapters/edit10.1201/9780429055096-22/rvo-orca-ben-sunshine-hil</li>
</ul>
<h2 id="%E7%AC%AC%E5%8D%81%E4%B8%83%E8%8A%82%EF%BC%9A%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E-gameplay-%E7%8E%A9%E6%B3%95%E7%B3%BB%E7%BB%9F%EF%BC%9A%E9%AB%98%E7%BA%A7-ai" tabindex="-1" id="第十七节：游戏引擎-Gameplay-玩法系统：高级-AI">第十七节：游戏引擎 Gameplay 玩法系统：高级 AI</h2>
<h3 id="adavanced-artificial-intelligence" tabindex="-1" id="Adavanced-Artificial-Intelligence">Adavanced Artificial Intelligence</h3>
<p>​	高级 AI</p>
<ul>
<li>
<p>Hierarchical Tasks Network</p>
<p>分层任务网络</p>
</li>
<li>
<p>Goal-Oriented Action Planning</p>
<p>目标导向行动规划</p>
</li>
<li>
<p>Monte Carlo Tree Search</p>
<p>蒙特卡洛树搜索</p>
</li>
<li>
<p>Machine Learning Basic</p>
<p>机器学习基础</p>
</li>
<li>
<p>Build Advanced Game Al</p>
<p>构建高级游戏人工智能</p>
</li>
</ul>
<h3 id="hierarchical-tasks-network" tabindex="-1" id="Hierarchical-Tasks-Network">Hierarchical Tasks Network</h3>
<p>​	层次任务网络</p>
<h4 id="overview" tabindex="-1" id="Overview">Overview</h4>
<p>HTN assumes there are many Hierarchical tasks</p>
<p>​	HTN 假设存在许多分层任务</p>
<p><img src="17.1.webp" alt="webp"></p>
<h4 id="make-a-plan-like-human" tabindex="-1" id="Make-a-Plan-like-Human">Make a Plan like Human</h4>
<p>​	像人类一样制定计划</p>
<p>Hierarchical:</p>
<p>​	分层：</p>
<ul>
<li>
<p>people in real world usually make their plan hierarchically</p>
<p>现实世界中的人们通常分层制定计划</p>
</li>
</ul>
<p><img src="17.2.webp" alt="webp"></p>
<p>​	为了完成 Take a class，我可能需要做出的 Method。</p>
<h4 id="htn-framework-(1%2F2)" tabindex="-1" id="HTN-Framework-1-2">HTN Framework (1/2)</h4>
<p>​	HTN 框架</p>
<p>World state</p>
<p>​	世界状态</p>
<ul>
<li>
<p>Contains a bunch of properties</p>
<p>包含一系列属性</p>
</li>
<li>
<p>Input to planner, reflect the status of world</p>
<p>输入到规划器，反映世界的状态</p>
</li>
<li>
<p>It’s a Subject World View in Al Brain</p>
<p>它是<strong>人工智能大脑中的主体世界观</strong></p>
</li>
</ul>
<p>Sensors</p>
<p>​	传感器</p>
<ul>
<li>
<p>Perceive changes of environment and modify world state</p>
<p><strong>感知环境变化并修改世界状态</strong></p>
</li>
<li>
<p>It’s more like Perception</p>
<p>它更像是感知</p>
</li>
</ul>
<p><img src="17.3.webp" alt="webp"></p>
<h4 id="htn-framework-(2%2F2)" tabindex="-1" id="HTN-Framework-2-2">HTN Framework (2/2)</h4>
<p>HTN Domain</p>
<p>​	HTN 域</p>
<ul>
<li>
<p>Load from asset</p>
<p>从资产加载</p>
</li>
<li>
<p>Describe the relationship of hierarchical tasks</p>
<p>描述分层任务的关系</p>
</li>
</ul>
<p>Planner</p>
<p>​	规划器</p>
<ul>
<li>
<p>Make a plan from World State and HTN Domain</p>
<p>根据世界状态和 HTN 域制定计划</p>
</li>
</ul>
<p>Plan Runner</p>
<p>​	计划运行器</p>
<ul>
<li>
<p>Running the plan</p>
<p>运行计划</p>
</li>
<li>
<p>Update the world state after the task</p>
<p>任务完成后更新世界状态</p>
</li>
</ul>
<p><img src="17.4.webp" alt="webp"></p>
<h4 id="htn-task-types" tabindex="-1" id="HTN-Task-Types">HTN Task Types</h4>
<p>​	HTN 任务类型</p>
<p>Two types of Tasks</p>
<p>​	两种类型的任务</p>
<ul>
<li>
<p>Primitive Task</p>
<p>原始任务</p>
</li>
<li>
<p>Compound Task</p>
<p>复合任务</p>
</li>
</ul>
<p><img src="17.5.webp" alt="webp"></p>
<h4 id="primitive-task-(1%2F2)" tabindex="-1" id="Primitive-Task-1-2">Primitive Task (1/2)</h4>
<p>​	原始任务 (1/2)</p>
<ul>
<li>
<p>Preconditions</p>
<p>前提条件</p>
<ul>
<li>
<p>Determine whether an action could be executed</p>
<p>确定是否可以执行某个操作</p>
</li>
<li>
<p>Check whether properties of game world being satisfied</p>
<p>检查游戏世界的属性是否得到满足</p>
</li>
</ul>
</li>
<li>
<p>Action</p>
<p>操作</p>
<ul>
<li>
<p>Determine what action the primitive task executes</p>
<p>确定原始任务执行什么操作</p>
</li>
</ul>
</li>
<li>
<p>Effects</p>
<p>效果</p>
<ul>
<li>
<p>Describe how the primitive task modify the game world state properties</p>
<p>描述原始任务如何修改游戏世界状态属性</p>
</li>
</ul>
</li>
</ul>
<p><img src="17.6.webp" alt="webp"></p>
<p><img src="17.7.webp" alt="webp"></p>
<ul>
<li>前提条件：有解药</li>
<li>操作：使用解药</li>
<li>效果：解除负面状态，消耗解药</li>
</ul>
<h4 id="compound-task-(1%2F2)" tabindex="-1" id="Compound-Task-1-2">Compound Task (1/2)</h4>
<p>​	复合任务 (1/2)</p>
<h5 id="compound-tasks" tabindex="-1" id="Compound-Tasks">Compound Tasks</h5>
<p>​	复合任务</p>
<ul>
<li>
<p>Contain several methods</p>
<p>包含多种方法</p>
</li>
<li>
<p>Methods have different priority</p>
<p>方法具有不同的优先级</p>
</li>
<li>
<p>Each method has preconditions</p>
<p>每种方法都有先决条件</p>
</li>
</ul>
<h5 id="method" tabindex="-1" id="Method">Method</h5>
<p>​	方法</p>
<ul>
<li>
<p>contains a chain of sub-Tasks</p>
<p>包含一系列子任务</p>
</li>
<li>
<p>Sub-task could be a primitive task or a compound task</p>
<p>子任务可以是原始任务或复合任务</p>
</li>
</ul>
<p><img src="17.8.webp" alt="webp"></p>
<p><img src="17.9.webp" alt="webp"></p>
<p>解毒任务：</p>
<ul>
<li>有足够材料——制作解药</li>
<li>有足够钱——买解药</li>
<li>最后使用解药解毒</li>
</ul>
<h4 id="htn-domain" tabindex="-1" id="HTN-Domain">HTN Domain</h4>
<p><img src="17.10.webp" alt="webp"></p>
<p><img src="17.11.webp" alt="webp"></p>
<h4 id="planning" tabindex="-1" id="Planning">Planning</h4>
<p>Step 1</p>
<ul>
<li>
<p>Start from the root task</p>
<p>从根任务开始</p>
</li>
<li>
<p>Choose the method satisfying the precondition in order</p>
<p>按顺序选择满足前提条件的方法</p>
</li>
</ul>
<p><img src="17.12.webp" alt="webp"></p>
<p>Step 2</p>
<ul>
<li>
<p>Decompose the method to tasks</p>
<p>将方法分解为任务</p>
</li>
<li>
<p>Check precondition in order</p>
<p>按顺序检查前提条件</p>
</li>
<li>
<p>Decompose the task if it is a compound task</p>
<p>如果任务是复合任务，则将其分解</p>
</li>
</ul>
<p><img src="17.13.webp" alt="webp"></p>
<p>Step 2 (For primitive tasks)</p>
<p>​	第 2 步（针对原始任务）</p>
<ul>
<li>
<p>Assume all action will be succeed, update “world state” in temporary memory</p>
<p>假设所有操作都会成功，在临时内存中更新“世界状态”</p>
</li>
<li>
<p>World state has a duplicated copy in planning phase for scratch paper</p>
<p>世界状态在规划阶段有一份草稿纸的副本</p>
</li>
</ul>
<p><img src="17.14.webp" alt="webp"></p>
<p>Step 2 (For primitive tasks)</p>
<p>​	第 2 步（针对原始任务）</p>
<ul>
<li>
<p>go back and select a new method if precondition is not satisfied</p>
<p>如果先决条件不满足，则返回并选择新方法</p>
</li>
</ul>
<p><img src="17.15.webp" alt="webp"></p>
<p>Step 2 (For compound task)</p>
<p>​	第 2 步（针对复合任务）</p>
<ul>
<li>
<p>select the next method if precondition is not satisfied</p>
<p>如果先决条件不满足，则选择下一个方法</p>
</li>
</ul>
<p><img src="17.16.webp" alt="webp"></p>
<p>Step 3</p>
<ul>
<li>
<p>Repeat step 2 until no more task needs to be done</p>
<p>重复步骤 2，直到不再需要完成任务</p>
</li>
<li>
<p>The final plan contains only primitive tasks</p>
<p>最终计划仅包含原始任务</p>
</li>
</ul>
<p><img src="17.17.webp" alt="webp"></p>
<p><img src="17.18.webp" alt="webp"></p>
<h4 id="run-plan" tabindex="-1" id="Run-plan">Run plan</h4>
<p>​	运行计划</p>
<p>Run plan</p>
<p>​	运行计划</p>
<ul>
<li>
<p>Execute tasks in order</p>
<p>按顺序执行任务</p>
</li>
<li>
<p>Stop until all tasks succeed, or one task failed</p>
<p>停止直到所有任务成功，或一个任务失败</p>
</li>
</ul>
<p>Execute task</p>
<p>​	执行任务</p>
<ul>
<li>
<p>Check precondition and return failure if not satisfied</p>
<p>检查先决条件，如果不满足则返回失败</p>
</li>
<li>
<p>Execute action</p>
<p>执行操作</p>
<ul>
<li>
<p>if succeed -&gt; update world state and return success</p>
<p>如果成功 -&gt; 更新世界状态并返回成功</p>
</li>
<li>
<p>if failed -&gt; return failure</p>
<p>如果失败 -&gt; 返回失败</p>
</li>
</ul>
</li>
</ul>
<p><img src="17.17.webp" alt="webp"></p>
<h4 id="replan" tabindex="-1" id="Replan">Replan</h4>
<p>​	重新规划</p>
<p>There are three situations that the agent could start plan</p>
<p>​	代理可以在三种情况下启动计划</p>
<ul>
<li>
<p>Not have a plan</p>
<p>没有计划</p>
</li>
<li>
<p>The current plan is finished or failed</p>
<p>当前计划已完成或失败</p>
</li>
<li>
<p>The World State changes via its sensor</p>
<p>世界状态通过其传感器发生变化</p>
</li>
</ul>
<p><img src="17.19.webp" alt="webp"></p>
<h4 id="conclusion" tabindex="-1" id="Conclusion">Conclusion</h4>
<p>​	结论</p>
<p>Pros:</p>
<p>​	优点：</p>
<ul>
<li>
<p>HTN is similar with BT, and it is more high-level</p>
<p>HTN 与 BT 类似，但更高级</p>
</li>
<li>
<p>It outputs a plan which has long-term effect</p>
<p>它输出具有长期效果的计划</p>
</li>
<li>
<p>It would be faster compared to the BT in the same case</p>
<p>在相同情况下，它比 BT 更快</p>
</li>
</ul>
<p>Cons:</p>
<p>​	缺点：</p>
<ul>
<li>
<p>Player’s behavior is unpredictable, so the tasks may be easy to fail</p>
<p>玩家行为不可预测，因此任务可能很容易失败</p>
</li>
<li>
<p>The World state and the effect of tasks are challenging for designers</p>
<p>世界状态和任务效果对设计师来说具有挑战性</p>
</li>
</ul>
<h3 id="goal-oriented-action-planning" tabindex="-1" id="Goal-Oriented-Action-Planning">Goal-Oriented Action Planning</h3>
<p>​	以目标为导向的行动计划</p>
<h4 id="goal-oriented-action-planning-(goap)" tabindex="-1" id="Goal-Oriented-Action-Planning-GOAP">Goal-Oriented Action Planning (GOAP)</h4>
<p>​	目标导向行动计划 (GOAP)</p>
<ul>
<li>
<p>GOAP is more automated</p>
<p>GOAP 更加自动化</p>
</li>
<li>
<p>It takes backward planning rather than forward</p>
<p>它需要向后规划，而不是向前规划</p>
</li>
</ul>
<p><img src="17.20.webp" alt="webp"></p>
<h4 id="structure" tabindex="-1" id="Structure">Structure</h4>
<p>​	结构</p>
<p>Sensors and World State</p>
<p>​	传感器和世界状态</p>
<ul>
<li>
<p>Similar to HTN</p>
<p>类似于 HTN</p>
</li>
</ul>
<p>Goal set</p>
<p>​	目标集</p>
<ul>
<li>
<p>All available goals</p>
<p>所有可用目标</p>
</li>
</ul>
<p>Action set</p>
<p>​	行动集</p>
<ul>
<li>
<p>All available actions</p>
<p>所有可用行动</p>
</li>
</ul>
<p>Planning</p>
<p>​	规划</p>
<ul>
<li>
<p>Output sequence of actions</p>
<p>输出行动序列</p>
</li>
</ul>
<p><img src="17.21.webp" alt="webp"></p>
<h4 id="goal-set" tabindex="-1" id="Goal-Set">Goal Set</h4>
<p>​	目标集</p>
<ul>
<li>
<p>Precondition decides which goal will be selected</p>
<p>前提条件决定选择哪个目标</p>
</li>
<li>
<p>Priority decide witch goal should be selected among all the possible goals</p>
<p>优先级决定在所有可能的目标中选择哪个目标</p>
</li>
<li>
<p>Each goal can be presented as a Collection of States</p>
<p>每个目标都可以表示为状态集合</p>
</li>
</ul>
<p><img src="17.22.webp" alt="webp"></p>
<h4 id="goal-selection" tabindex="-1" id="Goal-Selection">Goal Selection</h4>
<p>​	目标选择</p>
<p><img src="17.23.webp" alt="webp"></p>
<h4 id="action-set" tabindex="-1" id="Action-Set">Action Set</h4>
<p>​	动作集</p>
<p>Action in GOAP is with precondition, effect and cost</p>
<p>​	GOAP 中的动作具有前提条件、效果和成本</p>
<ul>
<li>
<p>Precondition: in which state, character can do this action</p>
<p>前提条件：角色在哪种状态下可以执行此动作</p>
</li>
<li>
<p>Effect: after the action is done, how does the world statechanges</p>
<p>效果：执行动作后，世界状态如何变化</p>
</li>
<li>
<p>Cost: defined by developer, used as a weight to make theplan which has the lowest cost</p>
<p>成本：由开发人员定义，用作制定成本最低的计划的权重</p>
</li>
</ul>
<p><img src="17.24.webp" alt="webp"></p>
<h4 id="backward-planning-like-a-human" tabindex="-1" id="Backward-Planning-Like-a-Human">Backward Planning Like a Human</h4>
<p>​	像人类一样进行反向规划</p>
<ul>
<li>
<p>When making a plan, start from goal state</p>
<p>制定计划时，从目标状态开始</p>
</li>
</ul>
<p><img src="17.25.webp" alt="webp"></p>
<p>Goal：解毒</p>
<p>反向规划：使用解药-花钱买解药-拜访商店并付款</p>
<h4 id="planning-1" tabindex="-1" id="Planning-2">Planning</h4>
<p>​	规划</p>
<p>Step 1</p>
<ul>
<li>
<p>Check goals according to priority</p>
<p>根据优先级检查目标</p>
</li>
<li>
<p>Find the first goal of which precondition is satisfied</p>
<p>找到第一个满足先决条件的目标</p>
</li>
</ul>
<p><img src="17.26.webp" alt="webp"></p>
<p>Step 2</p>
<ul>
<li>
<p>Compare the target state with world state to find unsatisfied goal</p>
<p>将目标状态与世界状态进行比较，找出未满足的目标</p>
</li>
<li>
<p>Set all unsatisfied states of the goal into a stack</p>
<p>将目标的所有未满足状态放入堆栈中</p>
</li>
</ul>
<p><img src="17.27.webp" alt="webp"></p>
<p>Step 3</p>
<ul>
<li>
<p>Check the top unsatisfied state from the stack</p>
<p>从堆栈中检查顶部未满足的状态</p>
</li>
<li>
<p>Select an action from action set which could satisfy the chosen state</p>
<p>从操作集中选择一个可以满足所选状态的操作</p>
</li>
<li>
<p>Pop the state if it is satisfied by the selected action</p>
<p>如果所选操作满足该状态，则弹出该状态</p>
</li>
</ul>
<p><img src="17.28.webp" alt="webp"></p>
<p>Step 4</p>
<ul>
<li>
<p>Push action to plan stack</p>
<p>将操作推送到计划堆栈</p>
</li>
<li>
<p>Check precondition of corresponded action</p>
<p>检查相应操作的前提条件</p>
</li>
<li>
<p>If precondition is not satisfied, push state to stack of unsatisfied states</p>
<p>如果前提条件不满足，则将状态推送到不满足状态堆栈</p>
</li>
</ul>
<p><img src="17.29.webp" alt="webp"></p>
<h4 id="build-states-action-cost-graph" tabindex="-1" id="Build-States-Action-Cost-Graph">Build States-Action-Cost Graph</h4>
<p>​	构建状态-动作-成本图</p>
<p>Can be turned into a path planning problem</p>
<p>​	可以转化为路径规划问题（<strong>动态规划</strong>）</p>
<ul>
<li>
<p>Node: combination of states</p>
<p>节点：状态组合</p>
</li>
<li>
<p>Edge: Action</p>
<p>边：动作</p>
</li>
<li>
<p>Distance: Cost</p>
<p>距离：成本</p>
</li>
</ul>
<p>Search direction</p>
<p>​	搜索方向</p>
<ul>
<li>
<p>Start node: states of the goal</p>
<p>起始节点：目标状态</p>
</li>
<li>
<p>End node: current states</p>
<p>结束节点：当前状态</p>
</li>
</ul>
<p><img src="17.30.webp" alt="webp"></p>
<p>​	根据目标解毒，从当前状态找到成本最低的路线。</p>
<h4 id="the-lowest-cost-path" tabindex="-1" id="The-Lowest-Cost-Path">The Lowest Cost Path</h4>
<p>​	最低成本路径</p>
<p>Can use A* or other shortest path algorithms</p>
<p>​	可以使用 A* 或其他最短路径算法</p>
<ul>
<li>
<p>Heuristics can be represented with number of unsatisfied states</p>
<p>启发式算法可以用不满足状态的数量来表示</p>
</li>
</ul>
<p><img src="17.31.webp" alt="webp"></p>
<h4 id="conclusion-1" tabindex="-1" id="Conclusion-2">Conclusion</h4>
<p>​	结论</p>
<p>Pros:</p>
<p>​	优点：</p>
<ul>
<li>
<p>Compared with HTN, GOAP plans is more dynamic</p>
<p>与 HTN 相比，GOAP 计划更具动态性</p>
</li>
<li>
<p>Decoupling goals and behaviors</p>
<p>将目标和行为分离</p>
</li>
<li>
<p>HTN can easily make precondition/effect mismatching mistakes</p>
<p>HTN 很容易犯前提条件 / 效果不匹配的错误</p>
</li>
</ul>
<p>Cons:</p>
<p>​	缺点：</p>
<ul>
<li>
<p>In a single Al system, the runtime planning would be slower than BT/FSM/HTN</p>
<p>在单个 AI 系统中，运行时规划会比 BT/FSM/HTN 慢</p>
</li>
<li>
<p>Also needs a well-represented world state and action effect</p>
<p>还需要一个具有良好表现的世界状态和行动效果</p>
</li>
</ul>
<h3 id="monte-carlo-tree-search" tabindex="-1" id="Monte-Carlo-Tree-Search">Monte Carlo Tree Search</h3>
<p>​	蒙特卡洛树搜索</p>
<h4 id="monte-carlo-tree-search-1" tabindex="-1" id="Monte-Carlo-Tree-Search-2">Monte Carlo Tree Search</h4>
<p>MCTS is another automated planning, and it behaves more diversely</p>
<p>​	MCTS 是另一种自动化规划，其行为更加多样化</p>
<p><img src="17.32.webp" alt="webp"></p>
<p>​	AlphaGo 就用到了蒙特卡洛树搜索。</p>
<p><img src="17.33.webp" alt="webp"></p>
<p>Like playing chess, simulate millions possible moves in mind and choose the“best” step</p>
<p>​	就像下棋一样，在脑海中模拟数百万种可能的走法，并选择“最佳”一步</p>
<h4 id="monte-carlo-method" tabindex="-1" id="Monte-Carlo-Method">Monte Carlo Method</h4>
<p>​	蒙特卡洛方法</p>
<ul>
<li>
<p>A broad class of computational algorithms that rely on repeated random sampling to obtain numerical results</p>
<p>一大类依赖重复随机抽样来获得数值结果的计算算法</p>
</li>
</ul>
<p><img src="17.34.webp" alt="webp"></p>
<h4 id="monte-carlo-tree-search-2" tabindex="-1" id="Monte-Carlo-Tree-Search-3">Monte Carlo Tree Search</h4>
<p><img src="17.35.webp" alt="webp"></p>
<p>​	对于当前棋局状态，给出可能的合理行为，求 best move。</p>
<h4 id="states-and-actions" tabindex="-1" id="States-and-Actions">States and Actions</h4>
<p>​	状态和动作</p>
<h5 id="state" tabindex="-1" id="State">State</h5>
<p>​	状态</p>
<ul>
<li>
<p>The state of game</p>
<p>游戏状态</p>
</li>
<li>
<p>Represented by a node</p>
<p>用节点表示</p>
</li>
</ul>
<p><img src="17.36.webp" alt="webp"></p>
<h5 id="action" tabindex="-1" id="Action">Action</h5>
<p>​	动作</p>
<ul>
<li>
<p>One step operation of Al</p>
<p>人工智能的一步操作</p>
</li>
<li>
<p>Represented by an edge</p>
<p>用边表示</p>
</li>
</ul>
<p><img src="17.37.webp" alt="webp"></p>
<h4 id="states-transfer" tabindex="-1" id="States-Transfer">States Transfer</h4>
<h5 id="transfer-state-from-a-to-b-by-action" tabindex="-1" id="Transfer-state-from-A-to-B-by-action">Transfer state from A to B by action</h5>
<p><img src="17.38.webp" alt="webp"></p>
<h4 id="state-space" tabindex="-1" id="State-Space">State Space</h4>
<p>​	状态空间</p>
<h5 id="a-tree-structured-state-space%3A" tabindex="-1" id="A-Tree-Structured-State-space">A Tree Structured State space:</h5>
<p>​	树结构状态空间：</p>
<p>The set of states that can be reached from the current state after a possible sequence of actions</p>
<p>​	从当前状态经过一系列可能的操作后可以到达的状态集</p>
<p><img src="17.39.webp" alt="webp"></p>
<p>NOTICE: Rebuild the State Space for Each Move</p>
<p>​	注意：每次移动都要重建状态空间</p>
<p><img src="17.40.webp" alt="webp"></p>
<h4 id="simulation%3A-playing-a-game-in-mind-quickly" tabindex="-1" id="Simulation-Playing-a-Game-in-Mind-Quickly">Simulation: Playing a Game in Mind Quickly</h4>
<p>​	模拟：快速在脑海中玩游戏</p>
<h5 id="simulation" tabindex="-1" id="Simulation">Simulation</h5>
<p>​	模拟</p>
<ul>
<li>
<p>Run from the state node according to the Default Policy to produce an outcome</p>
<p>根据默认策略从状态节点运行以产生结果</p>
</li>
</ul>
<h5 id="in-the-case-of-go" tabindex="-1" id="In-the-case-of-Go">In the case of Go</h5>
<p>​	围棋的情况</p>
<ul>
<li>
<p>Apply random moves from the state until the game is over</p>
<p>从状态中应用随机动作直到游戏结束</p>
</li>
<li>
<p>Return 1 (win) or 0 (loss) depending on the result</p>
<p>根据结果返回 1（赢）或 0（输）</p>
</li>
</ul>
<h5 id="default-policy" tabindex="-1" id="Default-Policy">Default Policy</h5>
<p>​	默认策略</p>
<ul>
<li>
<p>A meaningful but quick rule or neural network to playthe game</p>
<p>一个有意义但快速的规则或神经网络来玩游戏</p>
</li>
</ul>
<p><img src="17.41.webp" alt="webp"></p>
<h4 id="how-to-evaluate-the-states%3F" tabindex="-1" id="How-to-evaluate-the-states">How to evaluate the states?</h4>
<p>​	如何评估状态？</p>
<h5 id="evaluation-factors" tabindex="-1" id="Evaluation-Factors">Evaluation Factors</h5>
<p>​	评估因素</p>
<ul>
<li>
<p>Q: Accumulation of Simulation Results</p>
<p>Q：模拟结果的累积</p>
</li>
<li>
<p>N: Number of simulations</p>
<p>N：模拟次数</p>
</li>
</ul>
<p>Simulation Results and Number ofsimulations Maybe not direct simulation but from child nodes</p>
<p>​	模拟结果和模拟次数可能不是直接模拟，而是来自子节点</p>
<p><img src="17.42.webp" alt="webp"></p>
<h4 id="backpropagate" tabindex="-1" id="Backpropagate">Backpropagate</h4>
<p>​	反向传播</p>
<h5 id="propagate-influence-of-child-state-back-parent-state" tabindex="-1" id="Propagate-influence-of-child-state-back-parent-state">Propagate influence of child state back parent state</h5>
<p>​	将子状态的影响传播回父状态</p>
<ul>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mrow><mi>F</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>N</mi><mi>o</mi><mi>d</mi><mi>e</mi></mrow></msub><mo>=</mo><msub><mi>Q</mi><mrow><mi>F</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>N</mi><mi>o</mi><mi>d</mi><mi>e</mi></mrow></msub><mo>+</mo><msub><mi>Q</mi><mrow><mi>B</mi><mi>a</mi><mi>c</mi><mi>k</mi><mi>c</mi><mi>h</mi><mi>i</mi><mi>l</mi><mi>d</mi><mi>N</mi><mi>o</mi><mi>d</mi><mi>e</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Q_{FatherNode}=Q_{FatherNode} +Q_{BackchildNode}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">Q</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mord mathit">a</span><span class="mord mathit">t</span><span class="mord mathit">h</span><span class="mord mathit">e</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mord mathit">o</span><span class="mord mathit">d</span><span class="mord mathit">e</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord"><span class="mord mathit">Q</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mord mathit">a</span><span class="mord mathit">t</span><span class="mord mathit">h</span><span class="mord mathit">e</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mord mathit">o</span><span class="mord mathit">d</span><span class="mord mathit">e</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathit">Q</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05017em;">B</span><span class="mord mathit">a</span><span class="mord mathit">c</span><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mord mathit">c</span><span class="mord mathit">h</span><span class="mord mathit">i</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">d</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mord mathit">o</span><span class="mord mathit">d</span><span class="mord mathit">e</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mrow><mi>n</mi><mi>o</mi><mi>d</mi><mi>e</mi></mrow></msub><mo>=</mo><msub><mi>N</mi><mrow><mi>n</mi><mi>o</mi><mi>d</mi><mi>e</mi></mrow></msub><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N_{node} = N_{node} + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.10903em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mord mathit">o</span><span class="mord mathit">d</span><span class="mord mathit">e</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.10903em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mord mathit">o</span><span class="mord mathit">d</span><span class="mord mathit">e</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span></p>
</li>
<li>
<p>Repeat it until reaching the root</p>
<p>重复此操作直至到达根节点</p>
</li>
</ul>
<p><img src="17.43.webp" alt="webp"></p>
<h4 id="lteration-steps" tabindex="-1" id="lteration-Steps">lteration Steps</h4>
<p>​	迭代步骤</p>
<ul>
<li>
<p><strong>Selection</strong>: select the most urgent “expandable” node</p>
<p><strong>选择</strong>：选择最紧急的“可扩展”节点</p>
</li>
<li>
<p><strong>Expansion</strong>:expand the tree by selecting an action</p>
<p><strong>扩展</strong>：通过选择操作扩展树</p>
</li>
<li>
<p><strong>Simulation</strong>: simulate from the new node and produce an outcome</p>
<p><strong>模拟</strong>：从新节点进行模拟并产生结果</p>
</li>
<li>
<p><strong>Backpropagate</strong>: backpropagate the outcome of simulation from the new node</p>
<p><strong>反向传播</strong>：从新节点反向传播模拟结果</p>
</li>
</ul>
<p><img src="17.44.webp" alt="webp"></p>
<h4 id="search-in-%E2%80%9Cinfinite%E2%80%9D-state-space" tabindex="-1" id="Search-in-“Infinite”-State-Space">Search in “Infinite” State Space</h4>
<p>​	在“无限”状态空间中搜索</p>
<p>Generally impossible to traverse the state space</p>
<p>​	通常不可能遍历状态空间</p>
<ul>
<li>
<p>We prioritize exploring the most promising regions in state space</p>
<p>我们优先探索状态空间中最有希望的区域</p>
</li>
<li>
<p>Pre-set a computational budget and stop exploring the state space when the budget is reached</p>
<p>预设计算预算，并在达到预算时停止探索状态空间</p>
</li>
</ul>
<h4 id="selection-expandable-node" tabindex="-1" id="Selection-Expandable-Node">Selection-Expandable Node</h4>
<p>​	选择可扩展节点</p>
<p>Select the most urgent “expandable” node</p>
<p>​	选择最紧急的“可扩展”节点</p>
<p>“expandable&quot; node</p>
<p>​	“可扩展”节点</p>
<ul>
<li>
<p>Nonterminal state and has unvisited children</p>
<p>非终止状态且有未访问的子节点</p>
</li>
<li>
<p>Example:</p>
<p>示例：</p>
</li>
</ul>
<p><img src="17.45.webp" alt="webp"></p>
<h4 id="selection-exploitation-and-exploration" tabindex="-1" id="Selection-Exploitation-and-Exploration">Selection-Exploitation and Exploration</h4>
<p>​	选择-开发和探索</p>
<h5 id="exploitation" tabindex="-1" id="Exploitation">Exploitation</h5>
<p>​	开发</p>
<ul>
<li>
<p>Look in areas which appear to be promising</p>
<p>寻找看似有希望的领域</p>
</li>
<li>
<p>Select the child which has high Q/N value</p>
<p>选择具有高 Q/N 值的子项</p>
</li>
</ul>
<p><img src="17.46.webp" alt="webp"></p>
<h5 id="exploration" tabindex="-1" id="Exploration">Exploration</h5>
<p>​	探索</p>
<ul>
<li>
<p>Look in areas that have not been well sampled yet</p>
<p>查看尚未充分采样的区域</p>
</li>
<li>
<p>Select the child which has low number of visits</p>
<p>选择访问次数较少的子项</p>
</li>
</ul>
<p><img src="17.47.webp" alt="webp"></p>
<p><img src="17.48.webp" alt="webp"></p>
<h4 id="ucb-(upper-confidence-bounds)" tabindex="-1" id="UCB-Upper-Confidence-Bounds">UCB (Upper Confidence Bounds)</h4>
<p>​	UCB（置信上限）</p>
<p>How to balance exploration and exploitation?</p>
<p>​	如何平衡探索和开发？</p>
<ul>
<li>
<p>Use UCB (Upper Confidence Bounds) formula</p>
<p>使用 UCB（置信上限）公式</p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>U</mi><mi>C</mi><msub><mi>B</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">UCB_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">U</span><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="mord"><span class="mord mathit" style="margin-right:0.05017em;">B</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05017em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> :the UCB value of the node <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>U</mi><mi>C</mi><msub><mi>B</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">UCB_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">U</span><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="mord"><span class="mord mathit" style="margin-right:0.05017em;">B</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05017em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>：节点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span></span> 的 UCB 值</p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">Q_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">Q</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>: the total reward of all playouts that passed through node <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">Q_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">Q</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>：经过节点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span></span> 的所有播放的总奖励</p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">N_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.10903em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> : the number of times node <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span></span> has been visited</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">N_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.10903em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>：节点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span></span> 被访问的次数</p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span> : the number of times the parent node of node <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span></span> has been visited</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span>：节点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.65952em;"></span><span class="strut bottom" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span></span> 的父节点被访问的次数</p>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07153em;">C</span></span></span></span>: a constant, adiusted to lower or increase the amount of exploration performe</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07153em;">C</span></span></span></span>：一个常数，调整以降低或增加探索执行量</p>
</li>
</ul>
<p><img src="17.49.webp" alt="webp"></p>
<h4 id="selection" tabindex="-1" id="Selection">Selection</h4>
<p>​	选择</p>
<p>How to select the most urgent expandable node</p>
<p>​	如何选择最紧急的可扩展节点</p>
<ul>
<li>
<p>Always Search from the root node</p>
<p>始终从根节点搜索</p>
</li>
<li>
<p>Find the highest UCB value child node (promising child) of current node</p>
<p>查找当前节点的 UCB 值最高的子节点（有希望的子节点）</p>
</li>
<li>
<p>Set promising child as current node</p>
<p>将有希望的子节点设置为当前节点</p>
</li>
<li>
<p>Iterate above steps until current node is expandable. Set current node as selected node</p>
<p>迭代上述步骤，直到当前节点可扩展。将当前节点设置为选定节点</p>
</li>
</ul>
<p><img src="17.50.webp" alt="webp"></p>
<h4 id="expansion" tabindex="-1" id="Expansion">Expansion</h4>
<p>​	扩展</p>
<h5 id="expansion-1" tabindex="-1" id="Expansion-2">Expansion</h5>
<p>​	扩展</p>
<ul>
<li>
<p>One or more new child nodes are added to selected node, according to the available actions</p>
<p>根据可用操作，向选定节点添加一个或多个新子节点</p>
</li>
<li>
<p>The value of child node is unknown</p>
<p>子节点的值未知</p>
</li>
</ul>
<p><img src="17.51.webp" alt="webp"></p>
<h4 id="simulation-and-backpropagation" tabindex="-1" id="Simulation-and-Backpropagation">Simulation and Backpropagation</h4>
<p>​	模拟和反向传播</p>
<p><img src="17.52.webp" alt="webp"></p>
<h4 id="the-end-condition" tabindex="-1" id="The-End-Condition">The End Condition</h4>
<p>​	结束条件</p>
<h5 id="computational-budget" tabindex="-1" id="Computational-budget">Computational budget</h5>
<p>​	计算预算</p>
<ul>
<li>
<p>Memory size (the number of nodes)</p>
<p>内存大小（节点数）</p>
</li>
<li>
<p>Computation time</p>
<p>计算时间</p>
</li>
</ul>
<p><img src="17.53.webp" alt="webp"></p>
<h4 id="how-to-choose-the-best-move%3F" tabindex="-1" id="How-to-Choose-the-Best-Move">How to Choose the Best Move?</h4>
<p>​	如何选择最佳移动？</p>
<p>The “best” child node of current state node</p>
<p>​	当前状态节点的“最佳”子节点</p>
<ul>
<li>
<p><strong>Max child</strong>: Select the root child with the highest Q-value</p>
<p><strong>最大子节点</strong>：选择具有最高 Q 值的根子节点</p>
</li>
<li>
<p><strong>Robust child</strong>: Select the most visited root child</p>
<p><strong>稳健子节点</strong>：选择访问次数最多的根子节点</p>
</li>
<li>
<p><strong>Max-Robust child</strong>: Select the root child with both the highest visit count and the highest reward. lf none exist, then continue searching until an acceptable visit count is achieved</p>
<p><strong>最大稳健子节点</strong>：选择访问次数和奖励都最高的根子节点。如果不存在，则继续搜索，直到达到可接受的访问次数。</p>
</li>
<li>
<p><strong>Secure child</strong>: Select the child which maximises a lowerconfidence bound (LCB)</p>
<p><strong>安全子节点</strong>：选择最大化下置信区间 (LCB) 的子节点</p>
</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>C</mi><msub><mi>B</mi><mrow><mi>j</mi></mrow></msub><mo>=</mo><mfrac><mrow><msub><mi>Q</mi><mi>j</mi></msub></mrow><mrow><msub><mi>N</mi><mi>j</mi></msub></mrow></mfrac><mo>−</mo><mi>C</mi><mo>⋅</mo><msqrt><mrow><mfrac><mrow><mn>2</mn><mi>ln</mi><mo>(</mo><mi>N</mi><mo>)</mo></mrow><mrow><msub><mi>N</mi><mi>j</mi></msub></mrow></mfrac></mrow></msqrt></mrow><annotation encoding="application/x-tex">LCB_{j}=\frac{Q_j}{N_j}-C\cdot\sqrt{\frac{2\ln(N)}{N_j}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:1.8613359999999999em;"></span><span class="strut bottom" style="height:3.04003em;vertical-align:-1.1786940000000001em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit">L</span><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="mord"><span class="mord mathit" style="margin-right:0.05017em;">B</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05017em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord reset-textstyle displaystyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.6859999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.10903em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord"><span class="mord mathit">Q</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="mbin">⋅</span><span class="sqrt mord"><span class="sqrt-sign" style="top:-0.07133599999999984em;"><span class="style-wrap reset-textstyle textstyle uncramped"><span class="delimsizing size4">√</span></span></span><span class="vlist"><span style="top:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">​</span></span><span class="mord displaystyle textstyle cramped"><span class="mord reset-textstyle displaystyle textstyle cramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.6859999999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.10903em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathrm">2</span><span class="mop">ln</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span><span style="top:-1.7813359999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">​</span></span><span class="reset-textstyle textstyle uncramped sqrt-line"></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">​</span></span>​</span></span></span></span></span></span></span></p>
<p><img src="17.54.webp" alt="webp"></p>
<h4 id="conclusion-2" tabindex="-1" id="Conclusion-3">Conclusion</h4>
<p>​	结论</p>
<p>Pros:</p>
<p>​	优点：</p>
<ul>
<li>
<p>MCTS agent behaves diverse</p>
<p>MCTS 代理行为多样</p>
</li>
<li>
<p>Agent makes the decision totally by itself</p>
<p>代理完全自行做出决策</p>
</li>
<li>
<p>Can solve the problem of large search space</p>
<p>可以解决搜索空间大的问题</p>
</li>
</ul>
<p>Cons:</p>
<p>​	缺点：</p>
<ul>
<li>
<p>The action and state are hard to design for most real-time games</p>
<p>对于大多数实时游戏来说，动作和状态很难设计</p>
</li>
<li>
<p>It is hard to model for most real-time games</p>
<p>对于大多数实时游戏来说，很难建模</p>
</li>
</ul>
<h3 id="machine-learning-basic" tabindex="-1" id="Machine-Learning-Basic">Machine Learning Basic</h3>
<p>​	机器学习基础</p>
<h4 id="machine-learning" tabindex="-1" id="Machine-Learning">Machine Learning</h4>
<p>​	机器学习</p>
<h4 id="four-types-of-machine-learning" tabindex="-1" id="Four-Types-of-Machine-Learning">Four Types of Machine Learning</h4>
<p>​	机器学习的四种类型</p>
<ul>
<li>
<p>Supervised learning</p>
<p>监督学习</p>
</li>
<li>
<p>Unsupervised learning</p>
<p>无监督学习</p>
</li>
<li>
<p>Semi-supervised learning</p>
<p>半监督学习</p>
</li>
<li>
<p>Reinforcement learning</p>
<p>强化学习</p>
</li>
</ul>
<p><img src="17.55.webp" alt="webp"></p>
<h4 id="ml-types%3A-supervised-learning" tabindex="-1" id="ML-Types-Supervised-Learning">ML Types: Supervised Learning</h4>
<p>​	ML 类型：监督学习</p>
<ul>
<li>
<p>Learn from labeled data</p>
<p>训练时提供标记数据</p>
</li>
</ul>
<p><img src="17.56.webp" alt="webp"></p>
<h4 id="ml-types%3A-unsupervised-learning" tabindex="-1" id="ML-Types-Unsupervised-Learning">ML Types: Unsupervised Learning</h4>
<p>​		ML 类型：无监督学习</p>
<ul>
<li>
<p>Learn from unlabeled data</p>
<p>从未标记的数据中学习</p>
</li>
</ul>
<p><img src="17.57.webp" alt="webp"></p>
<p>​	无监督学习便于处理聚类问题。</p>
<h4 id="ml-types%3A-semi-supervised-learning" tabindex="-1" id="ML-Types-Semi-supervised-Learning">ML Types: Semi-supervised Learning</h4>
<p>​	ML 类型：半监督学习</p>
<ul>
<li>
<p>Learn from a lot of unlabeled data and very scarce labeled data</p>
<p>从大量未标记数据和非常稀少的标记数据中学习</p>
</li>
</ul>
<p><img src="17.58.webp" alt="webp"></p>
<h4 id="ml-types%3A-reinforcement-learning" tabindex="-1" id="ML-Types-Reinforcement-learning">ML Types: Reinforcement learning</h4>
<p>​	ML 类型：强化学习</p>
<ul>
<li>
<p>Learn from an interaction process with environment</p>
<p>从与环境的交互过程中学习</p>
</li>
</ul>
<p><img src="17.59.webp" alt="webp"></p>
<h4 id="reinforcement-learning" tabindex="-1" id="Reinforcement-Learning">Reinforcement Learning</h4>
<p>​	强化学习</p>
<p><strong>Reinforcement learning (RL)</strong> is an area of machine learning concerned with how intelligent agents ought to take actions in an environment in order to maximize the notion of cumulative reward.</p>
<p>​	<strong>强化学习 (RL)</strong> 是机器学习的一个领域，它关注智能代理如何在环境中采取行动，以最大化累积奖励的概念。</p>
<ul>
<li>
<p><strong>Trial-and-error search</strong></p>
<p><strong>反复试验</strong></p>
</li>
<li>
<p>The learner must discover which actions yield the most reward by trying them</p>
<p>学习者必须通过尝试发现哪些行动能产生最大的奖励</p>
</li>
<li>
<p><strong>Delayed reward</strong></p>
<p><strong>延迟奖励</strong></p>
</li>
<li>
<p>Actions may affect the immediate reward, thenext situation and all subsequent rewards</p>
<p>行动可能会影响即时奖励、下一个情况和所有后续奖励</p>
</li>
</ul>
<h4 id="markov-decision-process-basic-elements-(1%2F4)" tabindex="-1" id="Markov-Decision-Process-Basic-Elements-1-4">Markov Decision Process-Basic Elements (1/4)</h4>
<p>​	马尔可夫决策过程-基本概念</p>
<ul>
<li>
<p>Agent</p>
<p>代理</p>
<p>The learner and decision maker</p>
<p>学习者和决策者</p>
</li>
<li>
<p>Environment</p>
<p>环境</p>
<p>The thing the agent interacts with, comprising everything outside the agent</p>
<p>代理与之交互的事物，包括代理之外的一切</p>
</li>
</ul>
<p><img src="17.60.webp" alt="webp"></p>
<h4 id="markov-decision-process-state-(2%2F4)" tabindex="-1" id="Markov-Decision-Process-State-2-4">Markov Decision Process-State (2/4)</h4>
<p>​	马尔可夫决策过程 - 状态 (2/4)</p>
<p>State is the observation of the agent, and the data structure is designed by human</p>
<p>​	状态是代理的观察，数据结构由人设计</p>
<p><img src="17.61.webp" alt="webp"></p>
<h4 id="markov-decision-process-action-(3%2F4)" tabindex="-1" id="Markov-Decision-Process-Action-3-4">Markov Decision Process-Action (3/4)</h4>
<p>​	马尔可夫决策过程-行动 (3/4)</p>
<p>Action is the minimal element the agent could behave in the game It is also designed by human</p>
<p>​	行动是代理在游戏中可以表现的最小元素，它也是由人类设计的</p>
<p><img src="17.62.webp" alt="webp"></p>
<h4 id="markov-decision-process-reward-(4%2F4)" tabindex="-1" id="Markov-Decision-Process-Reward-4-4">Markov Decision Process-Reward (4/4)</h4>
<p>​	马尔可夫决策过程-奖励 (4/4)</p>
<p>A special signal the agent receives at each time step passing from environment to the agent</p>
<p>​	代理在从环境传递到代理的每个时间步骤中收到的特殊信号</p>
<p><img src="17.63.webp" alt="webp"></p>
<h4 id="mdp-mathematical-mode" tabindex="-1" id="MDP-Mathematical-Mode">MDP Mathematical Mode</h4>
<p>​	MDP 数学模式</p>
<ul>
<li>
<p>Probability of transition</p>
<p>转换概率</p>
<p>The probability of transition from <strong>s</strong> to <strong>s’</strong> after taking action <strong>a</strong></p>
<p>采取行动 <strong>a</strong> 后从 <strong>s</strong> 转换到 <strong>s’</strong> 的概率</p>
</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mo>(</mo><msup><mi>s</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup><mi mathvariant="normal">∣</mi><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo>)</mo><mo>=</mo><mi>P</mi><mo>(</mo><msub><mi>S</mi><mi>t</mi></msub><mo>=</mo><msup><mi>s</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup><mi mathvariant="normal">∣</mi><msub><mi>S</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>s</mi><mo separator="true">,</mo><msub><mi>A</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>a</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">p(s&#x27;|s, a)=P(S_t=s&#x27;|S_{t-1}=s, A_{t-1}=a)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.801892em;"></span><span class="strut bottom" style="height:1.051892em;vertical-align:-0.25em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit">p</span><span class="mopen">(</span><span class="mord"><span class="mord mathit">s</span><span class="vlist"><span style="top:-0.413em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">′</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathrm">∣</span><span class="mord mathit">s</span><span class="mpunct">,</span><span class="mord mathit">a</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05764em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord"><span class="mord mathit">s</span><span class="vlist"><span style="top:-0.413em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">′</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathrm">∣</span><span class="mord"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05764em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord mathit">s</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">A</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord mathit">a</span><span class="mclose">)</span></span></span></span></span></p>
<ul>
<li>
<p>Policy</p>
<p>策略</p>
<p>A mapping from states to probabilities of selecting each possible action</p>
<p>从状态到选择每个可能行动的概率的映射</p>
</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>π</mi><mo>(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo>)</mo><mo>=</mo><mi>P</mi><mo>(</mo><msub><mi>A</mi><mi>t</mi></msub><mo>=</mo><mi>a</mi><mi mathvariant="normal">∣</mi><msub><mi>S</mi><mi>t</mi></msub><mo>=</mo><mn>2</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">\pi(a|s)=P(A_t=a|S_t=2)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">π</span><span class="mopen">(</span><span class="mord mathit">a</span><span class="mord mathrm">∣</span><span class="mord mathit">s</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathit">A</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord mathit">a</span><span class="mord mathrm">∣</span><span class="mord"><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.05764em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord mathrm">2</span><span class="mclose">)</span></span></span></span></span></p>
<ul>
<li>
<p>Total reward</p>
<p>总奖励</p>
<p>The cumulative reward it receives in the long run</p>
<p>从长远来看，它获得的累积奖励</p>
</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>t</mi></msub><mo>=</mo><msub><mi>R</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow><mi>t</mi><mo>+</mo><mn>2</mn></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow><mi>t</mi><mo>+</mo><mn>3</mn></mrow></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><msub><mi>R</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">G_t=R_{t+1}+R_{t+2}+R_{t+3}+...+R_T
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord"><span class="mord mathit">G</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">+</span><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">+</span><span class="mord mathrm">3</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mbin">+</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit" style="margin-right:0.13889em;">T</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span></span></p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>t</mi></msub><mo>=</mo><msub><mi>R</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>+</mo><mi>γ</mi><msub><mi>R</mi><mrow><mi>t</mi><mo>+</mo><mn>2</mn></mrow></msub><mo>+</mo><msup><mi>γ</mi><mn>2</mn></msup><msub><mi>R</mi><mrow><mi>t</mi><mo>+</mo><mn>3</mn></mrow></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">G_t=R_{t+1}+\gamma R_{t+2}+\gamma^2R_{t+3}+...
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8641079999999999em;"></span><span class="strut bottom" style="height:1.072439em;vertical-align:-0.208331em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord"><span class="mord mathit">G</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">t</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord mathit" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">+</span><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord"><span class="mord mathit" style="margin-right:0.05556em;">γ</span><span class="vlist"><span style="top:-0.413em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.00773em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">t</span><span class="mbin">+</span><span class="mord mathrm">3</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">+</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span></span></span></span></span></p>
<p><img src="17.64.webp" alt="webp"></p>
<h4 id="policy" tabindex="-1" id="Policy">Policy</h4>
<p>​	策略</p>
<p>A mapping from states to probabilities of selecting each possible action</p>
<p>​	从状态到选择每个可能动作的概率的映射</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>π</mi><mo>(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo>)</mo><mo>=</mo><mi>P</mi><mo>(</mo><mi>A</mi><mo>=</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>S</mi><mo>=</mo><mi>s</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">\pi(a|s)=P(A=a|S=s)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">π</span><span class="mopen">(</span><span class="mord mathit">a</span><span class="mord mathrm">∣</span><span class="mord mathit">s</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathit">A</span><span class="mrel">=</span><span class="mord mathit">a</span><span class="mord mathrm">∣</span><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mrel">=</span><span class="mord mathit">s</span><span class="mclose">)</span></span></span></span></span></p>
<p><img src="17.65.webp" alt="webp"></p>
<h3 id="build-advanced-game-ai" tabindex="-1" id="Build-Advanced-Game-AI">Build Advanced Game AI</h3>
<p>​	构建高级游戏 AI</p>
<h4 id="why-game-al-needs-machine-learning" tabindex="-1" id="Why-Game-Al-needs-Machine-Learning">Why Game Al needs Machine Learning</h4>
<p>​	为什么游戏 AI 需要机器学习</p>
<p>It is notable that all previous methods actuallyneed human knowledge to design (include the cost of GOAP)</p>
<p>​	值得注意的是，之前的方法实际上都需要人类知识来设计（包括 GOAP 的成本）</p>
<p>But players always expect Al to be able to bothdeal with complicated game world and behave naturally and diversely</p>
<p>​	但玩家总是希望 AI 能够既能应对复杂的游戏世界，又能表现得自然多样</p>
<ul>
<li>
<p>Traditional methods is in limited space</p>
<p>传统方法空间有限</p>
</li>
<li>
<p>Machine Learning create infinite possibilities</p>
<p>机器学习创造无限可能</p>
</li>
</ul>
<p><img src="17.66.webp" alt="webp"></p>
<h4 id="machine-learning-framework-in-game" tabindex="-1" id="Machine-Learning-Framework-in-Game">Machine Learning Framework in Game</h4>
<p>​	游戏中的机器学习框架</p>
<p>The framework of deploying a neural network to play an agent</p>
<p>​	部署神经网络扮演代理的框架</p>
<p>Observation:</p>
<p>​	观察：</p>
<ul>
<li>
<p>The Game State the Al could observe</p>
<p>人工智能可以观察到的游戏状态</p>
<ul>
<li>
<p>Vector feature</p>
<p>矢量特征</p>
</li>
<li>
<p>Unit information</p>
<p>单位信息</p>
</li>
<li>
<p>Environment information</p>
<p>环境信息</p>
</li>
<li>
<p>Etc.</p>
</li>
</ul>
</li>
<li>
<p>lmage</p>
<p>图像</p>
</li>
<li>
<p>…</p>
</li>
</ul>
<p><img src="17.67.webp" alt="webp"></p>
<h4 id="drl-example-model-the-game" tabindex="-1" id="DRL-Example-Model-the-Game">DRL Example-Model the Game</h4>
<p>​	DRL 示例-游戏建模</p>
<p>A DRL design process should contain:</p>
<p>​	DRL 设计流程应包含：</p>
<ul>
<li>
<p>State</p>
<p>状态</p>
</li>
<li>
<p>Action</p>
<p>动作</p>
</li>
<li>
<p>Reward</p>
<p>奖励</p>
</li>
<li>
<p>NN design</p>
<p>神经网络设计</p>
</li>
<li>
<p>Training Strategy</p>
<p>训练策略</p>
</li>
</ul>
<p><img src="17.68.webp" alt="webp"></p>
<h4 id="drl-example-state" tabindex="-1" id="DRL-Example-State">DRL Example-State</h4>
<p><img src="17.69.webp" alt="webp"></p>
<p>​	如上图这个游戏，状态 = 小地图 + 游戏统计 + 单位 + 玩家数据</p>
<h4 id="states-(1%2F2)-maps" tabindex="-1" id="States-1-2-Maps">States (1/2)-Maps</h4>
<p>​	状态-地图</p>
<p>Heights</p>
<p>​	高度</p>
<p>Visibility: fog of war</p>
<p>​	可见性：战争迷雾</p>
<p>Creep</p>
<p>​	爬行</p>
<p>Entity owners</p>
<p>​	实体所有者</p>
<p>Alerts</p>
<p>​	警报</p>
<p>Pathable</p>
<p>​	可行进</p>
<p>Buildable</p>
<p>​	可建造</p>
<p><img src="17.70.webp" alt="webp"></p>
<h4 id="states(2%2F2)-units-information" tabindex="-1" id="States-2-2-Units-Information">States(2/2)-Units Information</h4>
<p>​	状态（2/2）-单位信息</p>
<p>For each unit in a frame</p>
<p>​	针对框架中的每个单位</p>
<p>​	Unit type 单位类型</p>
<p>​	OwnerStatus 所有者状态</p>
<p>​	Display type 显示类型</p>
<p>​	Position 位置</p>
<p>​	Number of workers 工人数量</p>
<p>​	Cool down 冷却</p>
<p>​	Attributes 属性</p>
<p>​	Unit attributes 单位属性</p>
<p>​	Cargo status 货物状态</p>
<p>​	Building status 建筑状态</p>
<p>​	Resource status 资源状态</p>
<p>​	Order status 订单状态</p>
<p>​	Buff status 增益状态</p>
<p><img src="17.71.webp" alt="webp"></p>
<h4 id="actions" tabindex="-1" id="Actions">Actions</h4>
<p>​	动作</p>
<p>For a unit it should have actions like</p>
<p>​	对于一个单位来说，它应该有以下动作</p>
<ul>
<li>
<p>What</p>
<p>什么</p>
<ul>
<li>
<p>move</p>
<p>移动</p>
</li>
<li>
<p>attack</p>
<p>攻击</p>
</li>
<li>
<p>build</p>
<p>建造</p>
</li>
</ul>
</li>
<li>
<p>Who</p>
<p>谁</p>
</li>
<li>
<p>Where</p>
<p>哪里</p>
</li>
<li>
<p>When next action</p>
<p>何时进行下一步行动</p>
</li>
</ul>
<p><img src="17.72.webp" alt="webp"></p>
<h4 id="rewards-(1%2F2)" tabindex="-1" id="Rewards-1-2">Rewards (1/2)</h4>
<p>​	奖励（1/2）</p>
<p>Direct reward from game</p>
<p>​	游戏直接奖励</p>
<ul>
<li>
<p>Win: +1</p>
<p>赢：+1</p>
</li>
<li>
<p>Lose: -1</p>
<p>输：-1</p>
</li>
</ul>
<p>Pseudo-reward output along with critic network:</p>
<p>​	与评论网络一起输出的伪奖励：</p>
<ul>
<li>
<p>the distance of agent’s operation and human data statistic <strong>z</strong></p>
<p>代理操作与人类数据统计的距离 <strong>z</strong></p>
</li>
</ul>
<p><img src="17.73.webp" alt="webp"></p>
<h4 id="rewards-(2%2F2)" tabindex="-1" id="Rewards-2-2">Rewards (2/2)</h4>
<p>​	奖励 (2/2)</p>
<p>Reward is much denser in OpenAl Five at Dota2</p>
<p>​	Dota2 中 OpenAl Five 的奖励更加密集</p>
<p>Different reward settings could help us to train different styles of agent</p>
<p>​	不同的奖励设置可以帮助我们训练不同风格的代理</p>
<ul>
<li>
<p>Aggressive</p>
<p>激进</p>
</li>
<li>
<p>Conservative</p>
<p>保守</p>
</li>
<li>
<p>…</p>
</li>
</ul>
<p><img src="17.74.webp" alt="webp"></p>
<h4 id="nn-architectures" tabindex="-1" id="NN-architectures">NN architectures</h4>
<p><img src="17.75.webp" alt="webp"></p>
<p>​	OpenAI 提供的玩 Dota2 的神经网络架构。</p>
<h4 id="drl-example-multi-layer-perceptron-(mlp)" tabindex="-1" id="DRL-example-Multi-Layer-Perceptron-MLP">DRL example-Multi-Layer Perceptron (MLP)</h4>
<p>​	DRL 示例-多层感知器 (MLP)</p>
<p>Classical and easy to implement</p>
<p>​	经典且易于实现</p>
<p>Flexible definition of the dimensions of inputs and outputs</p>
<p>​	灵活定义输入和输出的维度</p>
<p><img src="17.76.webp" alt="webp"></p>
<p>Scalar feature example</p>
<p>​	标量特征示例</p>
<ul>
<li>
<p>Race</p>
<p>种族</p>
</li>
<li>
<p>Owned Resource</p>
<p>拥有的资源</p>
</li>
<li>
<p>Upgrade</p>
<p>升级</p>
</li>
<li>
<p>Etc.</p>
</li>
</ul>
<h4 id="drl-example-convolutional-neural-network-(cnn)" tabindex="-1" id="DRL-example-Convolutional-Neural-Network-CNN">DRL example-Convolutional Neural Network (CNN)</h4>
<p>​	DRL 示例-卷积神经网络（CNN）</p>
<p><img src="17.77.webp" alt="webp"></p>
<p>​	还介绍了 ResNet。</p>
<h4 id="drl-example-transformer" tabindex="-1" id="DRL-example-Transformer">DRL example-Transformer</h4>
<p>​	DRL 示例-Transformer</p>
<ul>
<li>
<p>Introduce attention mechanisms</p>
<p>引入注意力机制</p>
</li>
<li>
<p>Uncertain length vector</p>
<p>不确定长度向量</p>
</li>
<li>
<p>Well represent the complex feature like multi agents</p>
<p>很好地表示像多代理这样的复杂特征</p>
</li>
</ul>
<p><img src="17.78.webp" alt="webp"></p>
<h4 id="drl-example-long-short-term-memory-(lstm)" tabindex="-1" id="DRL-example-Long-Short-Term-Memory-LSTM">DRL example-Long-Short Term Memory (LSTM)</h4>
<p>​	DRL 示例 - 长短期记忆 (LSTM)</p>
<p>Enable Al to remember or forget earlier data</p>
<p>​	使 AI 能够记住或忘记早期数据</p>
<p><img src="17.79.webp" alt="webp"></p>
<h4 id="drl-example-nn-architecture-selection" tabindex="-1" id="DRL-example-NN-Architecture-Selection">DRL example-NN Architecture Selection</h4>
<p>​	DRL 示例-NN 架构选择</p>
<p>NN Architecture selection for different type of feature</p>
<p>​	不同类型特征的 NN 架构选择</p>
<ul>
<li>
<p>Fixed length vector feature</p>
<p>固定长度向量特征</p>
<ul>
<li>
<p>Multi-Layer Perception</p>
<p>多层感知</p>
</li>
</ul>
</li>
<li>
<p>Uncertain length vector feature</p>
<p>不确定长度向量特征</p>
<ul>
<li>
<p>Long-Short Term Memory</p>
<p>长短期记忆</p>
</li>
<li>
<p>Transformer</p>
</li>
</ul>
</li>
<li>
<p>Image feature</p>
<p>图像特征</p>
<ul>
<li>ResNet</li>
</ul>
</li>
<li>
<p>Raycast</p>
</li>
<li>
<p>Mesh</p>
</li>
</ul>
<p><img src="17.80.webp" alt="webp"></p>
<h4 id="training-strategy-supervised-learning" tabindex="-1" id="Training-Strategy-Supervised-learning">Training Strategy-Supervised learning</h4>
<p>​	训练策略-监督学习</p>
<p>AlphaStar is trained via both supervised learning and reinforcement learning. lt firstly learned a policy by supervised learning from human expert data</p>
<p>​	AlphaStar 通过监督学习和强化学习进行训练。它首先通过监督学习从人类专家数据中学习策略</p>
<p>z is a statistic summary of a strategy sampled from human data (for example,a build order)</p>
<p>​	z 是从人类数据中采样的策略的统计摘要（例如，构建顺序）</p>
<p>Minimize the distance (KL divergence) of agent policy and human decision distribution sampled from z</p>
<p>​	最小化从 z 中采样的代理策略和人类决策分布的距离（KL 散度）</p>
<p><img src="17.81.webp" alt="webp"></p>
<h4 id="training-strategy-reinforcement-learning" tabindex="-1" id="Training-Strategy-Reinforcement-learning">Training Strategy-Reinforcement learning</h4>
<p>​	训练策略-强化学习</p>
<p>Secondly, it took RL technique to improve the SL policy</p>
<p>​	其次，采用强化学习技术改进 SL 策略</p>
<p>TD(λ),V-trace, UPGO are specific Reinforcement learning methods to improve actor network and critic network.</p>
<p>​	TD(λ)、V-trace、UPGO 是改进参与者网络和评论家网络的具体强化学习方法。</p>
<p>The KL degree towards old SL policy would also be considered</p>
<p>​	还会考虑对旧 SL 策略的 KL 度</p>
<p>These tricks improved the policy and made it more human-like</p>
<p>​	这些技巧改进了策略，使其更像人类</p>
<p><img src="17.82.webp" alt="webp"></p>
<h4 id="train-the-agent-self-play-%26-adversarial" tabindex="-1" id="Train-the-Agent-Self-Play-Adversarial">Train the Agent-Self Play &amp; Adversarial</h4>
<p>​	训练 Agent-自我游戏和对抗</p>
<p>In AlphaStar three pools of agents attend training initialized from SL policy</p>
<p>​	在 AlphaStar 中，三个 Agent 池参加从 SL 策略初始化的训练</p>
<ul>
<li>
<p>Main agents [MA]</p>
<p>主要 Agent [MA]</p>
<ul>
<li>
<p>Goal: most robust and output</p>
<p>目标：最稳健和输出</p>
</li>
<li>
<p>Self-play (35%)</p>
<p>自我游戏 (35%)</p>
</li>
<li>
<p>Against past LE and ME agents (50%)</p>
<p>对抗过去的 LE 和 ME Agent (50%)</p>
</li>
<li>
<p>Against past MA agents (15%)</p>
<p>对抗过去的 MA Agent (15%)</p>
</li>
</ul>
</li>
<li>
<p>League exploiters [LE]</p>
<p>联盟利用者 [LE]</p>
<ul>
<li>
<p>Goal: find weakness of past all agents (MA, LE, ME)</p>
<p>目标：找到过去所有 Agent (MA、LE、ME) 的弱点</p>
</li>
<li>
<p>Against all past agents (MA, LE, ME)</p>
<p>对抗所有过去的 Agent (MA、LE、ME)</p>
</li>
</ul>
</li>
<li>
<p>Main exploiters [ME]</p>
<p>主要利用者 [ME]</p>
<ul>
<li>
<p>Goal: find weakness of current MA agent</p>
<p>目标：找到当前 MA Agent 的弱点</p>
</li>
<li>
<p>Against current MA agent</p>
<p>对抗当前的 MA Agent</p>
</li>
</ul>
</li>
</ul>
<p><img src="17.83.webp" alt="webp"></p>
<h4 id="rl-or-sl%3F%E2%80%94%E2%80%94sl-analysis" tabindex="-1" id="RL-or-SL-——SL-analysis">RL or SL?——SL analysis</h4>
<p>​	RL 还是 SL？——SL 分析</p>
<p>Supervised Learning needs high quality data, and sometimes behaves well too</p>
<p>​	监督学习需要高质量的数据，有时表现也很好</p>
<ul>
<li>
<p>It behaves like human</p>
<p>它表现得像人类</p>
</li>
<li>
<p>But may not outperform human expert data</p>
<p>但可能不会胜过人类专家数据</p>
</li>
<li>
<p>Human data is unbalanced</p>
<p>人类数据不平衡</p>
</li>
<li>
<p>Sometimes there is not enough data</p>
<p>有时数据不足</p>
</li>
</ul>
<p><img src="17.84.webp" alt="webp"></p>
<h4 id="rl-or-sl%3F-rl-analysis" tabindex="-1" id="RL-or-SL-RL-analysis">RL or SL?-RL analysis</h4>
<p>​	RL 还是 SL？-RL 分析</p>
<p>Reinforcement Learning is usually considered as the optimal solution, however</p>
<p>​	强化学习通常被认为是最佳解决方案，但是</p>
<ul>
<li>
<p>Training a RL model is tough</p>
<p>训练 RL 模型很困难</p>
</li>
<li>
<p>The model is hard to converge</p>
<p>模型很难收敛</p>
</li>
<li>
<p>The game environment for training is also a huge development project</p>
<p>训练的游戏环境也是一个巨大的开发项目</p>
</li>
<li>
<p>The data collection process could be slow</p>
<p>数据收集过程可能很慢</p>
</li>
<li>
<p>And the behavior maybe unnatural</p>
<p>行为可能不自然</p>
</li>
</ul>
<p><img src="17.85.webp" alt="webp"></p>
<h4 id="rl-or-sl%3F%E2%80%94%E2%80%94dense-reward" tabindex="-1" id="RL-or-SL-——Dense-reward">RL or SL?——Dense reward</h4>
<p>​	RL 还是 SL？——密集奖励</p>
<p>What makes a good problem for RL</p>
<p>​	什么才是 RL 的好问题</p>
<p><img src="17.86.webp" alt="webp"></p>
<h4 id="rl-or-sl%3F%E2%80%94%E2%80%94summary" tabindex="-1" id="RL-or-SL-——Summary">RL or SL?——Summary</h4>
<table>
<thead>
<tr>
<th>Situation for SL<br/>SL 的情况</th>
<th>Situation for RL<br/>强化学习的情况</th>
</tr>
</thead>
<tbody>
<tr>
<td>Easy to get data<br/>轻松获取数据</td>
<td>Needs to outperform the master level<br/>需要超越大师水平</td>
</tr>
<tr>
<td>Needs to perform like human<br/>需要像人类一样表现</td>
<td>Enough budget<br/>足够的预算</td>
</tr>
<tr>
<td></td>
<td>Data is unavailable<br/>数据不可用</td>
</tr>
<tr>
<td></td>
<td>Dense reward<br/>密集奖励</td>
</tr>
</tbody>
</table>
<h4 id="hybrid" tabindex="-1" id="Hybrid">Hybrid</h4>
<p>​	混合</p>
<p>Machine Learning is powerful.</p>
<p>​	机器学习很强大。</p>
<p>But it cost much too. For example, DeepMind spends 250million dollars to finish alpha star and a replication needs 13million dollars</p>
<p>​	但成本也很高。例如，DeepMind 花费 2.5 亿美元完成 alpha star，而复制需要 1300 万美元</p>
<p>We often need to make a tradeoff that place DNN on the human-like points (a part of thewhole combat).</p>
<p>​	我们经常需要做出权衡，将 DNN 放在类人点上（整个战斗的一部分）。</p>
<p><img src="17.87.webp" alt="webp"></p>
<h3 id="references-1" tabindex="-1" id="References-2">References</h3>
<h4 id="htn" tabindex="-1" id="HTN">HTN</h4>
<ul>
<li>Humphreys T. Exploring HTN planners through example, Game Al Pro 360. CRC Press.
2019: 103-122. <a target="_blank" rel="noopener" href="https://www.gameaipro.com/GameAlPro/GameAlPro_Chapter12_Exploring_HTN_Planners_through_Example.pdf">https://www.gameaipro.com/GameAlPro/GameAlPro_Chapter12_Exploring_HTN_Planners_through_Example.pdf</a></li>
<li>An overview of hierarchical task network planning. Georgievski l, et al. arXiv preprintarXiv:1403.7426,2014.<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1403.7426">https://arxiv.org/abs/1403.7426</a></li>
<li>Advanced Real-Time Hierarchical Task Networks: A New Approach. Tomohiro M, et al.Square enix.GDC 2021. <a target="_blank" rel="noopener" href="https://lgdcvault.com/play/1027232/A-Summit-Advanced-RealTime">https://lgdcvault.com/play/1027232/A-Summit-Advanced-RealTime</a></li>
</ul>
<h4 id="goap" tabindex="-1" id="GOAP">GOAP</h4>
<ul>
<li>Enhanced NPc behaviour using goal oriented action planning. Long E. Master’s ThesisSchool of Computing and Advanced Technologies, University of Abertay Dundee, <a target="_blank" rel="noopener" href="http://Dundee.UK">Dundee.UK</a>, 2007
<a target="_blank" rel="noopener" href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.131.8964&amp;rep=rep1&amp;type=pdf">https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.131.8964&amp;rep=rep1&amp;type=pdf</a></li>
<li>Goal-oriented action planning: Ten years old and no fear! Chris C, et al. Crystal DynamicsGDC 2015.<a target="_blank" rel="noopener" href="https://gdcvault.com/play/1022019/Goal-0riented-Action-Planning-Ten">https://gdcvault.com/play/1022019/Goal-0riented-Action-Planning-Ten</a></li>
<li>Al Action Planning on Assassin’s Creed Odyssey and lmmortals Fenyx Rising. Simon GUbisoft. GDC 2021.<a target="_blank" rel="noopener" href="https://lgdcvault.com/play/1027004/A1-Action-Planning-on-Assassin">https://lgdcvault.com/play/1027004/A1-Action-Planning-on-Assassin</a></li>
</ul>
<h4 id="mcts" tabindex="-1" id="MCTS">MCTS</h4>
<ul>
<li>A survey of monte carlo tree search methods. Browne C B, et al. lEEE Transactions onComputational Intelligence and Al in games, 2012, 4(1): 1-43.<a target="_blank" rel="noopener" href="https://www.researchgate.netpublication/235985858_A_Survey_of_Monte_Carlo_TreeSearch_Methods">https://www.researchgate.netpublication/235985858_A_Survey_of_Monte_Carlo_TreeSearch_Methods</a></li>
<li>Enhancements for real-time Monte-Carlo tree search in general video game playing.Soemers D, et al. 2016 lEEE Conference on Computational Intelligence and Games(CIG).lEEE, 2016:1-8.<a target="_blank" rel="noopener" href="https://ieeexplore.eee.org/abstract/document/7860448/">https://ieeexplore.eee.org/abstract/document/7860448/</a></li>
<li>Action guidance with MCTS for deep reinforcement learning. Kartal B, et al. Proceedingsof the AAAl Conference on Artificial Intelligence and Interactive Digital Entertainment.2019,15(1):153-159.<a target="_blank" rel="noopener" href="https://ojs.aaai.org/index.php/AllDE/article/view/5238">https://ojs.aaai.org/index.php/AllDE/article/view/5238</a></li>
</ul>
<h4 id="machine-learning-1" tabindex="-1" id="Machine-Learning-2">Machine Learning</h4>
<ul>
<li>
<p>Great Chinese tutorial on reinforcement learning: Easy-RL, 人民邮电出版社, 2022https://github.com/datawhalechina/easy-rl</p>
</li>
<li>
<p>Classic English textbook on reinforcement learning: Reinforcement Learning: anintroduction, MlT press, 2018.
<a target="_blank" rel="noopener" href="https://web.Stanford.edu/class/psych209/Readings/SuttonBartolPRLBook2ndEd.pdf">https://web.Stanford.edu/class/psych209/Readings/SuttonBartolPRLBook2ndEd.pdf</a></p>
</li>
<li>
<p>Classic course on reinforcement learning: Stanford Course CS234: <a target="_blank" rel="noopener" href="https://web.Stanford.edu/class/cs234/">https://web.Stanford.edu/class/cs234/</a></p>
</li>
<li>
<p>Key papers on reinforcement learning selected by OpenAl.<a target="_blank" rel="noopener" href="https://spinningup.openai.com/en/latest/spinningup/keypapers.html">https://spinningup.openai.com/en/latest/spinningup/keypapers.html</a></p>
</li>
<li>
<p>Classic handbook on deep learning: <a target="_blank" rel="noopener" href="https://github.com/janishar/mit-deep-learning-book-pdf">https://github.com/janishar/mit-deep-learning-book-pdf</a></p>
</li>
<li>
<p>An introduction to convolutional neural networks, O’Shea K, et al. arXiv preprintarXiv:1511.08458,2015.<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1511.08458.pdf">https://arxiv.org/pdf/1511.08458.pdf</a></p>
</li>
<li>
<p>Understanding LSTM -a tutorial into long short-term memory recurrent neuralnetworks, Staudemeyer R C, et al. arXiv preprint arXiv:1909.09586. 2019.<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1909.09586">https://arxiv.org/abs/1909.09586</a></p>
</li>
<li>
<p>Attention is all you need. Vaswani A, et al. Advances in neural information processingsystems, 2017,30.:<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1706.03762">https://arxiv.org/abs/1706.03762</a></p>
</li>
</ul>
<h4 id="machine-learning-game-applications" tabindex="-1" id="Machine-Learning-Game-Applications">Machine Learning Game Applications</h4>
<ul>
<li>
<p>Atari: Mnih V, et al. Playing atari with deep reinforcement learning. arXiv preprintarXiv:1312.5602,2013.<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1312.5602.pdf">https://arxiv.org/pdf/1312.5602.pdf</a></p>
</li>
<li>
<p>Honor of Kings : Ye D, et al. Mastering complex control in moba games with deepreinforcement learning. Proceedings of the AAAl Conference on Artificial Intelligence2020,34(04):6672-6679.<a target="_blank" rel="noopener" href="https://ojs.aaai.org/index.php/AAAl/article/view/6144">https://ojs.aaai.org/index.php/AAAl/article/view/6144</a></p>
</li>
<li>
<p>Dota2: Berner C, et al. Dota 2 with large scale deep reinforcement learning. arXivpreprint arXiv:1912.06680,2019.<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1912.06680.pdf">https://arxiv.org/pdf/1912.06680.pdf</a></p>
</li>
<li>
<p>Starcraft2: Vinyals O, et al. Grandmaster level in StarCraft ll using multi-agentreinforcement learning[J]. Nature, 2019,575(7782):350-354https://www.nature.com/articles/s41586-019-1724-z.pdf</p>
</li>
<li>
<p>DRL for navigation: Deep Reinforcement Learning For Navigation. Maxim P, et al. UbisoftGDC 2021.<a target="_blank" rel="noopener" href="https://gdcvault.com/play/1027382/Machine-Learning-Summit-Deep-Reinforcement">https://gdcvault.com/play/1027382/Machine-Learning-Summit-Deep-Reinforcement</a></p>
</li>
<li>
<p>Machine Learning in game engine: lt’s Complicated: Getting ML inside a AAA EngineAdrien L,et al. Ubisoft. GDc 2022. <a target="_blank" rel="noopener" href="https://gdcvault.com/play/1027851/Machine-Learning-Summit-lt-s">https://gdcvault.com/play/1027851/Machine-Learning-Summit-lt-s</a></p>
</li>
<li>
<p>Age of Empires lV: 'Age of Empires IV: Machine Learning Trials and Tribulations. Guy L, etal. Microsoft GDc 2022.<a target="_blank" rel="noopener" href="https://lgdcvault.com/play/1027936/A1-Summit-Age-of-Empires">https://lgdcvault.com/play/1027936/A1-Summit-Age-of-Empires</a></p>
</li>
<li>
<p>lmitation Learning case: Buffing Bots with lmitation Learning. Niels j, et al. <a target="_blank" rel="noopener" href="http://modl.ai">modl.ai</a>. GDC2022.<a target="_blank" rel="noopener" href="https://gdcvault.com/play/1027942/A1-Summit-Buffing-Bots-with">https://gdcvault.com/play/1027942/A1-Summit-Buffing-Bots-with</a></p>
</li>
</ul>

            </article>
            
	<div class="rightside">
	
		<div class="rightside-button" id="js-aside">
			<span>
				<img no-lazy src="/images/icon/aside.png" class="rightside-button-icon" alt="Icon">
			</span>
		</div>
		<script>
			$("#js-aside").click(function () {
				onShowAsideButton();
			});
		</script>
	
	<div class="rightside-button" id="js-toggle_theme">
		<span>
			<img no-lazy src="/images/icon/toggle_theme.png" class="rightside-button-icon" alt="Icon">
		</span>
	</div>

	
<script src="/js/plugins/goto_position.js"></script>

	
	<div class="rightside-button" id="js-go_top">
		<span>
			<img no-lazy src="/images/icon/go_top.png" class="rightside-button-icon" alt="Icon">
		</span>
	</div>
	<div class="rightside-button" id="js-go_bottom">
		<span>
			<img no-lazy src="/images/icon/go_bottom.png" class="rightside-button-icon" alt="Icon">
		</span>
	</div>

	<script>
		setToggleThemeButtonListener();
	</script>
	<script>
		$('#js-go_top')
		.gotoPosition( {
			speed: 300,
			target: 'top',
		} );
		$('#js-go_bottom')
		.gotoPosition( {
			speed: 300,
			target: 'bottom',
		} );
	</script>
</div>


<div class="post-bottom">
    
        <div class="post-paging">     
            <div class="post-paging-last">
                
                    <a href="/posts/Diary-18-%E6%88%91%E8%A6%81%E8%80%83%E5%85%AD%E7%BA%A7%EF%BC%81/">
                        上一篇：Diary-18-我要考六级！
                    </a>
                
            </div>
            <div class="post-paging-next">
                
                    <a href="/posts/Diary-%E5%8F%88%E4%BA%AC%E4%BA%86%EF%BC%88%E4%B8%89%EF%BC%89/">
                        下一篇：Diary-又京了（三）
                    </a>
                
            </div>
        </div>
    
    
    
        
            <div class="giscus comments"></div>
            <script>
                var scriptElement = document.createElement('script');
                scriptElement.src = 'https://giscus.app/client.js';
                scriptElement.setAttribute('data-repo', 'GZ-Metal-Cell/GZ-Metal-Cell.github.io');
                scriptElement.setAttribute('data-repo-id', 'R_kgDOIHLEOQ');
                scriptElement.setAttribute('data-category', 'Announcements');
                scriptElement.setAttribute('data-category-id', 'DIC_kwDOIHLEOc4CcVwP');
                scriptElement.setAttribute('data-mapping', 'title');
                scriptElement.setAttribute('data-strict', '1');
                scriptElement.setAttribute('data-reactions-enabled', '');
                scriptElement.setAttribute('data-emit-metadata', '0');
                scriptElement.setAttribute('data-input-position', 'bottom');
                scriptElement.setAttribute('data-theme', localStorage.getItem('theme') === 'light' ? 'light' : 'dark_high_contrast');
                scriptElement.setAttribute('data-lang', 'zh-CN');
                
                scriptElement.setAttribute('crossorigin', 'anonymous');
                scriptElement.async = true;
                document.head.appendChild(scriptElement);
            </script>
        
    
</div>
        </div>
    </main>
    
        <aside class="main-aside">
    
<script src="/js/widgets/aside.js"></script>

    <script>
        showAside();
    </script>

    <div class="aside-top">
        <div class="aside-top-about aside-card">
            <a href="/about" class="aside-top-about-portrait">
                <img no-lazy src="/about/portrait.png" alt="Q">
            </a>
            <div class="aside-top-about-info">
                <span class="author"> Zi-Zi</span>
                <span class="description">不以物喜，不以己悲。</span>
            </div>              
            <div class="aside-top-about-site">
                <a href="/categories" class="aside-top-about-site-item">
                    <span class="title">类别</span>
                    <span class="count">5</span>
                </a>
                <a href="/tags" class="aside-top-about-site-item">
                    <span class="title">标签</span>
                    <span class="count">122</span>
                </a>
                <a href="/archives" class="aside-top-about-site-item">
                    <span class="title">归档</span>
                    <span class="count">437</span>
                </a>
            </div>
            <div class="aside-top-about-contact">
                
                    
                        <a target="_blank" rel="noopener" href="https://weibo.com/u/5020307235">
                            <img no-lazy src="/images/bottom_icon/Weibo.webp" alt="Quieter">
                        </a>
                    
                        <a target="_blank" rel="noopener" href="https://tieba.baidu.com/home/main?id=tb.1.ff6d2775.vFH7wrdW2ZjPCmyBHJcjnA">
                            <img no-lazy src="/images/bottom_icon/Tieba.webp" alt="Quieter">
                        </a>
                    
                        <a target="_blank" rel="noopener" href="https://space.bilibili.com/11547880">
                            <img no-lazy src="/images/bottom_icon/Bilibili.webp" alt="Quieter">
                        </a>
                    
                        <a target="_blank" rel="noopener" href="https://github.com/GZ-Metal-Cell">
                            <img no-lazy src="/images/bottom_icon/github.webp" alt="Quieter">
                        </a>
                    
                
            </div>
        </div> 

        
            <div class="aside-top-series aside-card">
                <ol class="aside-top-series-content">
                    
                    
                    
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                                    
                                    
                                    
                                        <li class="series-item">
                                            <a class="series-link" href="/posts/GAMES104-Basic Elements/">
                                                <span class="text">GAMES104-Basic Elements</span>
                                            </a>
                                        </li>
                                    
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                                    
                                    
                                    
                                        <li class="series-item">
                                            <a class="series-link" href="/posts/GAMES104-Rendering/">
                                                <span class="text">GAMES104-Rendering</span>
                                            </a>
                                        </li>
                                    
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                                    
                                    
                                    
                                        <li class="series-item">
                                            <a class="series-link" href="/posts/GAMES104-Animation/">
                                                <span class="text">GAMES104-Animation</span>
                                            </a>
                                        </li>
                                    
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                                    
                                    
                                    
                                        <li class="series-item">
                                            <a class="series-link" href="/posts/GAMES104-Physics/">
                                                <span class="text">GAMES104-Physics</span>
                                            </a>
                                        </li>
                                    
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                                    
                                    
                                    
                                        <li class="series-item">
                                            <a class="series-link" href="/posts/GAMES104-Effects/">
                                                <span class="text">GAMES104-Effects</span>
                                            </a>
                                        </li>
                                    
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                                    
                                    
                                    
                                        <li class="series-item">
                                            <a class="series-link" href="/posts/GAMES104-Tool Chains/">
                                                <span class="text">GAMES104-Tool Chains</span>
                                            </a>
                                        </li>
                                    
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                                    
                                    
                                    
                                        
                                        <li class="series-item active">
                                            <a class="series-link active" href="/posts/GAMES104-Gameplay/">
                                                <span class="text">GAMES104-Gameplay</span>
                                            </a>
                                        </li>
                                    
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                                    
                                    
                                    
                                        <li class="series-item">
                                            <a class="series-link" href="/posts/GAMES104-Online Gaming Architecture/">
                                                <span class="text">GAMES104-Online Gaming Architecture</span>
                                            </a>
                                        </li>
                                    
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                                    
                                    
                                    
                                        <li class="series-item">
                                            <a class="series-link" href="/posts/GAMES104-Data-Oriented Programming and Job System/">
                                                <span class="text">GAMES104-Data-Oriented Programming and Job System</span>
                                            </a>
                                        </li>
                                    
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                                    
                                    
                                    
                                        <li class="series-item">
                                            <a class="series-link" href="/posts/GAMES104-Dynamic Global Illumination and Lumen/">
                                                <span class="text">GAMES104-Dynamic Global Illumination and Lumen</span>
                                            </a>
                                        </li>
                                    
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                                    
                                    
                                    
                                        <li class="series-item">
                                            <a class="series-link" href="/posts/GAMES104-GPU-Driven Geometry Pipeline-Nanite/">
                                                <span class="text">GAMES104-GPU-Driven Geometry Pipeline-Nanite</span>
                                            </a>
                                        </li>
                                    
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                        
                        
                            
                                
                            
                        
                    
                </ol>
                <div class="aside-top-series-title">
                    <h1>
                        <a href="/tags/GAMES104">标签：GAMES104</a>
                    </h1>
                    <span id="serial-number">7/11</span>
                </div>
            </div>
            <script>
                activeSeriesItem();
            </script> 
        
    </div>

    <div class="aside-bottom">
        
            <script>
                
                    const tocCollapsed = true;
                
                
                    const tocDepth = 3;
                
                var headerString = '';
                for (let i = 1; i <= tocDepth; i++) {
                    if (i === 1) {
                        headerString += 'h1';
                    } else {
                        headerString += ', h' + i;
                    }
                }
                hbeToc();
            </script>
            <div class="aside-bottom-toc aside-card">
                <div class="aside-bottom-toc-title">
                    <h1>目录</h1>
                    <span class="toc-percentage"></span>
                </div>
                <ol class="aside-bottom-toc-content"></ol>
            </div>
        
    </div>
</aside>
    
</div>
		<footer>
	<div class="content">
		
			<span>©2022-2025&nbsp;By&nbsp;<a href="/about">Zi-Zi</a>.</span>
		
		<span><a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> theme by <a target="_blank" rel="noopener" href="https://github.com/GZ-Metal-Cell/hexo-theme-quieter">Quieter</a>.</span>
		
			<span style="display: flex;">
				<img no-lazy alt="icp" src="/images/icp_icon.png" style="width: 16px; height: 16px;">
				<a href="https://icp.gov.moe/?keyword=20241647" target="_blank">萌 ICP 备 20241647 号</a>
			</span>
		
	</div>

	
<script src="/js/plugins/ref.js"></script>

	
<script src="/js/plugins/highlight_tools.js"></script>

	<script>
		const  COPY_ICON = "/images/icon/copy.png";
		const CLOSE_CODE_BLOCK_ICON = "/images/icon/close_code_block.png";
		const HIGHLIGHT_SHRINK = "";
		const HIGHLIGHT_HEIGHT_LIMIT = "";
	</script>

	
	
	<!-- Analytics -->

    
        <!-- Busuanzi Analytics -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    
        <!-- Baidu Analytics -->
        <script defer>
            var _hmt = _hmt || [];
            (function () {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?e57cf62289f84322ebff116e8b3d343e";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();
        </script>
    


	

	
		
			
				<link rel="stylesheet" href="/css/plugins/katex/katex.min.css">
				<script src="/js/plugins/copy-tex.js"></script>
			
		
	

    
		
<link rel="stylesheet" href="/css/plugins/textIndent.css">

		
<script src="/js/plugins/textIndent.js"></script>

	

	
	
	
		<script>
			if (typeof init === 'function') {
				init();
			}
		</script>
	

	
		
	

	

	<!--
		
<script src="/js/plugins/jquery.pjax.min.js"></script>

		<script>
			$(document).pjax('a[target!=_blank]', 'main', {
				fragment: 'main',
				timeout: 8000
			});

			$(document).on('pjax:complete', function() {
			});
		</script> 
	-->
	<script>
		console.log('\n %c Hexo-Quieter 主题 %c https://github.com/GZ-Metal-Cell/hexo-theme-quieter \n', 'color: #fadfa3; background: #030307; padding:5px 0;', 'background: #fadfa3; padding:5px 0;')
	</script>
</footer>
	</body>

	<!-- Hexo-Quieter 主题  https://github.com/GZ-Metal-Cell/hexo-theme-quieter -->
</html>

