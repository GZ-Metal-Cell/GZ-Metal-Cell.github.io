<!DOCTYPE html>
<html lang=zh-CN data-theme="light">
	
<script src="/js/plugins/toggleTheme.js"></script>

	<script>
		setTheme();
	</script>
	<head>
		
<title>Unity-回顾一下让老师震惊的 PPT | Zi-Zi's Journey</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" type="image/x-icon" href="/images/icon/favicon.ico">
<link href="/css/plugins/print.css" media="print" rel="stylesheet" />

<link rel="stylesheet" href="/css/index.css">



<meta name="keywords" content="CSharp,Unity,">
<meta name="description" content="展示之前使用 Unity 写的 PPT。">



<script src="/js/plugins/jquery.min.js"></script>


<script src="/js/plugins/hljs.min.js"></script>


<script src="/js/plugins/init.js"></script>


<script src="/js/plugins/hide.js"></script>


<script src="/js/plugins/tabs.js"></script>



    



    
<script src="/js/plugins/alert-title.js"></script>

    
<link rel="stylesheet" href="/css/plugins/github-alerts/github-base.css">

    
<link rel="stylesheet" href="/css/plugins/github-alerts/github-colors-dark-class.css">

    
<link rel="stylesheet" href="/css/plugins/github-alerts/github-colors-light.css">






    

	<meta name="generator" content="Hexo 6.1.0"></head>

	<body>
		<header class="sticky-header">
	<nav>
		<div class="nav-left">
			<a href="/" class="logo">
				<img no-lazy src="/images/headers_icon/logo.webp" alt="Quieter">
			</a>
			<ul class="breadcrumb" id="breadcrumb"></ul>
		</div>
		<div class="nav-right">
			<ul>
				
					<li>
						<a href="/">
						  主页
						</a>
					</li>
				
					<li>
						<a href="/categories">
						  类别
						</a>
					</li>
				
					<li>
						<a href="/tags">
						  标签
						</a>
					</li>
				
					<li>
						<a href="/archives">
						  归档
						</a>
					</li>
				
					<li>
						<a href="/galleries">
						  相册
						</a>
					</li>
				
					<li>
						<a href="/links">
						  链接
						</a>
					</li>
				
					<li>
						<a href="/about">
						  关于
						</a>
					</li>
								  
			</ul>
		</div>
		<div class="nav-right-close">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
				<path fill="none" d="M0 0h24v24H0z" />
				<path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z" fill="rgba(68,68,68,1)" />
			</svg>
		</div>

		<div class="sidebar">
    <div class="topo">
        <p>Zi-Zi's Journey</p>
    </div>
    <ul>
        
        <li>
            <a href="/">
                主页
            </a>
        </li>
        
        <li>
            <a href="/categories">
                类别
            </a>
        </li>
        
        <li>
            <a href="/tags">
                标签
            </a>
        </li>
        
        <li>
            <a href="/archives">
                归档
            </a>
        </li>
        
        <li>
            <a href="/galleries">
                相册
            </a>
        </li>
        
        <li>
            <a href="/links">
                链接
            </a>
        </li>
        
        <li>
            <a href="/about">
                关于
            </a>
        </li>
        
    </ul>
    <div class="sidebar-footer">
        
        <a target="_blank" rel="noopener" href="https://weibo.com/u/5020307235">
            <img no-lazy src="/images/bottom_icon/Weibo.webp" alt="Quieter">
        </a>
        
        <a target="_blank" rel="noopener" href="https://tieba.baidu.com/home/main?id=tb.1.ff6d2775.vFH7wrdW2ZjPCmyBHJcjnA">
            <img no-lazy src="/images/bottom_icon/Tieba.webp" alt="Quieter">
        </a>
        
        <a target="_blank" rel="noopener" href="https://space.bilibili.com/11547880">
            <img no-lazy src="/images/bottom_icon/Bilibili.webp" alt="Quieter">
        </a>
        
        <a target="_blank" rel="noopener" href="https://github.com/GZ-Metal-Cell">
            <img no-lazy src="/images/bottom_icon/github.webp" alt="Quieter">
        </a>
        
    </div>
</div>
<div class='shelter'>
    <script>
        $(function() {
            $('.nav-right-close > svg').click(function() {
                $('.sidebar').animate({
                    right: "0"
                }, 500);
                $('.shelter').fadeIn("slow");
            
                var element = $('.topo');
                element.addClass('custom-style');
            
                var links = null;
                if ("") {
                    links = "".split(',');
                } else {
                    links = "/images/random_top_img/01.webp,/images/random_top_img/02.webp,/images/random_top_img/03.webp,/images/random_top_img/04.webp,/images/random_top_img/05.webp,/images/random_top_img/06.webp,/images/random_top_img/07.webp,/images/random_top_img/08.webp,/images/random_top_img/09.webp,/images/random_top_img/10.webp,/images/random_top_img/11.webp,/images/random_top_img/12.webp,/images/random_top_img/13.webp,/images/random_top_img/14.webp,/images/random_top_img/15.webp,/images/random_top_img/16.webp,/images/random_top_img/17.webp,/images/random_top_img/18.webp,/images/random_top_img/19.webp,/images/random_top_img/20.webp,/images/random_top_img/21.webp,/images/random_top_img/22.webp,/images/random_top_img/23.webp,/images/random_top_img/24.webp,/images/random_top_img/25.webp,/images/random_top_img/26.webp,/images/random_top_img/27.webp,/images/random_top_img/28.webp,/images/random_top_img/29.webp,/images/random_top_img/30.webp,/images/random_top_img/31.webp,/images/random_top_img/32.webp,/images/random_top_img/33.webp,/images/random_top_img/34.webp,/images/random_top_img/35.webp,/images/random_top_img/36.webp,/images/random_top_img/37.webp,/images/random_top_img/38.webp,/images/random_top_img/39.webp,/images/random_top_img/40.webp,/images/random_top_img/41.webp,/images/random_top_img/42.webp,/images/random_top_img/43.webp,/images/random_top_img/44.webp,/images/random_top_img/45.webp,/images/random_top_img/46.webp,/images/random_top_img/47.webp,/images/random_top_img/48.webp,/images/random_top_img/49.webp,/images/random_top_img/50.webp,/images/random_top_img/51.webp,/images/random_top_img/52.webp,/images/random_top_img/53.webp,/images/random_top_img/54.webp,/images/random_top_img/55.webp,/images/random_top_img/56.webp,/images/random_top_img/57.webp".split(',');
                }
            
                var randomLink = links[Math.floor(Math.random() * links.length)];
                element.css('background-image', "url('" + randomLink + "')");
            });
          
            $('.shelter').click(function(e) {
                $('.sidebar').animate({
                    right: "-100%"
                }, 500);
                $('.shelter').fadeOut("slow");
            });
        });      
    </script>
</div>
	</nav>

	
		<div class="header-background"></div>
	

	<script>
		const name = 'post';
		const ul = document.querySelectorAll('.nav-right ul')[0];
		const lis = ul.querySelectorAll('li');

		if (name == 'home') {
			lis[0].classList.add('select');
		} else {
			for (let i = 0; i < lis.length; i++) {
				const li = lis[i];
				const a = li.querySelector('a');
				if (name === a.href.split('/')[3]) {
					li.classList.add('select');
				}
			}
		}
	</script>
	
	<script>
		var element = document.querySelector('.header-background');
		if(element) {
			element.classList.add('custom-style');
			var links = null;
			if("")
			{
				links = "".split(',');
			} else
			{
				links = "/images/random_top_img/01.webp,/images/random_top_img/02.webp,/images/random_top_img/03.webp,/images/random_top_img/04.webp,/images/random_top_img/05.webp,/images/random_top_img/06.webp,/images/random_top_img/07.webp,/images/random_top_img/08.webp,/images/random_top_img/09.webp,/images/random_top_img/10.webp,/images/random_top_img/11.webp,/images/random_top_img/12.webp,/images/random_top_img/13.webp,/images/random_top_img/14.webp,/images/random_top_img/15.webp,/images/random_top_img/16.webp,/images/random_top_img/17.webp,/images/random_top_img/18.webp,/images/random_top_img/19.webp,/images/random_top_img/20.webp,/images/random_top_img/21.webp,/images/random_top_img/22.webp,/images/random_top_img/23.webp,/images/random_top_img/24.webp,/images/random_top_img/25.webp,/images/random_top_img/26.webp,/images/random_top_img/27.webp,/images/random_top_img/28.webp,/images/random_top_img/29.webp,/images/random_top_img/30.webp,/images/random_top_img/31.webp,/images/random_top_img/32.webp,/images/random_top_img/33.webp,/images/random_top_img/34.webp,/images/random_top_img/35.webp,/images/random_top_img/36.webp,/images/random_top_img/37.webp,/images/random_top_img/38.webp,/images/random_top_img/39.webp,/images/random_top_img/40.webp,/images/random_top_img/41.webp,/images/random_top_img/42.webp,/images/random_top_img/43.webp,/images/random_top_img/44.webp,/images/random_top_img/45.webp,/images/random_top_img/46.webp,/images/random_top_img/47.webp,/images/random_top_img/48.webp,/images/random_top_img/49.webp,/images/random_top_img/50.webp,/images/random_top_img/51.webp,/images/random_top_img/52.webp,/images/random_top_img/53.webp,/images/random_top_img/54.webp,/images/random_top_img/55.webp,/images/random_top_img/56.webp,/images/random_top_img/57.webp".split(',');
			}
			var randomLink = links[Math.floor(Math.random() * links.length)];
			element.style.backgroundImage = "url('" + randomLink + "')";
		}
	</script>

	
<script src="/js/plugins/breadcrumb.js"></script>

	<script>
		var menus_title = [];
		
			menus_title.push({home: '主页'});
		
			menus_title.push({categories: '类别'});
		
			menus_title.push({tags: '标签'});
		
			menus_title.push({archives: '归档'});
		
			menus_title.push({galleries: '相册'});
		
			menus_title.push({links: '链接'});
		
			menus_title.push({about: '关于'});
		
		
			
				postsBreadcrumb(
					document.getElementById('breadcrumb'),
					"类别",
					"/categories",
					"学习",
					"/categories/学习",
					1
				);
			
		
	</script>
</header>

<div class="main-wrapper">
    <main class="post">
        <header class="main-header">
	
		
			
				
<link rel="stylesheet" href="/css/plugins/fancybox.css">

				
<script src="/js/plugins/fancybox.umd.js"></script>

				
<script src="/js/plugins/fancybox.js"></script>

			
			<div class="post-header-background-content">
				<ul class="post-header-tag">
					
						
							<li><a href="/tags/CSharp"><span>CSharp</span></a></li>
						
							<li><a href="/tags/Unity"><span>Unity</span></a></li>
						
					
				</ul>
				
				<h1>Unity-回顾一下让老师震惊的 PPT</h1>
		
				
					<div class="post-header-desc">
						<svg t="1714702231661" class="icon" viewBox="0 0 1024 1024" version="1.1"
						xmlns="http://www.w3.org/2000/svg" p-id="1154" xmlns:xlink="http://www.w3.org/1999/xlink"
						width="20" height="20">
						<path
							d="M778.24 117.76A46.08 46.08 0 0 1 824.32 163.84v430.08c0 8.4992-4.13696 16.01536-10.50624 20.6848l-0.24576 0.2048L587.5712 846.09024a35.84 35.84 0 0 1-61.48096-25.06752v-220.9792a46.08 46.08 0 0 1 46.08-46.08l200.94976-0.02048V168.96h-522.24v686.08H389.12c13.25056 0 24.1664 10.07616 25.47712 22.97856l0.12288 2.62144c0 14.1312-11.4688 25.6-25.6 25.6h-143.36A46.08 46.08 0 0 1 199.68 860.16V163.84A46.08 46.08 0 0 1 245.76 117.76h532.48z m-26.78784 487.38304h-174.16192v178.176l174.16192-178.176z m-45.19936-169.94304a25.6 25.6 0 0 1 0 51.2H307.2a25.6 25.6 0 0 1 0-51.2h399.0528z m0-122.88a25.6 25.6 0 0 1 0 51.2H307.2a25.6 25.6 0 0 1 0-51.2h399.0528z"
							fill="#ffffff" p-id="1155"></path>
						</svg>
						<p>展示之前使用 Unity 写的 PPT。</p>
					</div>
				
		
				<div class="post-header-info">
					<svg t="1604839279282" class="icon" viewBox="0 0 1024 1024" version="1.1"
					xmlns="http://www.w3.org/2000/svg" p-id="2901" width="20" height="20">
						<path
							d="M513 956.3c-247.7 0-448-200.3-448-448S265.3 66.2 513 66.2s448 200.3 448 448-200.3 442.1-448 442.1z m0-830.9c-212.2 0-388.8 170.7-388.8 388.8C124.2 726.3 294.9 903 513 903c212.2 0 388.8-170.7 388.8-388.8S725.2 125.4 513 125.4z m0 430.2c-94.2 0-170.7-76.5-170.7-170.7S418.8 207.8 513 207.8s170.7 76.5 170.7 170.7S607.2 555.6 513 555.6z m0-289.1c-64.6 0-112 52.8-112 112s47.4 117.9 112 117.9 112-52.8 112-112-47.4-117.9-112-117.9z m0 689.8c-135.7 0-259-58.7-341.9-158.9l-11.8-17.8 11.8-17.8c76.5-117.9 206.2-188.5 347.8-188.5 135.7 0 265 64.6 341.9 182.6l11.8 17.8-11.8 17.8C778 897.1 648.7 956.3 513 956.3zM230.3 773.2C300.9 849.7 406.9 897 513 897c112 0 218.1-47.4 288.6-129.8-70.5-88.2-170.7-135.6-282.7-135.6s-218.1 53.3-288.6 141.6z"
							p-id="2902" fill="#ffffff"></path>
					</svg>
					<div class="post-header-info-author">
						<a href="/about">Zi-Zi</a>
					</div>
					
						<div class="post-header-info-categories">
							
								<a href="/categories/学习">学习</a>
							
						</div>
					
					<time>2023/09/17 08:50:00</time>
				</div>
		
				
					<div class="post-header-stat">
						<svg version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						viewBox="0 0 200 200" enable-background="new 0 0 200 200" xml:space="preserve" width="20" height="20">
							<path fill="#FFFFFF" d="M187.2,165.6c0,2.6-2.1,4.7-4.7,4.7H17.5c-2.6,0-4.7-2.1-4.7-4.7s2.1-4.7,4.7-4.7h165.1
								C185.2,160.9,187.2,163,187.2,165.6z"/>
							<path fill="#FFFFFF" d="M17.5,29.7c2.6,0,4.7,2.1,4.7,4.7v131.2c0,2.6-2.1,4.7-4.7,4.7s-4.7-2.1-4.7-4.7V34.4
								C12.8,31.8,14.9,29.7,17.5,29.7z M77.9,91.5c1.8,1.8,1.8,4.8,0,6.6l-39.8,39.8c-1.9,1.8-4.9,1.7-6.6-0.2c-1.7-1.8-1.7-4.6,0-6.4
								l39.8-39.8C73.1,89.6,76,89.6,77.9,91.5z M169.9,70.2c1.6,2.1,1.1,5-0.9,6.5c0,0,0,0,0,0l-64.2,48.2c-2.1,1.5-5,1.1-6.6-0.9
								c-1.6-2.1-1.1-5,0.9-6.5c0,0,0,0,0,0l64.2-48.2C165.4,67.7,168.3,68.1,169.9,70.2L169.9,70.2z"/>
							<path fill="#FFFFFF" d="M104.6,124.5c-1.8,1.8-4.8,1.8-6.6,0L71.6,98.1c-1.8-1.8-1.8-4.8,0-6.6c1.8-1.8,4.8-1.8,6.6,0l26.3,26.3
								C106.4,119.6,106.4,122.6,104.6,124.5C104.6,124.4,104.6,124.4,104.6,124.5z"/>
						</svg>
		
						
							
<script src="/js/plugins/wordCount.js"></script>

							<p class="post-count">文字数：---</p>
						
		
						
							<p id="busuanzi_container_page_pv" style='display:none;'>阅读数：<span id="busuanzi_value_page_pv"></span></p>
						
					</div>
				
			</div>
		
	
</header>
        <div class="post-content article-container">
            <article class="post-content-info">
                <h1 id="%E5%89%8D%E8%A8%80" tabindex="-1">前言</h1>
<p>​    回顾下之前用 Unity 写的 PPT 吧！太久没有用 Unity 了，熟悉又陌生。</p>
<h1 id="%E6%AD%A3%E6%96%87" tabindex="-1">正文</h1>
<h2 id="%E9%9A%8F%E6%9C%BA%E6%95%B0" tabindex="-1" id="随机数">随机数</h2>
<p>​    刚进校因为疫往情深而被关在宿舍，刚好还要线上上课汇报而创作的作品！</p>
<p><strong>1</strong></p>
<p><img src="R1.jpg" alt="jpg"></p>
<p><strong>场景切换器</strong></p>
<p><img src="R1_1.jpg" alt="jpg"></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> CodeMonkey.Utils;<br><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.SceneManagement;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ScenesController</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject scenesControllerUIPrefab;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject leftUIPrefab;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject rightUIPrefab;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> scenesNum = <span class="hljs-number">6</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> sceneIndex = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ScenesController instance;<br>    <span class="hljs-keyword">private</span> GameObject UIGameObject;<br>    <span class="hljs-keyword">private</span> GameObject leftUIGameObject;<br>    <span class="hljs-keyword">private</span> GameObject rightUIGameObject;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">bool</span> enterScene = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">bool</span> exitScene = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> timer = <span class="hljs-number">2f</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> waitTime = <span class="hljs-number">1f</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> enterSceneTime = <span class="hljs-number">1f</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> exitSceneTime = <span class="hljs-number">1f</span>;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Awake</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (FindObjectsOfType&lt;ScenesController&gt;().Length &gt; <span class="hljs-number">1</span>)<br>        &#123;<br>            Destroy(gameObject);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        instance = <span class="hljs-keyword">this</span>;<br>        DontDestroyOnLoad(gameObject);<br>        initUI();<br>        <span class="hljs-comment">// enterScene = true;</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (!GameObject.Find(<span class="hljs-string">&quot;Canvas&quot;</span>).transform.Find(<span class="hljs-string">&quot;ScenesControllerUI&quot;</span>))<br>        &#123;<br>            timer = enterSceneTime + waitTime;<br>            initUI();<br>            <span class="hljs-comment">// enterScene = true;</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initUI</span>()</span><br>    &#123;<br>        Debug.Log(<span class="hljs-string">&quot;initUI()&quot;</span>);<br>        UIGameObject = Instantiate(scenesControllerUIPrefab);<br>        UIGameObject.name = <span class="hljs-string">&quot;ScenesControllerUI&quot;</span>;<br>        UIGameObject.transform.SetParent(GameObject.Find(<span class="hljs-string">&quot;Canvas&quot;</span>).transform);<br>        UIGameObject.transform.Find(<span class="hljs-string">&quot;PriorBtn&quot;</span>).GetComponent&lt;Button_UI&gt;().ClickFunc = () =&gt; &#123; onPriorBtn(); &#125;;<br>        UIGameObject.transform.Find(<span class="hljs-string">&quot;NextBtn&quot;</span>).GetComponent&lt;Button_UI&gt;().ClickFunc = () =&gt; &#123; onNextBtn(); &#125;;<br>        UIGameObject.transform.Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = sceneIndex + <span class="hljs-string">&quot;/&quot;</span> + scenesNum;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onNextBtn</span>()</span><br>    &#123;<br>        sceneIndex++;<br>        <span class="hljs-keyword">if</span> (sceneIndex == scenesNum + <span class="hljs-number">1</span>)<br>            sceneIndex = <span class="hljs-number">1</span>;<br>        <span class="hljs-comment">//timer = exitSceneTime;</span><br>        <span class="hljs-comment">//exitScene = true;</span><br>        SceneManager.LoadScene(sceneIndex.ToString());<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPriorBtn</span>()</span><br>    &#123;<br>        sceneIndex--;<br>        <span class="hljs-keyword">if</span> (sceneIndex == <span class="hljs-number">0</span>)<br>            sceneIndex = scenesNum;<br>        <span class="hljs-comment">//timer = exitSceneTime;</span><br>        <span class="hljs-comment">//exitScene = true;</span><br>        SceneManager.LoadScene(sceneIndex.ToString());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>旋转的轮盘</strong></p>
<p>​    一页 PPT 就是一个 Scene，设置一个 <code>DontDestroyOnLoad(gameObject);</code> 的场景切换器来切换场景。</p>
<p><img src="R1_2.jpg" alt="jpg"></p>
<p>​    用 Animation 组件控制的会旋转的轮盘。</p>
<p><strong>2</strong></p>
<p><img src="R2.jpg" alt="jpg"></p>
<p><strong>数学公式</strong></p>
<p>​    数学公式是在 <a target="_blank" rel="noopener" href="https://www.latexlive.com/">在线 LaTeX 公式编辑器-编辑器 (latexlive.com)</a> 输出的图片来显示的。</p>
<p><strong>滚动代码</strong></p>
<p><img src="R2_1.jpg" alt="jpg"></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/q764424567/article/details/120002172">【Unity3D-UGUI 系列】（十二）ScrollView 滚动视图组件详解_unity 滚动视图_恬静的小魔龙的博客-CSDN 博客</a></li>
</ul>
<p>​    一大坨代码放不下一页中，设计了一个滚动条。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs xml">&lt;color=&quot;#3f93c2&quot;&gt;using<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> System;<br><br>&lt;color=&quot;#3f93c2&quot;&gt;public class<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> &lt;color=&quot;#4ec9b0&quot;&gt;RandomNumber<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>&#123;<br>    &lt;color=&quot;#3f93c2&quot;&gt;private ulong<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> maxshort =&lt;color=&quot;#b5cea8&quot;&gt; 65536L<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>;<br>    &lt;color=&quot;#3f93c2&quot;&gt;private ulong<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> &lt;color=&quot;#ffc0c0&quot;&gt;multiplier<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> = &lt;color=&quot;#b5cea8&quot;&gt;1194211693L<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>;<br>    &lt;color=&quot;#3f93c2&quot;&gt;private ulong<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> &lt;color=&quot;#ffc0c0&quot;&gt;adder<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> = &lt;color=&quot;#b5cea8&quot;&gt;12345L<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>;<br>    &lt;color=&quot;#3f93c2&quot;&gt;private ulong <span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>&lt;color=&quot;#ffc0c0&quot;&gt;randSeed<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>;<br><br>    &lt;color=&quot;#588841&quot;&gt;/// <span class="hljs-tag">&lt;<span class="hljs-name">summary</span>&gt;</span><br>    /// 构造函数<br>    /// <span class="hljs-tag">&lt;/<span class="hljs-name">summary</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>    &lt;color=&quot;#3f93c2&quot;&gt;public<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> &lt;color=&quot;#4ec9b0&quot;&gt;RandomNumber<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>(&lt;color=&quot;#3f93c2&quot;&gt;ulong<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> &lt;color=&quot;#93d9fe&quot;&gt;multiplier<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>, &lt;color=&quot;#3f93c2&quot;&gt;ulong<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> &lt;color=&quot;#93d9fe&quot;&gt;adder<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>, &lt;color=&quot;#3f93c2&quot;&gt;ulong<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> &lt;color=&quot;#93d9fe&quot;&gt;randSeed<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> = &lt;color=&quot;#b5cea8&quot;&gt;0<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>)<br>    &#123;<br>        &lt;color=&quot;#3f93c2&quot;&gt;this<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>.multiplier = &lt;color=&quot;#93d9fe&quot;&gt;multiplier<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>;<br>        &lt;color=&quot;#3f93c2&quot;&gt;this<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>.adder = &lt;color=&quot;#93d9fe&quot;&gt;adder<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>;<br>        &lt;color=&quot;#d8a0df&quot;&gt;if<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> (&lt;color=&quot;#93d9fe&quot;&gt;randSeed<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> == &lt;color=&quot;#b5cea8&quot;&gt; 0<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>)<br>        &lt;color=&quot;#57a648&quot;&gt;// 返回自 1970-01-01T00:00:00.000Z 起已经过的毫秒数。<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            &lt;color=&quot;#3f93c2&quot;&gt;this<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>.randSeed = (&lt;color=&quot;#3f93c2&quot;&gt;ulong<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>)&lt;color=&quot;#63ba86&quot;&gt;DateTime<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>.Now.&lt;color=&quot;#dcdcaa&quot;&gt;ToFileTimeUtc<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>(); <br>        &lt;color=&quot;#d8a0df&quot;&gt;else<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            &lt;color=&quot;#3f93c2&quot;&gt;this<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>.randSeed = &lt;color=&quot;#93d9fe&quot;&gt;randSeed<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>;<br>    &#125;<br><br>    &lt;color=&quot;#588841&quot;&gt;/// <span class="hljs-tag">&lt;<span class="hljs-name">summary</span>&gt;</span><br>    /// 产生 0 到 n - 1 之间的随机整数<br>    /// 每次计算时, 用线性同余式计算新的种子 randSeed, <br>    /// 其高 16 为的随机性较好<br>    /// 此时得到一个 0 ~ 65535 之间的随机整数,<br>    /// 再将此随机整数映射到 0 ~ n - 1 范围内.<br>    /// <span class="hljs-tag">&lt;/<span class="hljs-name">summary</span>&gt;</span><br>    /// <span class="hljs-tag">&lt;<span class="hljs-name">param</span> &lt;/<span class="hljs-attr">color</span>&gt;</span>name&lt;color=&quot;#588841&quot;&gt;=<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>&quot;&lt;color=&quot;#93d9fe&quot;&gt;n<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>&quot;&lt;color=&quot;#588841&quot;&gt;&gt;产生的随机整数上限<span class="hljs-tag">&lt;/<span class="hljs-name">param</span>&gt;</span><br>    /// <span class="hljs-tag">&lt;<span class="hljs-name">returns</span>&gt;</span>产生的随机整数<span class="hljs-tag">&lt;/<span class="hljs-name">returns</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>    &lt;color=&quot;#3f93c2&quot;&gt;public ushort<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> &lt;color=&quot;#dcdcaa&quot;&gt;Random<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>(&lt;color=&quot;#3f93c2&quot;&gt;ulong<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> &lt;color=&quot;#93d9fe&quot;&gt;n<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>)<br>    &#123;<br>        randSeed = multiplier * randSeed + adder;<br>        &lt;color=&quot;#d8a0df&quot;&gt;return<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> (&lt;color=&quot;#3f93c2&quot;&gt;ushort<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>)((randSeed &gt;&gt; &lt;color=&quot;#b5cea8&quot;&gt;48<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>) % &lt;color=&quot;#93d9fe&quot;&gt;n<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>);  &lt;color=&quot;#57a648&quot;&gt;// 取高 16 位<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>    &#125;<br><br>    &lt;color=&quot;#588841&quot;&gt;/// <span class="hljs-tag">&lt;<span class="hljs-name">summary</span>&gt;</span><br>    /// 产生 [0, 1) 之间的随机浮点数<br>    /// <span class="hljs-tag">&lt;/<span class="hljs-name">summary</span>&gt;</span><br>    /// <span class="hljs-tag">&lt;<span class="hljs-name">returns</span>&gt;</span>产生的随机浮点数<span class="hljs-tag">&lt;/<span class="hljs-name">returns</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>    &lt;color=&quot;#3f93c2&quot;&gt;public double<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> &lt;color=&quot;#dcdcaa&quot;&gt;fRandom<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>()<br>    &#123;<br>        &lt;color=&quot;#d8a0df&quot;&gt;return<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> &lt;color=&quot;#dcdcaa&quot;&gt;Random<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>(maxshort) / (&lt;color=&quot;#3f93c2&quot;&gt;double<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>)maxshort;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>​    为了让代码高亮，一个一个填的富文本标签……</p>
<p><strong>3</strong></p>
<p><img src="R3.jpg" alt="jpg"></p>
<p><strong>创建随机数</strong></p>
<p>​    随便创了个 <code>Scene3Controller</code> 类来控制这个场景里的所有逻辑，有点屎山的味道：</p>
<ul>
<li><code>Update()</code> 里切换的时钟</li>
<li>仿照课本，用 <code>randSeed</code>、<code>multiplier</code>、<code>adder</code>、<code>n</code> 创建随机数。</li>
<li>将随机数显示在屏幕上，当时为了写出这个隔半秒显示一行的效果还请教了小迷糊，使用了协程 <code>IEnumrator</code>，当年 RMXP 一句话的事情 orz。</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> CodeMonkey.Utils;<br><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> System.Reflection;<br><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Scene3Controller</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject inputField;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Button_UI startBtn;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Image startImage;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Image stopImage;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text screenText;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> RectTransform clockPointer;<br><br>    <span class="hljs-keyword">private</span> RandomNumber randomNumber = <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">ulong</span> multiplier = <span class="hljs-number">1194211693L</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">ulong</span> adder = <span class="hljs-number">12345L</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">ulong</span> randSeed = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">ulong</span> n = <span class="hljs-number">65536L</span>;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">bool</span> running = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> timer = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Awake</span>()</span><br>    &#123;<br>        screenText.text = <span class="hljs-string">&quot;&quot;</span>;<br>        inputField.transform.Find(<span class="hljs-string">&quot;randSeed&quot;</span>).GetComponent&lt;InputField&gt;().text = <span class="hljs-string">&quot;&quot;</span> + randSeed;<br>        inputField.transform.Find(<span class="hljs-string">&quot;multiplier&quot;</span>).GetComponent&lt;InputField&gt;().text = <span class="hljs-string">&quot;&quot;</span> + multiplier;<br>        inputField.transform.Find(<span class="hljs-string">&quot;adder&quot;</span>).GetComponent&lt;InputField&gt;().text = <span class="hljs-string">&quot;&quot;</span> + adder;<br>        inputField.transform.Find(<span class="hljs-string">&quot;n&quot;</span>).GetComponent&lt;InputField&gt;().text = <span class="hljs-string">&quot;&quot;</span> + n;<br><br>        startBtn.ClickFunc = () =&gt; &#123;<br>            <span class="hljs-keyword">if</span> (running)<br>            &#123;<br>                StopCoroutine(<span class="hljs-string">&quot;TestProgram&quot;</span>);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-keyword">try</span><br>                &#123;<br>                    multiplier = <span class="hljs-built_in">ulong</span>.Parse(inputField.transform.Find(<span class="hljs-string">&quot;multiplier&quot;</span>).GetComponent&lt;InputField&gt;().text);<br>                    adder = <span class="hljs-built_in">ulong</span>.Parse(inputField.transform.Find(<span class="hljs-string">&quot;adder&quot;</span>).GetComponent&lt;InputField&gt;().text);<br>                    randSeed = <span class="hljs-built_in">ulong</span>.Parse(inputField.transform.Find(<span class="hljs-string">&quot;randSeed&quot;</span>).GetComponent&lt;InputField&gt;().text);<br>                    n = <span class="hljs-built_in">ulong</span>.Parse(inputField.transform.Find(<span class="hljs-string">&quot;n&quot;</span>).GetComponent&lt;InputField&gt;().text);<br>                    randomNumber = <span class="hljs-keyword">new</span> RandomNumber(multiplier, adder, randSeed);<br>                &#125;<br>                <span class="hljs-keyword">catch</span><br>                &#123;<br>                    Debug.Log(<span class="hljs-string">&quot;失败!&quot;</span>);<br>                    randomNumber = <span class="hljs-keyword">new</span> RandomNumber(multiplier, adder, randSeed);<br>                &#125;<br>                startBtn.hoverBehaviour_Image = stopImage;<br>                StartCoroutine(<span class="hljs-string">&quot;TestProgram&quot;</span>);<br>            &#125;<br>            stopImage.gameObject.SetActive(!running);<br>            startImage.gameObject.SetActive(running);<br>            running = !running;<br>        &#125;;<br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">try</span><br>        &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">ulong</span>.Parse(inputField.transform.Find(<span class="hljs-string">&quot;randSeed&quot;</span>).GetComponent&lt;InputField&gt;().text) == <span class="hljs-number">0</span>)<br>            &#123;<br>                inputField.transform.Find(<span class="hljs-string">&quot;randSeed&quot;</span>).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().color = <span class="hljs-keyword">new</span> Color(<span class="hljs-number">1</span>, <span class="hljs-number">0.75f</span>, <span class="hljs-number">0.75f</span>);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                inputField.transform.Find(<span class="hljs-string">&quot;randSeed&quot;</span>).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().color = <span class="hljs-keyword">new</span> Color(<span class="hljs-number">181f</span> / <span class="hljs-number">255f</span>, <span class="hljs-number">206f</span> / <span class="hljs-number">255f</span>, <span class="hljs-number">168</span> / <span class="hljs-number">255f</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">catch</span><br>        &#123;<br>            inputField.transform.Find(<span class="hljs-string">&quot;randSeed&quot;</span>).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().color = <span class="hljs-keyword">new</span> Color(<span class="hljs-number">181f</span> / <span class="hljs-number">255f</span>, <span class="hljs-number">206f</span> / <span class="hljs-number">255f</span>, <span class="hljs-number">168</span> / <span class="hljs-number">255f</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">if</span>(timer&lt;<span class="hljs-number">1f</span>)<br>        &#123;<br>            timer += Time.deltaTime;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            timer = <span class="hljs-number">0f</span>;<br>            clockPointer.Rotate(<span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-90</span>));<br>        &#125;<br><br>    &#125;<br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> 测试程序</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> IEnumerator <span class="hljs-title">TestProgram</span>()</span><br>    &#123;<br>        screenText.text = <span class="hljs-string">&quot;&quot;</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)<br>        &#123;<br>            screenText.text += <span class="hljs-string">&quot;a&lt;size=20&gt;&quot;</span>+ i + <span class="hljs-string">&quot;&lt;/size&gt;=&quot;</span> + randomNumber.Random2(n) + <span class="hljs-string">&quot;\n&quot;</span>;<br>            <span class="hljs-function"><span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title">WaitForSeconds</span>(<span class="hljs-params"><span class="hljs-number">.5</span>f</span>)</span>;<br>        &#125;<br>        stopImage.gameObject.SetActive(!running);<br>        startImage.gameObject.SetActive(running);<br>        running = !running;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>4</strong></p>
<p><img src="R4.jpg" alt="jpg"></p>
<p><strong>平方取中法</strong></p>
<p>​    仿照课本写的平方取中法，数字中间的部分蓝色高亮。</p>
<p><img src="R4_1.jpg" alt="jpg"></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEditor;<br><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MiddleSquareMethod</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> length = <span class="hljs-number">6</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">ulong</span> num = <span class="hljs-number">675248L</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">string</span> str = <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">private</span> Text text;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> timer = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Awake</span>()</span><br>    &#123;<br>        text = GetComponent&lt;Text&gt;();<br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span>(timer &lt; <span class="hljs-number">1f</span>)<br>        &#123;<br>            timer += Time.deltaTime;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            timer = <span class="hljs-number">0f</span>;<br>            str = <span class="hljs-string">&quot;&quot;</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2</span> * length - (num * num).ToString().Length; i++)<br>            &#123;<br>                str += <span class="hljs-string">&quot;0&quot;</span>;<br>            &#125;<br>            Debug.Log(str);<br>            str += (num * num).ToString();<br>            num = <span class="hljs-built_in">ulong</span>.Parse(str.Substring(length / <span class="hljs-number">2</span>, length));<br>            text.text = str.Substring(<span class="hljs-number">0</span>, length / <span class="hljs-number">2</span>) + <span class="hljs-string">&quot;&lt;color=\&quot;#0000ff\&quot;&gt;&quot;</span> + str.Substring(length / <span class="hljs-number">2</span>, length) + <span class="hljs-string">&quot;&lt;/color&gt;&quot;</span> + str.Substring(<span class="hljs-number">3</span> * length / <span class="hljs-number">2</span>, length / <span class="hljs-number">2</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>5</strong></p>
<p><img src="R5.jpg" alt="jpg"></p>
<p><strong>数据可视化</strong></p>
<p>​    从 <a target="_blank" rel="noopener" href="https://www.youtube.com/playlist?list=PLzDRvYVwl53v5ur4GluoabyckImZz3TVQ">Create a Graph - Unity Tutorial - YouTube</a> 整的一份 Unity 下画曲线图和柱状图的东东。</p>
<p><img src="R5_1.jpg" alt="jpg"></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> System;<br><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><span class="hljs-keyword">using</span> CodeMonkey.Utils;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Window_Graph</span> : <span class="hljs-title">MonoBehaviour</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Window_Graph instance;<br><br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Sprite dotSprite;<br>    <span class="hljs-keyword">private</span> RectTransform graphContainer;<br>    <span class="hljs-keyword">private</span> RectTransform labelTemplateX;<br>    <span class="hljs-keyword">private</span> RectTransform labelTemplateY;<br>    <span class="hljs-keyword">private</span> RectTransform dashContainer;<br>    <span class="hljs-keyword">private</span> RectTransform dashTemplateX;<br>    <span class="hljs-keyword">private</span> RectTransform dashTemplateY;<br>    <span class="hljs-keyword">private</span> List&lt;GameObject&gt; gameObjectList;<br>    <span class="hljs-keyword">private</span> List&lt;IGraphVisualObject&gt; graphVisualObjectList;<br>    <span class="hljs-keyword">private</span> GameObject tooltipGameObject;<br>    <span class="hljs-keyword">private</span> List&lt;RectTransform&gt; yLabelList;<br><br>    <span class="hljs-comment">// Cached values</span><br>    <span class="hljs-keyword">public</span> List&lt;<span class="hljs-built_in">int</span>&gt; valueList;<br>    <span class="hljs-keyword">private</span> IGraphVisual graphVisual;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> maxVisibleValueAmount;<br>    <span class="hljs-keyword">private</span> Func&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt; getAxisLabelX;<br>    <span class="hljs-keyword">private</span> Func&lt;<span class="hljs-built_in">float</span>, <span class="hljs-built_in">string</span>&gt; getAxisLabelY;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> xSize;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> <span class="hljs-built_in">bool</span> startYScaleAtZero = <span class="hljs-literal">true</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Awake</span>()</span> &#123;<br>        instance = <span class="hljs-keyword">this</span>;<br>        <span class="hljs-comment">// Grab base objects references</span><br>        graphContainer = transform.Find(<span class="hljs-string">&quot;graphContainer&quot;</span>).GetComponent&lt;RectTransform&gt;();<br>        labelTemplateX = graphContainer.Find(<span class="hljs-string">&quot;labelTemplateX&quot;</span>).GetComponent&lt;RectTransform&gt;();<br>        labelTemplateY = graphContainer.Find(<span class="hljs-string">&quot;labelTemplateY&quot;</span>).GetComponent&lt;RectTransform&gt;();<br>        dashContainer = graphContainer.Find(<span class="hljs-string">&quot;dashContainer&quot;</span>).GetComponent&lt;RectTransform&gt;();<br>        dashTemplateX = dashContainer.Find(<span class="hljs-string">&quot;dashTemplateX&quot;</span>).GetComponent&lt;RectTransform&gt;();<br>        dashTemplateY = dashContainer.Find(<span class="hljs-string">&quot;dashTemplateY&quot;</span>).GetComponent&lt;RectTransform&gt;();<br>        tooltipGameObject = graphContainer.Find(<span class="hljs-string">&quot;tooltip&quot;</span>).gameObject;<br><br>        gameObjectList = <span class="hljs-keyword">new</span> List&lt;GameObject&gt;();<br>        yLabelList = <span class="hljs-keyword">new</span> List&lt;RectTransform&gt;();<br>        graphVisualObjectList = <span class="hljs-keyword">new</span> List&lt;IGraphVisualObject&gt;();<br>        <br>        IGraphVisual lineGraphVisual = <span class="hljs-keyword">new</span> LineGraphVisual(graphContainer, dotSprite, Color.green, <span class="hljs-keyword">new</span> Color(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">.5</span>f));<br>        IGraphVisual barChartVisual = <span class="hljs-keyword">new</span> BarChartVisual(graphContainer, Color.white, <span class="hljs-number">.8</span>f);<br><br>        <span class="hljs-comment">// Set up buttons</span><br>        transform.Find(<span class="hljs-string">&quot;barChartBtn&quot;</span>).GetComponent&lt;Button_UI&gt;().ClickFunc = () =&gt; &#123;<br>            SetGraphVisual(barChartVisual);<br>        &#125;;<br>        transform.Find(<span class="hljs-string">&quot;lineGraphBtn&quot;</span>).GetComponent&lt;Button_UI&gt;().ClickFunc = () =&gt; &#123;<br>            SetGraphVisual(lineGraphVisual);<br>        &#125;;<br>       <br>        HideTooltip();<br><br>        <span class="hljs-comment"><span class="hljs-doctag">///</span>/ Set up base values</span><br>        List&lt;<span class="hljs-built_in">int</span>&gt; valueList = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">int</span>&gt;() &#123; <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span> &#125;;<br>        ShowGraph(valueList, barChartVisual, <span class="hljs-number">-1</span>, (<span class="hljs-built_in">int</span> _i) =&gt; <span class="hljs-string">&quot;&quot;</span> + (_i), (<span class="hljs-built_in">float</span> _f) =&gt; <span class="hljs-string">&quot;&quot;</span> + Mathf.RoundToInt(_f));<br><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ShowTooltip_Static</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> tooltipText, Vector2 anchoredPosition</span>)</span> &#123;<br>        instance.ShowTooltip(tooltipText, anchoredPosition);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ShowTooltip</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> tooltipText, Vector2 anchoredPosition</span>)</span> &#123;<br>        <span class="hljs-comment">// Show Tooltip GameObject</span><br>        tooltipGameObject.SetActive(<span class="hljs-literal">true</span>);<br><br>        tooltipGameObject.GetComponent&lt;RectTransform&gt;().anchoredPosition = anchoredPosition;<br><br>        Text tooltipUIText = tooltipGameObject.transform.Find(<span class="hljs-string">&quot;text&quot;</span>).GetComponent&lt;Text&gt;();<br>        tooltipUIText.text = tooltipText;<br><br>        <span class="hljs-built_in">float</span> textPaddingSize = <span class="hljs-number">4f</span>;<br>        Vector2 backgroundSize = <span class="hljs-keyword">new</span> Vector2(<br>            tooltipUIText.preferredWidth + textPaddingSize * <span class="hljs-number">2f</span>, <br>            tooltipUIText.preferredHeight + textPaddingSize * <span class="hljs-number">2f</span><br>        );<br><br>        tooltipGameObject.transform.Find(<span class="hljs-string">&quot;background&quot;</span>).GetComponent&lt;RectTransform&gt;().sizeDelta = backgroundSize;<br><br>        <span class="hljs-comment">// UI Visibility Sorting based on Hierarchy, SetAsLastSibling in order to show up on top</span><br>        tooltipGameObject.transform.SetAsLastSibling();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">HideTooltip_Static</span>()</span> &#123;<br>        instance.HideTooltip();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">HideTooltip</span>()</span> &#123;<br>        tooltipGameObject.SetActive(<span class="hljs-literal">false</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetGetAxisLabelX</span>(<span class="hljs-params">Func&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt; getAxisLabelX</span>)</span> &#123;<br>        ShowGraph(<span class="hljs-keyword">this</span>.valueList, <span class="hljs-keyword">this</span>.graphVisual, <span class="hljs-keyword">this</span>.maxVisibleValueAmount, getAxisLabelX, <span class="hljs-keyword">this</span>.getAxisLabelY);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetGetAxisLabelY</span>(<span class="hljs-params">Func&lt;<span class="hljs-built_in">float</span>, <span class="hljs-built_in">string</span>&gt; getAxisLabelY</span>)</span> &#123;<br>        ShowGraph(<span class="hljs-keyword">this</span>.valueList, <span class="hljs-keyword">this</span>.graphVisual, <span class="hljs-keyword">this</span>.maxVisibleValueAmount, <span class="hljs-keyword">this</span>.getAxisLabelX, getAxisLabelY);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">IncreaseVisibleAmount</span>()</span> &#123;<br>        ShowGraph(<span class="hljs-keyword">this</span>.valueList, <span class="hljs-keyword">this</span>.graphVisual, <span class="hljs-keyword">this</span>.maxVisibleValueAmount + <span class="hljs-number">1</span>, <span class="hljs-keyword">this</span>.getAxisLabelX, <span class="hljs-keyword">this</span>.getAxisLabelY);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DecreaseVisibleAmount</span>()</span> &#123;<br>        ShowGraph(<span class="hljs-keyword">this</span>.valueList, <span class="hljs-keyword">this</span>.graphVisual, <span class="hljs-keyword">this</span>.maxVisibleValueAmount - <span class="hljs-number">1</span>, <span class="hljs-keyword">this</span>.getAxisLabelX, <span class="hljs-keyword">this</span>.getAxisLabelY);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetGraphVisual</span>(<span class="hljs-params">IGraphVisual graphVisual</span>)</span> &#123;<br>        ShowGraph(<span class="hljs-keyword">this</span>.valueList, graphVisual, <span class="hljs-keyword">this</span>.maxVisibleValueAmount, <span class="hljs-keyword">this</span>.getAxisLabelX, <span class="hljs-keyword">this</span>.getAxisLabelY);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ShowGraph</span>(<span class="hljs-params">List&lt;<span class="hljs-built_in">int</span>&gt; valueList, IGraphVisual graphVisual, <span class="hljs-built_in">int</span> maxVisibleValueAmount = <span class="hljs-number">-1</span>, Func&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt; getAxisLabelX = <span class="hljs-literal">null</span>, Func&lt;<span class="hljs-built_in">float</span>, <span class="hljs-built_in">string</span>&gt; getAxisLabelY = <span class="hljs-literal">null</span></span>)</span> &#123;<br>        <span class="hljs-keyword">this</span>.valueList = valueList;<br>        <span class="hljs-keyword">this</span>.graphVisual = graphVisual;<br>        <span class="hljs-keyword">this</span>.getAxisLabelX = getAxisLabelX;<br>        <span class="hljs-keyword">this</span>.getAxisLabelY = getAxisLabelY;<br><br>        <span class="hljs-keyword">if</span> (maxVisibleValueAmount &lt;= <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-comment">// Show all if no amount specified</span><br>            maxVisibleValueAmount = valueList.Count;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (maxVisibleValueAmount &gt; valueList.Count) &#123;<br>            <span class="hljs-comment">// Validate the amount to show the maximum</span><br>            maxVisibleValueAmount = valueList.Count;<br>        &#125;<br><br>        <span class="hljs-keyword">this</span>.maxVisibleValueAmount = maxVisibleValueAmount;<br><br>        <span class="hljs-comment">// Test for label defaults</span><br>        <span class="hljs-keyword">if</span> (getAxisLabelX == <span class="hljs-literal">null</span>) &#123;<br>            getAxisLabelX = <span class="hljs-built_in">delegate</span> (<span class="hljs-built_in">int</span> _i) &#123; <span class="hljs-keyword">return</span> _i.ToString(); &#125;;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (getAxisLabelY == <span class="hljs-literal">null</span>) &#123;<br>            getAxisLabelY = <span class="hljs-built_in">delegate</span> (<span class="hljs-built_in">float</span> _f) &#123; <span class="hljs-keyword">return</span> Mathf.RoundToInt(_f).ToString(); &#125;;<br>        &#125;<br><br>        <span class="hljs-comment">// Clean up previous graph</span><br>        <span class="hljs-keyword">foreach</span> (GameObject gameObject <span class="hljs-keyword">in</span> gameObjectList) &#123;<br>            Destroy(gameObject);<br>        &#125;<br>        gameObjectList.Clear();<br>        yLabelList.Clear();<br><br>        <span class="hljs-keyword">foreach</span> (IGraphVisualObject graphVisualObject <span class="hljs-keyword">in</span> graphVisualObjectList) &#123;<br>            graphVisualObject.CleanUp();<br>        &#125;<br>        graphVisualObjectList.Clear();<br><br>        graphVisual.CleanUp();<br>        <br>        <span class="hljs-comment">// Grab the width and height from the container</span><br>        <span class="hljs-built_in">float</span> graphWidth = graphContainer.sizeDelta.x;<br>        <span class="hljs-built_in">float</span> graphHeight = graphContainer.sizeDelta.y;<br><br>        <span class="hljs-built_in">float</span> yMinimum, yMaximum;<br>        CalculateYScale(<span class="hljs-keyword">out</span> yMinimum, <span class="hljs-keyword">out</span> yMaximum);<br><br>        <span class="hljs-comment">// Set the distance between each point on the graph </span><br>        xSize = graphWidth / (maxVisibleValueAmount + <span class="hljs-number">1</span>);<br><br>        <span class="hljs-comment">// Cycle through all visible data points</span><br>        <span class="hljs-built_in">int</span> xIndex = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = Mathf.Max(valueList.Count - maxVisibleValueAmount, <span class="hljs-number">0</span>); i &lt; valueList.Count; i++) &#123;<br>            <span class="hljs-built_in">float</span> xPosition = xSize + xIndex * xSize;<br>            <span class="hljs-built_in">float</span> yPosition = ((valueList[i] - yMinimum) / (yMaximum - yMinimum)) * graphHeight;<br><br>            <span class="hljs-comment">// Add data point visual</span><br>            <span class="hljs-built_in">string</span> tooltipText = getAxisLabelY(valueList[i]);<br>            IGraphVisualObject graphVisualObject = graphVisual.CreateGraphVisualObject(<span class="hljs-keyword">new</span> Vector2(xPosition, yPosition), xSize, tooltipText);<br>            graphVisualObjectList.Add(graphVisualObject);<br><br>            <span class="hljs-comment">// Duplicate the x label template</span><br>            RectTransform labelX = Instantiate(labelTemplateX);<br>            labelX.SetParent(graphContainer, <span class="hljs-literal">false</span>);<br>            labelX.gameObject.SetActive(<span class="hljs-literal">true</span>);<br>            labelX.anchoredPosition = <span class="hljs-keyword">new</span> Vector2(xPosition, <span class="hljs-number">-7f</span>);<br>            labelX.GetComponent&lt;Text&gt;().text = getAxisLabelX(i);<br>            gameObjectList.Add(labelX.gameObject);<br>            <br>            <span class="hljs-comment">// Duplicate the x dash template</span><br>            RectTransform dashX = Instantiate(dashTemplateX);<br>            dashX.SetParent(dashContainer, <span class="hljs-literal">false</span>);<br>            dashX.gameObject.SetActive(<span class="hljs-literal">true</span>);<br>            dashX.anchoredPosition = <span class="hljs-keyword">new</span> Vector2(xPosition, <span class="hljs-number">-3f</span>);<br>            gameObjectList.Add(dashX.gameObject);<br><br>            xIndex++;<br>        &#125;<br><br>        <span class="hljs-comment">// Set up separators on the y axis</span><br>        <span class="hljs-built_in">int</span> separatorCount = <span class="hljs-number">10</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt;= separatorCount; i++) &#123;<br>            <span class="hljs-comment">// Duplicate the label template</span><br>            RectTransform labelY = Instantiate(labelTemplateY);<br>            labelY.SetParent(graphContainer, <span class="hljs-literal">false</span>);<br>            labelY.gameObject.SetActive(<span class="hljs-literal">true</span>);<br>            <span class="hljs-built_in">float</span> normalizedValue = i * <span class="hljs-number">1f</span> / separatorCount;<br>            labelY.anchoredPosition = <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">-7f</span>, normalizedValue * graphHeight);<br>            labelY.GetComponent&lt;Text&gt;().text = getAxisLabelY(yMinimum + (normalizedValue * (yMaximum - yMinimum)));<br>            yLabelList.Add(labelY);<br>            gameObjectList.Add(labelY.gameObject);<br><br>            <span class="hljs-comment">// Duplicate the dash template</span><br>            RectTransform dashY = Instantiate(dashTemplateY);<br>            dashY.SetParent(dashContainer, <span class="hljs-literal">false</span>);<br>            dashY.gameObject.SetActive(<span class="hljs-literal">true</span>);<br>            dashY.anchoredPosition = <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">-4f</span>, normalizedValue * graphHeight);<br>            gameObjectList.Add(dashY.gameObject);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UpdateValue</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> index, <span class="hljs-built_in">int</span> <span class="hljs-keyword">value</span></span>)</span> &#123;<br>        <span class="hljs-built_in">float</span> yMinimumBefore, yMaximumBefore;<br>        CalculateYScale(<span class="hljs-keyword">out</span> yMinimumBefore, <span class="hljs-keyword">out</span> yMaximumBefore);<br><br>        valueList[index] = <span class="hljs-keyword">value</span>;<br><br>        <span class="hljs-built_in">float</span> graphWidth = graphContainer.sizeDelta.x;<br>        <span class="hljs-built_in">float</span> graphHeight = graphContainer.sizeDelta.y;<br>        <br>        <span class="hljs-built_in">float</span> yMinimum, yMaximum;<br>        CalculateYScale(<span class="hljs-keyword">out</span> yMinimum, <span class="hljs-keyword">out</span> yMaximum);<br><br>        <span class="hljs-built_in">bool</span> yScaleChanged = yMinimumBefore != yMinimum || yMaximumBefore != yMaximum;<br><br>        <span class="hljs-keyword">if</span> (!yScaleChanged) &#123;<br>            <span class="hljs-comment">// Y Scale did not change, update only this value</span><br>            <span class="hljs-built_in">float</span> xPosition = xSize + index * xSize;<br>            <span class="hljs-built_in">float</span> yPosition = ((<span class="hljs-keyword">value</span> - yMinimum) / (yMaximum - yMinimum)) * graphHeight;<br><br>            <span class="hljs-comment">// Add data point visual</span><br>            <span class="hljs-built_in">string</span> tooltipText = getAxisLabelY(<span class="hljs-keyword">value</span>);<br>            graphVisualObjectList[index].SetGraphVisualObjectInfo(<span class="hljs-keyword">new</span> Vector2(xPosition, yPosition), xSize, tooltipText);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// Y scale changed, update whole graph and y axis labels</span><br>            <span class="hljs-comment">// Cycle through all visible data points</span><br>            <span class="hljs-built_in">int</span> xIndex = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = Mathf.Max(valueList.Count - maxVisibleValueAmount, <span class="hljs-number">0</span>); i &lt; valueList.Count; i++) &#123;<br>                <span class="hljs-built_in">float</span> xPosition = xSize + xIndex * xSize;<br>                <span class="hljs-built_in">float</span> yPosition = ((valueList[i] - yMinimum) / (yMaximum - yMinimum)) * graphHeight;<br><br>                <span class="hljs-comment">// Add data point visual</span><br>                <span class="hljs-built_in">string</span> tooltipText = getAxisLabelY(valueList[i]);<br>                graphVisualObjectList[xIndex].SetGraphVisualObjectInfo(<span class="hljs-keyword">new</span> Vector2(xPosition, yPosition), xSize, tooltipText);<br><br>                xIndex++;<br>            &#125;<br><br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; yLabelList.Count; i++) &#123;<br>                <span class="hljs-built_in">float</span> normalizedValue = i * <span class="hljs-number">1f</span> / yLabelList.Count;<br>                yLabelList[i].GetComponent&lt;Text&gt;().text = getAxisLabelY(yMinimum + (normalizedValue * (yMaximum - yMinimum)));<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CalculateYScale</span>(<span class="hljs-params"><span class="hljs-keyword">out</span> <span class="hljs-built_in">float</span> yMinimum, <span class="hljs-keyword">out</span> <span class="hljs-built_in">float</span> yMaximum</span>)</span> &#123;<br>        <span class="hljs-comment">// Identify y Min and Max values</span><br>        yMaximum = valueList[<span class="hljs-number">0</span>];<br>        yMinimum = valueList[<span class="hljs-number">0</span>];<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = Mathf.Max(valueList.Count - maxVisibleValueAmount, <span class="hljs-number">0</span>); i &lt; valueList.Count; i++) &#123;<br>            <span class="hljs-built_in">int</span> <span class="hljs-keyword">value</span> = valueList[i];<br>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">value</span> &gt; yMaximum) &#123;<br>                yMaximum = <span class="hljs-keyword">value</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">value</span> &lt; yMinimum) &#123;<br>                yMinimum = <span class="hljs-keyword">value</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-built_in">float</span> yDifference = yMaximum - yMinimum;<br>        <span class="hljs-keyword">if</span> (yDifference &lt;= <span class="hljs-number">0</span>) &#123;<br>            yDifference = <span class="hljs-number">5f</span>;<br>        &#125;<br>        yMaximum = yMaximum + (yDifference * <span class="hljs-number">0.2f</span>);<br>        yMinimum = yMinimum - (yDifference * <span class="hljs-number">0.2f</span>);<br><br>        <span class="hljs-keyword">if</span> (startYScaleAtZero) &#123;<br>            yMinimum = <span class="hljs-number">0f</span>; <span class="hljs-comment">// Start the graph at zero</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">     * Interface definition for showing visual for a data point</span><br><span class="hljs-comment">     * */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IGraphVisual</span> &#123;<br><br>        <span class="hljs-function">IGraphVisualObject <span class="hljs-title">CreateGraphVisualObject</span>(<span class="hljs-params">Vector2graphPosition, <span class="hljs-built_in">float</span> graphPositionWidth, <span class="hljs-built_in">string</span> tooltipText</span>)</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">CleanUp</span>()</span>;<br><br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">     * Represents a single Visual Object in the graph</span><br><span class="hljs-comment">     * */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IGraphVisualObject</span> &#123;<br><br>        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SetGraphVisualObjectInfo</span>(<span class="hljs-params">Vector2graphPosition, <span class="hljs-built_in">float</span> graphPositionWidth, <span class="hljs-built_in">string</span> tooltipText</span>)</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">CleanUp</span>()</span>;<br><br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">     * Displays data points as a Bar Chart</span><br><span class="hljs-comment">     * */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BarChartVisual</span> : <span class="hljs-title">IGraphVisual</span> &#123;<br><br>        <span class="hljs-keyword">private</span> RectTransform graphContainer;<br>        <span class="hljs-keyword">private</span> Color barColor;<br>        <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> barWidthMultiplier;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BarChartVisual</span>(<span class="hljs-params">RectTransform graphContainer, Color barColor, <span class="hljs-built_in">float</span> barWidthMultiplier</span>)</span> &#123;<br>            <span class="hljs-keyword">this</span>.graphContainer = graphContainer;<br>            <span class="hljs-keyword">this</span>.barColor = barColor;<br>            <span class="hljs-keyword">this</span>.barWidthMultiplier = barWidthMultiplier;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CleanUp</span>()</span> &#123;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> IGraphVisualObject <span class="hljs-title">CreateGraphVisualObject</span>(<span class="hljs-params">Vector2graphPosition, <span class="hljs-built_in">float</span> graphPositionWidth, <span class="hljs-built_in">string</span> tooltipText</span>)</span> &#123;<br>            GameObject barGameObject = CreateBar(graphPosition, graphPositionWidth);<br><br>            BarChartVisualObject barChartVisualObject = <span class="hljs-keyword">new</span> BarChartVisualObject(barGameObject, barWidthMultiplier);<br>            barChartVisualObject.SetGraphVisualObjectInfo(graphPosition, graphPositionWidth, tooltipText);<br><br>            <span class="hljs-keyword">return</span> barChartVisualObject;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">private</span> GameObject <span class="hljs-title">CreateBar</span>(<span class="hljs-params">Vector2graphPosition, <span class="hljs-built_in">float</span> barWidth</span>)</span> &#123;<br>            GameObject gameObject = <span class="hljs-keyword">new</span> GameObject(<span class="hljs-string">&quot;bar&quot;</span>, <span class="hljs-keyword">typeof</span>(Image));<br>            gameObject.transform.SetParent(graphContainer, <span class="hljs-literal">false</span>);<br>            gameObject.GetComponent&lt;Image&gt;().color = barColor;<br>            RectTransform rectTransform = gameObject.GetComponent&lt;RectTransform&gt;();<br>            rectTransform.anchoredPosition = <span class="hljs-keyword">new</span> Vector2(graphPosition.x, <span class="hljs-number">0f</span>);<br>            rectTransform.sizeDelta = <span class="hljs-keyword">new</span> Vector2(barWidth * barWidthMultiplier, graphPosition.y);<br>            rectTransform.anchorMin = <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>            rectTransform.anchorMax = <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>            rectTransform.pivot = <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">.5</span>f, <span class="hljs-number">0f</span>);<br>            <br>            <span class="hljs-comment">// Add Button_UI Component which captures UI Mouse Events</span><br>            Button_UI barButtonUI = gameObject.AddComponent&lt;Button_UI&gt;();<br><br>            <span class="hljs-keyword">return</span> gameObject;<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BarChartVisualObject</span> : <span class="hljs-title">IGraphVisualObject</span> &#123;<br><br>            <span class="hljs-keyword">private</span> GameObject barGameObject;<br>            <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> barWidthMultiplier;<br><br>            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BarChartVisualObject</span>(<span class="hljs-params">GameObject barGameObject, <span class="hljs-built_in">float</span> barWidthMultiplier</span>)</span> &#123;<br>                <span class="hljs-keyword">this</span>.barGameObject = barGameObject;<br>                <span class="hljs-keyword">this</span>.barWidthMultiplier = barWidthMultiplier;<br>            &#125;<br><br>            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetGraphVisualObjectInfo</span>(<span class="hljs-params">Vector2graphPosition, <span class="hljs-built_in">float</span> graphPositionWidth, <span class="hljs-built_in">string</span> tooltipText</span>)</span> &#123;<br>                RectTransform rectTransform = barGameObject.GetComponent&lt;RectTransform&gt;();<br>                rectTransform.anchoredPosition = <span class="hljs-keyword">new</span> Vector2(graphPosition.x, <span class="hljs-number">0f</span>);<br>                rectTransform.sizeDelta = <span class="hljs-keyword">new</span> Vector2(graphPositionWidth * barWidthMultiplier, graphPosition.y);<br><br>                Button_UI barButtonUI = barGameObject.GetComponent&lt;Button_UI&gt;();<br><br>                <span class="hljs-comment">// Show Tooltip on Mouse Over</span><br>                barButtonUI.MouseOverOnceFunc = () =&gt; &#123;<br>                    ShowTooltip_Static(tooltipText, graphPosition);<br>                &#125;;<br><br>                <span class="hljs-comment">// Hide Tooltip on Mouse Out</span><br>                barButtonUI.MouseOutOnceFunc = () =&gt; &#123;<br>                    HideTooltip_Static();<br>                &#125;;<br>            &#125;<br><br>            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CleanUp</span>()</span> &#123;<br>                Destroy(barGameObject);<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">     * Displays data points as a Line Graph</span><br><span class="hljs-comment">     * */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title">LineGraphVisual</span> : <span class="hljs-title">IGraphVisual</span> &#123;<br><br>        <span class="hljs-keyword">private</span> RectTransform graphContainer;<br>        <span class="hljs-keyword">private</span> Sprite dotSprite;<br>        <span class="hljs-keyword">private</span> LineGraphVisualObject lastLineGraphVisualObject;<br>        <span class="hljs-keyword">private</span> Color dotColor;<br>        <span class="hljs-keyword">private</span> Color dotConnectionColor;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">LineGraphVisual</span>(<span class="hljs-params">RectTransform graphContainer, Sprite dotSprite, Color dotColor, Color dotConnectionColor</span>)</span> &#123;<br>            <span class="hljs-keyword">this</span>.graphContainer = graphContainer;<br>            <span class="hljs-keyword">this</span>.dotSprite = dotSprite;<br>            <span class="hljs-keyword">this</span>.dotColor = dotColor;<br>            <span class="hljs-keyword">this</span>.dotConnectionColor = dotConnectionColor;<br>            lastLineGraphVisualObject = <span class="hljs-literal">null</span>;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CleanUp</span>()</span> &#123;<br>            lastLineGraphVisualObject = <span class="hljs-literal">null</span>;<br>        &#125;<br><br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> IGraphVisualObject <span class="hljs-title">CreateGraphVisualObject</span>(<span class="hljs-params">Vector2graphPosition, <span class="hljs-built_in">float</span> graphPositionWidth, <span class="hljs-built_in">string</span> tooltipText</span>)</span> &#123;<br>            GameObject dotGameObject = CreateDot(graphPosition);<br><br><br>            GameObject dotConnectionGameObject = <span class="hljs-literal">null</span>;<br>            <span class="hljs-keyword">if</span> (lastLineGraphVisualObject != <span class="hljs-literal">null</span>) &#123;<br>                dotConnectionGameObject = CreateDotConnection(lastLineGraphVisualObject.GetGraphPosition(), dotGameObject.GetComponent&lt;RectTransform&gt;().anchoredPosition);<br>            &#125;<br>            <br>            LineGraphVisualObject lineGraphVisualObject = <span class="hljs-keyword">new</span> LineGraphVisualObject(dotGameObject, dotConnectionGameObject, lastLineGraphVisualObject);<br>            lineGraphVisualObject.SetGraphVisualObjectInfo(graphPosition, graphPositionWidth, tooltipText);<br>            <br>            lastLineGraphVisualObject = lineGraphVisualObject;<br><br>            <span class="hljs-keyword">return</span> lineGraphVisualObject;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">private</span> GameObject <span class="hljs-title">CreateDot</span>(<span class="hljs-params">Vector2 anchoredPosition</span>)</span> &#123;<br>            GameObject gameObject = <span class="hljs-keyword">new</span> GameObject(<span class="hljs-string">&quot;dot&quot;</span>, <span class="hljs-keyword">typeof</span>(Image));<br>            gameObject.transform.SetParent(graphContainer, <span class="hljs-literal">false</span>);<br>            gameObject.GetComponent&lt;Image&gt;().sprite = dotSprite;<br>            gameObject.GetComponent&lt;Image&gt;().color = dotColor;<br>            RectTransform rectTransform = gameObject.GetComponent&lt;RectTransform&gt;();<br>            rectTransform.anchoredPosition = anchoredPosition;<br>            rectTransform.sizeDelta = <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">11</span>, <span class="hljs-number">11</span>);<br>            rectTransform.anchorMin = <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>            rectTransform.anchorMax = <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>            <br>            <span class="hljs-comment">// Add Button_UI Component which captures UI Mouse Events</span><br>            Button_UI dotButtonUI = gameObject.AddComponent&lt;Button_UI&gt;();<br><br>            <span class="hljs-keyword">return</span> gameObject;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">private</span> GameObject <span class="hljs-title">CreateDotConnection</span>(<span class="hljs-params">Vector2 dotPositionA, Vector2 dotPositionB</span>)</span> &#123;<br>            GameObject gameObject = <span class="hljs-keyword">new</span> GameObject(<span class="hljs-string">&quot;dotConnection&quot;</span>, <span class="hljs-keyword">typeof</span>(Image));<br>            gameObject.transform.SetParent(graphContainer, <span class="hljs-literal">false</span>);<br>            gameObject.GetComponent&lt;Image&gt;().color = dotConnectionColor;<br>            gameObject.GetComponent&lt;Image&gt;().raycastTarget = <span class="hljs-literal">false</span>;<br>            RectTransform rectTransform = gameObject.GetComponent&lt;RectTransform&gt;();<br>            Vector2 dir = (dotPositionB - dotPositionA).normalized;<br>            <span class="hljs-built_in">float</span> distance = Vector2.Distance(dotPositionA, dotPositionB);<br>            rectTransform.anchorMin = <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>            rectTransform.anchorMax = <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>            rectTransform.sizeDelta = <span class="hljs-keyword">new</span> Vector2(distance, <span class="hljs-number">3f</span>);<br>            rectTransform.anchoredPosition = dotPositionA + dir * distance * <span class="hljs-number">.5</span>f;<br>            rectTransform.localEulerAngles = <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, UtilsClass.GetAngleFromVectorFloat(dir));<br>            <span class="hljs-keyword">return</span> gameObject;<br>        &#125;<br><br><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">LineGraphVisualObject</span> : <span class="hljs-title">IGraphVisualObject</span> &#123;<br><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">event</span> EventHandler OnChangedGraphVisualObjectInfo;<br><br>            <span class="hljs-keyword">private</span> GameObject dotGameObject;<br>            <span class="hljs-keyword">private</span> GameObject dotConnectionGameObject;<br>            <span class="hljs-keyword">private</span> LineGraphVisualObject lastVisualObject;<br><br>            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">LineGraphVisualObject</span>(<span class="hljs-params">GameObject dotGameObject, GameObject dotConnectionGameObject, LineGraphVisualObject lastVisualObject</span>)</span> &#123;<br>                <span class="hljs-keyword">this</span>.dotGameObject = dotGameObject;<br>                <span class="hljs-keyword">this</span>.dotConnectionGameObject = dotConnectionGameObject;<br>                <span class="hljs-keyword">this</span>.lastVisualObject = lastVisualObject;<br><br>                <span class="hljs-keyword">if</span> (lastVisualObject != <span class="hljs-literal">null</span>) &#123;<br>                    lastVisualObject.OnChangedGraphVisualObjectInfo += LastVisualObject_OnChangedGraphVisualObjectInfo;<br>                &#125;<br>            &#125;<br><br>            <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">LastVisualObject_OnChangedGraphVisualObjectInfo</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, EventArgs e</span>)</span> &#123;<br>                UpdateDotConnection();<br>            &#125;<br><br>            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetGraphVisualObjectInfo</span>(<span class="hljs-params">Vector2graphPosition, <span class="hljs-built_in">float</span> graphPositionWidth, <span class="hljs-built_in">string</span> tooltipText</span>)</span> &#123;<br>                RectTransform rectTransform = dotGameObject.GetComponent&lt;RectTransform&gt;();<br>                rectTransform.anchoredPosition = graphPosition;<br><br>                UpdateDotConnection();<br><br>                Button_UI dotButtonUI = dotGameObject.GetComponent&lt;Button_UI&gt;();<br><br>                <span class="hljs-comment">// Show Tooltip on Mouse Over</span><br>                dotButtonUI.MouseOverOnceFunc = () =&gt; &#123;<br>                    ShowTooltip_Static(tooltipText, graphPosition);<br>                &#125;;<br>            <br>                <span class="hljs-comment">// Hide Tooltip on Mouse Out</span><br>                dotButtonUI.MouseOutOnceFunc = () =&gt; &#123;<br>                    HideTooltip_Static();<br>                &#125;;<br><br>                <span class="hljs-keyword">if</span> (OnChangedGraphVisualObjectInfo != <span class="hljs-literal">null</span>) OnChangedGraphVisualObjectInfo(<span class="hljs-keyword">this</span>, EventArgs.Empty);<br>            &#125;<br><br>            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CleanUp</span>()</span> &#123;<br>                Destroy(dotGameObject);<br>                Destroy(dotConnectionGameObject);<br>            &#125;<br><br>            <span class="hljs-function"><span class="hljs-keyword">public</span> Vector2 <span class="hljs-title">GetGraphPosition</span>()</span> &#123;<br>                RectTransform rectTransform = dotGameObject.GetComponent&lt;RectTransform&gt;();<br>                <span class="hljs-keyword">return</span> rectTransform.anchoredPosition;<br>            &#125;<br><br>            <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UpdateDotConnection</span>()</span> &#123;<br>                <span class="hljs-keyword">if</span> (dotConnectionGameObject != <span class="hljs-literal">null</span>) &#123;<br>                    RectTransform dotConnectionRectTransform = dotConnectionGameObject.GetComponent&lt;RectTransform&gt;();<br>                    Vector2 dir = (lastVisualObject.GetGraphPosition() - GetGraphPosition()).normalized;<br>                    <span class="hljs-built_in">float</span> distance = Vector2.Distance(GetGraphPosition(), lastVisualObject.GetGraphPosition());<br>                    dotConnectionRectTransform.sizeDelta = <span class="hljs-keyword">new</span> Vector2(distance, <span class="hljs-number">3f</span>);<br>                    dotConnectionRectTransform.anchoredPosition = GetGraphPosition() + dir * distance * <span class="hljs-number">.5</span>f;<br>                    dotConnectionRectTransform.localEulerAngles = <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, UtilsClass.GetAngleFromVectorFloat(dir));<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>6</strong></p>
<p><img src="R6.jpg" alt="jpg"></p>
<h2 id="a*-%E7%AE%97%E6%B3%95" tabindex="-1" id="A-算法">A* 算法</h2>
<p>这玩意当时还写了博客：[Unity-Unity 中的网格系统及 AStar 算法-Zi-Zi’s Journey](…//Unity-Unity 中的网格系统及 AStar 算法/)</p>
<div class="grid-container">
    <img class="image" src="A8.jpg" alt="jpg">
    <img class="image" src="A9.jpg" alt="jpg">
    <img class="image" src="A10.jpg" alt="jpg">
</div>
**布局**
<p>​    从 <a target="_blank" rel="noopener" href="https://www.chess.com/home">主页 - Chess.com</a> 抄的素材和配色。其实这个 PPT 没有上去讲，就当练手了。</p>
<p>​    背景颜色是 <code>#312E2B</code>。</p>
<p><strong>场景逻辑</strong></p>
<p>​    随便整了 Test 类控制所有逻辑，咱就是一个敏捷开发。</p>
<ul>
<li>切换场景，只有一个场景，一个 <code>Prefab</code> 表示一页 PPT。不仅用鼠标，键盘 A 和 D 也可翻页。</li>
<li>可以使用三种算法：
<ul>
<li>Dijkstra</li>
<li>A*</li>
<li>BFS</li>
</ul>
</li>
<li>两种棋子代表：8 方向和 4 方向。Z 键切换。</li>
</ul>
<p><img src="A1_1.jpg" alt="jpg"></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> CodeMonkey.Utils;<br><span class="hljs-keyword">using</span> CodeMonkey;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Testing</span> : <span class="hljs-title">MonoBehaviour</span> &#123;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> PathfindingDebugStepVisual pathfindingDebugStepVisual;  <span class="hljs-comment">// 算法可视化(分步走)</span><br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> PathfindingVisual pathfindingVisual;  <span class="hljs-comment">// 显示界面</span><br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> CharacterPathfindingMovementHandler characterPathfinding;  <span class="hljs-comment">// 角色行走</span><br><br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Sprite King;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Sprite Rook;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text mode;<br>    <span class="hljs-keyword">private</span> Pathfinding pathfinding;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> List&lt;GameObject&gt; scenes;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text sceneIndex;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> currentScene = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span> &#123;<br>        pathfinding = <span class="hljs-keyword">new</span> Pathfinding(<span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-literal">true</span>);<br>        pathfindingDebugStepVisual.Setup(pathfinding.GetGrid());<br>        pathfindingVisual.SetGrid(pathfinding.GetGrid());<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span> &#123;<br>        <span class="hljs-keyword">if</span> (Input.GetMouseButtonDown(<span class="hljs-number">0</span>)) &#123;<br>            Vector3mouseWorldPosition = UtilsClass.GetMouseWorldPosition();<br>            pathfinding.GetGrid().GetXY(mouseWorldPosition, <span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> x, <span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> y);<br>            List&lt;PathNode&gt; path = pathfinding.FindPath(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, x, y);<br>            <span class="hljs-keyword">if</span> (path != <span class="hljs-literal">null</span>) &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i=<span class="hljs-number">0</span>; i&lt;path.Count - <span class="hljs-number">1</span>; i++) &#123;<br>                    Debug.DrawLine(<span class="hljs-keyword">new</span> Vector3(path[i].x, path[i].y) * <span class="hljs-number">10f</span> + Vector3.one * <span class="hljs-number">5f</span>, <span class="hljs-keyword">new</span> Vector3(path[i+<span class="hljs-number">1</span>].x, path[i+<span class="hljs-number">1</span>].y) * <span class="hljs-number">10f</span> + Vector3.one * <span class="hljs-number">5f</span>, Color.green, <span class="hljs-number">5f</span>);<br>                &#125;<br>            &#125;<br>            characterPathfinding.SetTargetPosition(mouseWorldPosition);<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (Input.GetMouseButtonDown(<span class="hljs-number">1</span>)) &#123;<br>            Vector3mouseWorldPosition = UtilsClass.GetMouseWorldPosition();<br>            pathfinding.GetGrid().GetXY(mouseWorldPosition, <span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> x, <span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> y);<br>            <span class="hljs-keyword">if</span>(x &gt;= <span class="hljs-number">0</span> &amp;&amp; y &gt;= <span class="hljs-number">0</span> &amp;&amp; x &lt; <span class="hljs-number">8</span> &amp;&amp; y &lt; <span class="hljs-number">8</span>)<br>                pathfinding.GetNode(x, y).SetIsWalkable(!pathfinding.GetNode(x, y).isWalkable);<br>        &#125;<br><br>        <span class="hljs-keyword">if</span>(Input.GetKeyDown(KeyCode.Z))<br>        &#123;<br>            pathfinding._8directions = !pathfinding._8directions;<br>            characterPathfinding.transform.Find(<span class="hljs-string">&quot;Chessman&quot;</span>).GetComponent&lt;SpriteRenderer&gt;().sprite = pathfinding._8directions ? King : Rook;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(Input.GetKeyDown(KeyCode.LeftArrow) || Input.GetKeyDown(KeyCode.A))<br>        &#123;<br>            privousScene();<br>        &#125;<br>        <span class="hljs-keyword">if</span> (Input.GetKeyDown(KeyCode.RightArrow) || Input.GetKeyDown(KeyCode.D))<br>        &#123;<br>            nextScene();<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">changeMode</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span>(pathfinding.mode == <span class="hljs-number">1</span>)<br>        &#123;<br>            Debug.Log(<span class="hljs-string">&quot;changeMode()&quot;</span> + pathfinding.mode);<br>            mode.text = <span class="hljs-string">&quot;Dijkstra&quot;</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (pathfinding.mode == <span class="hljs-number">2</span>)<br>        &#123;<br>            Debug.Log(<span class="hljs-string">&quot;changeMode()&quot;</span> + pathfinding.mode);<br>            mode.text = <span class="hljs-string">&quot;BFS&quot;</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (pathfinding.mode == <span class="hljs-number">3</span>)<br>        &#123;<br>            Debug.Log(<span class="hljs-string">&quot;changeMode()&quot;</span> + pathfinding.mode);<br>            mode.text = <span class="hljs-string">&quot;A*&quot;</span>;<br>        &#125;<br>        pathfinding.mode = pathfinding.mode % <span class="hljs-number">3</span> + <span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">privousScene</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (currentScene == <span class="hljs-number">0</span>)<br>            currentScene = scenes.Count - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span><br>            currentScene -= <span class="hljs-number">1</span>;<br>        sceneIndex.text = (currentScene + <span class="hljs-number">1</span>) + <span class="hljs-string">&quot;/&quot;</span> + scenes.Count;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; scenes.Count; i++)<br>        &#123;<br>            scenes[i].SetActive(i == currentScene);<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">nextScene</span>()</span><br>    &#123;<br>        currentScene = (currentScene + <span class="hljs-number">1</span>) % scenes.Count;<br>        sceneIndex.text = (currentScene + <span class="hljs-number">1</span>) + <span class="hljs-string">&quot;/&quot;</span> + scenes.Count;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; scenes.Count; i++)<br>        &#123;<br>            scenes[i].SetActive(i == currentScene);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>网格系统</strong></p>
<p>​    从 <a target="_blank" rel="noopener" href="https://www.youtube.com/playlist?list=PLzDRvYVwl53uhO8yhqxcyjDImRjO9W722">Grid System in Unity (How to make it and where to use it) - YouTube</a> 抄的网格系统以及寻路算法。</p>
<p><strong>1</strong></p>
<p><img src="A1.jpg" alt="jpg"></p>
<p><strong>2</strong></p>
<p><img src="A2.jpg" alt="jpg"></p>
<p><strong>3</strong></p>
<p><img src="A3.jpg" alt="jpg"></p>
<p><strong>4</strong></p>
<p><img src="A4.jpg" alt="jpg"></p>
<p><strong>5</strong></p>
<p><img src="A5.jpg" alt="jpg"></p>
<p><strong>6</strong></p>
<p><img src="A6.jpg" alt="jpg"></p>
<p><strong>7</strong></p>
<p><img src="A7.jpg" alt="jpg"></p>
<h2 id="%E6%A8%A1%E7%B3%8A%E8%81%9A%E7%B1%BB%E5%88%86%E6%9E%90%E6%B3%95" tabindex="-1" id="模糊聚类分析法">模糊聚类分析法</h2>
<p>​    老田不想上课让我们上去讲，我上去讲一讲练练手。</p>
<p>​    这个时候已经有 ChatGPT 了，确实很提高效率，但是要讲的东西太复杂了，写了整整两天 orz。</p>
<p><strong>场景逻辑</strong></p>
<p>​    同样的场景切换逻辑，只有一个 Scene，一个 Prefab 代表一页 PPT。</p>
<p>​    修改了鼠标指针。</p>
<p>​    使用 Dotween 设计了场景切换的动画效果，但是好像路子有点野，有空再学吧！</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> DG.Tweening;<br><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SceneController</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text indexText;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject scenes;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> index = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> index_old = <span class="hljs-number">1</span>;<br><br>    <span class="hljs-keyword">private</span> GameObject oldScene;<br>    <span class="hljs-keyword">private</span> GameObject newScene;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> timer = <span class="hljs-number">0f</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">bool</span> changing = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">bool</span> isLeft = <span class="hljs-literal">false</span>;<br><br>    <span class="hljs-keyword">public</span> Texture2D cursorTexture;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnLeftButton</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (changing) <span class="hljs-keyword">return</span>;<br>        index--;<br>        <span class="hljs-keyword">if</span> (index == <span class="hljs-number">0</span>)<br>        &#123;<br>            index = <span class="hljs-number">7</span>;<br>        &#125;<br>        UpdateScene();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnRightButton</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (changing) <span class="hljs-keyword">return</span>;<br>        index++;<br>        <span class="hljs-keyword">if</span> (index == <span class="hljs-number">8</span>)<br>        &#123;<br>            index = <span class="hljs-number">1</span>;<br>        &#125;<br>        UpdateScene();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UpdateScene</span>()</span><br>    &#123;<br>        indexText.text = index + <span class="hljs-string">&quot;/7&quot;</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span>; i++)<br>        &#123;<br>            Debug.Log(scenes.transform.GetChild(i).name + <span class="hljs-string">&quot;,&quot;</span> + index.ToString());<br>            <span class="hljs-keyword">if</span> (scenes.transform.GetChild(i).name == index.ToString())<br>            &#123;<br>                newScene = scenes.transform.GetChild(i).gameObject;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (scenes.transform.GetChild(i).name == index_old.ToString())<br>            &#123;<br>                oldScene = scenes.transform.GetChild(i).gameObject;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                scenes.transform.GetChild(i).gameObject.SetActive(<span class="hljs-literal">false</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (index_old &lt; index)<br>        &#123;<br>            isLeft = <span class="hljs-literal">true</span>;<br>            newScene.transform.GetComponent&lt;RectTransform&gt;().anchoredPosition = <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">1000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            isLeft = <span class="hljs-literal">false</span>;<br>            newScene.transform.GetComponent&lt;RectTransform&gt;().anchoredPosition = <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">-1000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>        &#125;<br>        newScene.SetActive(<span class="hljs-literal">true</span>);<br>        index_old = index;<br>        timer = <span class="hljs-number">2f</span>;<br>    &#125;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        Cursor.SetCursor(cursorTexture, Vector2.zero, CursorMode.Auto);<br>        index = <span class="hljs-number">1</span>;<br>        indexText.text = index + <span class="hljs-string">&quot;/7&quot;</span>;<br>        oldScene = scenes.transform.Find(<span class="hljs-string">&quot;1&quot;</span>).gameObject;<br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (timer &gt; <span class="hljs-number">0</span>)<br>        &#123;<br>            timer -= Time.deltaTime;<br>            <span class="hljs-keyword">if</span>(isLeft) &#123;<br>                oldScene.transform.DOLocalMove(<span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">-1000</span>, <span class="hljs-number">0</span>), <span class="hljs-number">2f</span>);<br>            &#125;<span class="hljs-keyword">else</span><br>                oldScene.transform.DOLocalMove(<span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">1000</span>, <span class="hljs-number">0</span>), <span class="hljs-number">2f</span>);<br>            newScene.transform.DOLocalMove(<span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), <span class="hljs-number">2f</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>1</strong></p>
<p><img src="F1.jpg" alt="jpg"></p>
<p><strong>2</strong></p>
<p><img src="F2.jpg" alt="jpg"></p>
<p><strong>基于模糊等价等价关系的聚类分析法</strong></p>
<p>​    代码复现以及前端效果，拖动 Slider 会改变 λ 的值，从而重新计算分类。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> Newtonsoft.Json.Linq;<br><span class="hljs-keyword">using</span> System;<br><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> System.Linq;<br><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Scene2Controller</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Slider slider;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text lambdaText;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text subText;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject Matrix1;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject Matrix2;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Color colorSmaller;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Color colorBigger;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span>[,] R = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[<span class="hljs-number">5</span>, <span class="hljs-number">5</span>]&#123;<br>                &#123;<span class="hljs-number">1</span>, <span class="hljs-number">0.48</span>, <span class="hljs-number">0.62</span>, <span class="hljs-number">0.41</span>, <span class="hljs-number">0.47</span>&#125;,<br>                &#123;<span class="hljs-number">0.48</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0.48</span>, <span class="hljs-number">0.41</span>, <span class="hljs-number">0.47</span>&#125;,<br>                &#123;<span class="hljs-number">0.62</span>, <span class="hljs-number">0.48</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0.41</span>, <span class="hljs-number">0.47</span>&#125;,<br>                &#123;<span class="hljs-number">0.41</span>, <span class="hljs-number">0.41</span>, <span class="hljs-number">0.41</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0.41</span>&#125;,<br>                &#123;<span class="hljs-number">0.47</span>, <span class="hljs-number">0.47</span>, <span class="hljs-number">0.47</span>, <span class="hljs-number">0.41</span>, <span class="hljs-number">1</span>&#125;<br>            &#125;;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span>[,] R_lambda = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[<span class="hljs-number">5</span>, <span class="hljs-number">5</span>]&#123;<br>                &#123;<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>&#125;<br>            &#125;;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span> lambda;<br><br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text AnsText;<br>    Dictionary&lt;<span class="hljs-built_in">string</span>, List&lt;<span class="hljs-built_in">int</span>&gt;&gt; duplicateRows = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, List&lt;<span class="hljs-built_in">int</span>&gt;&gt;();<br>    <span class="hljs-built_in">string</span> rowString = <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-built_in">string</span> str = <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        lambda = Math.Round(slider.<span class="hljs-keyword">value</span>, <span class="hljs-number">2</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">25</span>; i++)<br>        &#123;<br>            Matrix1.transform.Find((i + <span class="hljs-number">1</span>).ToString()).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = R[i / <span class="hljs-number">5</span>, i % <span class="hljs-number">5</span>].ToString();<br>        &#125;<br>        OnSliderValueChanged();<br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnSliderValueChanged</span>()</span><br>    &#123;<br>        <span class="hljs-comment">// 更改数组</span><br>        lambda = Math.Round(slider.<span class="hljs-keyword">value</span>, <span class="hljs-number">2</span>);<br>        lambdaText.text = <span class="hljs-string">&quot;λ=&quot;</span> + lambda.ToString();<br>        subText.text = lambda.ToString();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">25</span>; i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (R[i / <span class="hljs-number">5</span>, i % <span class="hljs-number">5</span>] &lt; lambda)<br>            &#123;<br>                R_lambda[i / <span class="hljs-number">5</span>, i % <span class="hljs-number">5</span>] = <span class="hljs-number">0</span>;<br>                Matrix1.transform.Find((i + <span class="hljs-number">1</span>).ToString()).GetComponent&lt;Image&gt;().color = colorSmaller;<br>                Matrix2.transform.Find((i + <span class="hljs-number">1</span>).ToString()).GetComponent&lt;Image&gt;().color = colorSmaller;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                R_lambda[i / <span class="hljs-number">5</span>, i % <span class="hljs-number">5</span>] = <span class="hljs-number">1</span>;<br>                Matrix1.transform.Find((i + <span class="hljs-number">1</span>).ToString()).GetComponent&lt;Image&gt;().color = colorBigger;<br>                Matrix2.transform.Find((i + <span class="hljs-number">1</span>).ToString()).GetComponent&lt;Image&gt;().color = colorBigger;<br>            &#125;<br>            Matrix2.transform.Find((i + <span class="hljs-number">1</span>).ToString()).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = R_lambda[i / <span class="hljs-number">5</span>, i % <span class="hljs-number">5</span>].ToString();<br>        &#125;<br>        <span class="hljs-comment">// 输出答案</span><br>        duplicateRows = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, List&lt;<span class="hljs-built_in">int</span>&gt;&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; R_lambda.GetLength(<span class="hljs-number">0</span>); i++)<br>        &#123;<br>            rowString = <span class="hljs-string">&quot;&quot;</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> j = <span class="hljs-number">0</span>; j &lt; R_lambda.GetLength(<span class="hljs-number">1</span>); j++)<br>            &#123;<br>                rowString += R_lambda[i, j].ToString() + <span class="hljs-string">&quot;,&quot;</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (duplicateRows.ContainsKey(rowString))<br>            &#123;<br>                duplicateRows[rowString].Add(i);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                duplicateRows.Add(rowString, <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">int</span>&gt; &#123; i &#125;);<br>            &#125;<br>        &#125;<br><br>        str = <span class="hljs-string">&quot;此时分成 &quot;</span> + duplicateRows.Count + <span class="hljs-string">&quot; 类：&quot;</span>;<br><br>        <span class="hljs-keyword">foreach</span> (KeyValuePair&lt;<span class="hljs-built_in">string</span>, List&lt;<span class="hljs-built_in">int</span>&gt;&gt; kvp <span class="hljs-keyword">in</span> duplicateRows)<br>        &#123;<br>            str += <span class="hljs-string">&quot;&#123;&quot;</span>;<br>            <span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">int</span> row <span class="hljs-keyword">in</span> kvp.Value)<br>            &#123;<br>                str += <span class="hljs-string">&quot;x&quot;</span> + (row + <span class="hljs-number">1</span>).ToString() + <span class="hljs-string">&quot;,&quot;</span>;<br>            &#125;<br>            str = str.Remove(str.Length - <span class="hljs-number">1</span>);<br>            str += <span class="hljs-string">&quot;&#125;&quot;</span>;<br>        &#125;<br>        <br>        AnsText.text = str;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>3</strong></p>
<p><img src="F3.jpg" alt="jpg"></p>
<p><strong>基于模糊相似关系的截距阵分类法</strong></p>
<p>​    用 ChatGPT 抄了个 <code>FuzzyMatrixMultiplication()</code>。</p>
<p>​    点击石头可以改变 k 的值。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> System;<br><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Scene3Controller</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Slider slider;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text lambdaText;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text subText;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject Matrix1;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject Matrix2;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject Matrix3;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Color colorSmaller;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Color colorBigger;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span>[,] R = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[<span class="hljs-number">5</span>, <span class="hljs-number">5</span>]&#123;<br>                &#123;<span class="hljs-number">1</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>&#125;,<br>                &#123;<span class="hljs-number">0.8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.9</span>&#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0.4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;,<br>                &#123;<span class="hljs-number">0.1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0.5</span>&#125;,<br>                &#123;<span class="hljs-number">0.2</span>, <span class="hljs-number">0.9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>&#125;<br>            &#125;;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span>[,] R_k = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[<span class="hljs-number">5</span>, <span class="hljs-number">5</span>]&#123;<br>                &#123;<span class="hljs-number">1</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>&#125;,<br>                &#123;<span class="hljs-number">0.8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.9</span>&#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0.4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;,<br>                &#123;<span class="hljs-number">0.1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0.5</span>&#125;,<br>                &#123;<span class="hljs-number">0.2</span>, <span class="hljs-number">0.9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>&#125;<br>            &#125;;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span>[,] R_lambda = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[<span class="hljs-number">5</span>, <span class="hljs-number">5</span>]&#123;<br>                &#123;<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>&#125;<br>            &#125;;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span> lambda;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> k = <span class="hljs-number">1</span>;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text kText;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject Stones;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text supText;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text supText2;<br><br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text AnsText;<br>    Dictionary&lt;<span class="hljs-built_in">string</span>, List&lt;<span class="hljs-built_in">int</span>&gt;&gt; duplicateRows = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, List&lt;<span class="hljs-built_in">int</span>&gt;&gt;();<br>    <span class="hljs-built_in">string</span> rowString = <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-built_in">string</span> str = <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        lambda = Math.Round(slider.<span class="hljs-keyword">value</span>, <span class="hljs-number">2</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">25</span>; i++)<br>        &#123;<br>            Matrix1.transform.Find((i + <span class="hljs-number">1</span>).ToString()).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = R[i / <span class="hljs-number">5</span>, i % <span class="hljs-number">5</span>].ToString();<br>        &#125;<br>        OnChangeK();<br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnChangeK</span>()</span><br>    &#123;<br>        k *= <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">if</span> (k == <span class="hljs-number">16</span>) &#123; k = <span class="hljs-number">1</span>; &#125;<br>        kText.text = <span class="hljs-string">&quot;k=&quot;</span> + k;<br>        supText.text = supText2.text = k.ToString();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">5</span>; i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (Math.Pow(<span class="hljs-number">2</span>, i - <span class="hljs-number">1</span>)&lt;=k)<br>                Stones.transform.Find(<span class="hljs-string">&quot;Stone&quot;</span> + (i).ToString()).GetComponent&lt;Image&gt;().color= Color.yellow;<br>            <span class="hljs-keyword">else</span><br>                Stones.transform.Find(<span class="hljs-string">&quot;Stone&quot;</span> + (i).ToString()).GetComponent&lt;Image&gt;().color = Color.white;<br>        &#125;<br>        OnSliderValueChanged();<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span>[,] FuzzyMatrixMultiplication(<span class="hljs-built_in">double</span>[,] matrix, <span class="hljs-built_in">int</span> k)<br>    &#123;<br>        <span class="hljs-built_in">double</span>[,] result = (<span class="hljs-built_in">double</span>[,])matrix.Clone(); <span class="hljs-comment">// 复制一份 matrix</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">2</span>; i &lt;= k; i++)<br>        &#123;<br>            <span class="hljs-built_in">double</span>[,] temp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[matrix.GetLength(<span class="hljs-number">0</span>), matrix.GetLength(<span class="hljs-number">1</span>)];<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> j = <span class="hljs-number">0</span>; j &lt; matrix.GetLength(<span class="hljs-number">0</span>); j++)<br>            &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> l = <span class="hljs-number">0</span>; l &lt; matrix.GetLength(<span class="hljs-number">1</span>); l++)<br>                &#123;<br>                    <span class="hljs-built_in">double</span> temp2 = <span class="hljs-number">0</span>;<br>                    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> m = <span class="hljs-number">0</span>; m &lt; matrix.GetLength(<span class="hljs-number">1</span>); m++)<br>                    &#123;<br>                        <span class="hljs-built_in">double</span> fuzzyValue = Math.Min(result[j, m], matrix[m, l]);<br>                        temp2 = Math.Max(fuzzyValue, temp2);<br>                    &#125;<br>                    temp[j, l] = temp2;<br>                &#125;<br>            &#125;<br>            result = (<span class="hljs-built_in">double</span>[,])temp.Clone(); <span class="hljs-comment">// 将 temp 的值赋给 result</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnSliderValueChanged</span>()</span><br>    &#123;<br>        <span class="hljs-comment">// 更改数组</span><br>        lambda = Math.Round(slider.<span class="hljs-keyword">value</span>, <span class="hljs-number">2</span>);<br>        lambdaText.text = <span class="hljs-string">&quot;λ=&quot;</span> + lambda.ToString();<br>        subText.text = lambda.ToString();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">25</span>; i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (R_k[i / <span class="hljs-number">5</span>, i % <span class="hljs-number">5</span>] &lt; lambda)<br>            &#123;<br>                R_lambda[i / <span class="hljs-number">5</span>, i % <span class="hljs-number">5</span>] = <span class="hljs-number">0</span>;<br>                Matrix2.transform.Find((i + <span class="hljs-number">1</span>).ToString()).GetComponent&lt;Image&gt;().color = colorSmaller;<br>                Matrix3.transform.Find((i + <span class="hljs-number">1</span>).ToString()).GetComponent&lt;Image&gt;().color = colorSmaller;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                R_lambda[i / <span class="hljs-number">5</span>, i % <span class="hljs-number">5</span>] = <span class="hljs-number">1</span>;<br>                Matrix2.transform.Find((i + <span class="hljs-number">1</span>).ToString()).GetComponent&lt;Image&gt;().color = colorBigger;<br>                Matrix3.transform.Find((i + <span class="hljs-number">1</span>).ToString()).GetComponent&lt;Image&gt;().color = colorBigger;<br>            &#125;<br>            Matrix3.transform.Find((i + <span class="hljs-number">1</span>).ToString()).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = R_lambda[i / <span class="hljs-number">5</span>, i % <span class="hljs-number">5</span>].ToString();<br>        &#125;<br><br>        R_k = FuzzyMatrixMultiplication(R, k);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">25</span>; i++)<br>        &#123;<br>            Matrix2.transform.Find((i + <span class="hljs-number">1</span>).ToString()).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = R_k[i / <span class="hljs-number">5</span>, i % <span class="hljs-number">5</span>].ToString();<br>        &#125;<br><br>        <span class="hljs-comment">// 输出答案</span><br>        duplicateRows = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, List&lt;<span class="hljs-built_in">int</span>&gt;&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; R_lambda.GetLength(<span class="hljs-number">0</span>); i++)<br>        &#123;<br>            rowString = <span class="hljs-string">&quot;&quot;</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> j = <span class="hljs-number">0</span>; j &lt; R_lambda.GetLength(<span class="hljs-number">1</span>); j++)<br>            &#123;<br>                rowString += R_lambda[i, j].ToString() + <span class="hljs-string">&quot;,&quot;</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (duplicateRows.ContainsKey(rowString))<br>            &#123;<br>                duplicateRows[rowString].Add(i);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                duplicateRows.Add(rowString, <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">int</span>&gt; &#123; i &#125;);<br>            &#125;<br>        &#125;<br><br>        str = <span class="hljs-string">&quot;此时分成 &quot;</span> + duplicateRows.Count + <span class="hljs-string">&quot; 类：&quot;</span>;<br><br>        <span class="hljs-keyword">foreach</span> (KeyValuePair&lt;<span class="hljs-built_in">string</span>, List&lt;<span class="hljs-built_in">int</span>&gt;&gt; kvp <span class="hljs-keyword">in</span> duplicateRows)<br>        &#123;<br>            str += <span class="hljs-string">&quot;&#123;&quot;</span>;<br>            <span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">int</span> row <span class="hljs-keyword">in</span> kvp.Value)<br>            &#123;<br>                str += <span class="hljs-string">&quot;x&quot;</span> + (row + <span class="hljs-number">1</span>).ToString() + <span class="hljs-string">&quot;,&quot;</span>;<br>            &#125;<br>            str = str.Remove(str.Length - <span class="hljs-number">1</span>);<br>            str += <span class="hljs-string">&quot;&#125;&quot;</span>;<br>        &#125;<br><br>        AnsText.text = str;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>4</strong></p>
<p><img src="F4.jpg" alt="jpg"></p>
<p><strong>模糊相似关系直接用于分类</strong></p>
<p>​    这部分没有对算法进行复现，直接面向结果编程了。</p>
<p>​    同样地，拖动 Slider 改变 λ 的值。</p>
<p>​    按下小铅笔绘制最大树。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> System;<br><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> System.Numerics;<br><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Scece4Controller</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Slider slider;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text lambdaText;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Color matrixColor;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject Edges;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span> mu = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span> lambda;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span>[,] R = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[<span class="hljs-number">8</span>, <span class="hljs-number">8</span>]&#123;<br>                &#123;<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>&#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.5</span>&#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.2</span>&#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span> &#125;,<br>                &#123;<span class="hljs-number">0.5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>,  <span class="hljs-number">0.8</span>, <span class="hljs-number">0</span> &#125;,<br>                &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">0</span>,<span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.8</span> &#125;,<br>                &#123;<span class="hljs-number">0.4</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.8</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span> &#125;,<br>                &#123;<span class="hljs-number">0</span>,<span class="hljs-number">0.5</span>,<span class="hljs-number">0.2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.8</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span> &#125;<br>            &#125;;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject Matrix;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        lambda = Math.Round(slider.<span class="hljs-keyword">value</span>, <span class="hljs-number">2</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">64</span>; i++)<br>        &#123;<br>            Matrix.transform.Find((i + <span class="hljs-number">1</span>).ToString()).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = R[i / <span class="hljs-number">8</span>, i % <span class="hljs-number">8</span>].ToString();<br>            <span class="hljs-keyword">if</span>(i / <span class="hljs-number">8</span> &gt;= i % <span class="hljs-number">8</span>)<br>            &#123;<br>                Matrix.transform.Find((i + <span class="hljs-number">1</span>).ToString()).GetComponent&lt;Image&gt;().color = matrixColor;<br>            &#125;<br>        &#125;<br>        OnSliderValueChanged();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnDrawButton</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (mu == <span class="hljs-number">1</span>)<br>            mu = <span class="hljs-number">0.8</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (mu == <span class="hljs-number">0.8</span>)<br>            mu = <span class="hljs-number">0.5</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (mu == <span class="hljs-number">0.5</span>)<br>            mu = <span class="hljs-number">0.4</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (mu == <span class="hljs-number">0.4</span>)<br>            mu = <span class="hljs-number">0.2</span>;<br>        <span class="hljs-keyword">else</span><br>            mu = <span class="hljs-number">1</span>;<br>        UpdateUI();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnSliderValueChanged</span>()</span><br>    &#123;<br>        lambda = Math.Round(slider.<span class="hljs-keyword">value</span>, <span class="hljs-number">2</span>);<br>        lambdaText.text = <span class="hljs-string">&quot;λ=&quot;</span> + lambda;<br>        UpdateUI();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">UpdateUI</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; Edges.transform.childCount; i++)<br>        &#123;<br>            <span class="hljs-built_in">double</span> temp = <span class="hljs-built_in">double</span>.Parse(Edges.transform.GetChild(i).name.Split(<span class="hljs-string">&#x27; &#x27;</span>)[<span class="hljs-number">1</span>]);<br>            <span class="hljs-keyword">if</span> (temp &gt;= mu &amp;&amp; temp &gt;= lambda)<br>            &#123;<br>                Edges.transform.GetChild(i).gameObject.SetActive(<span class="hljs-literal">true</span>);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>                Edges.transform.GetChild(i).gameObject.SetActive(<span class="hljs-literal">false</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>5</strong></p>
<p><img src="F5.jpg" alt="jpg"></p>
<p><strong>模糊 K-均值算法</strong></p>
<p>​    按下按钮更改 L 的值。</p>
<p>​    记得这里在前端琢磨了好久，因为没有想到好的方法来转换游戏空间坐标与图像坐标。</p>
<p>​    最后还是写个了很粗糙的方法，没用上 Dotween。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> DG.Tweening;<br><span class="hljs-keyword">using</span> Newtonsoft.Json.Linq;<br><span class="hljs-keyword">using</span> System;<br><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> System.Threading;<br><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">static</span> UnityEngine.UI.Image;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Scene5Controller</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject Matrix1;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject Matrix2;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject Matrix3;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text LText;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text CondictionText;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Color originColor;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Color matrixColor;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> x = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> y = <span class="hljs-number">0</span>;<br><br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text U_1_Text;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text U_Text;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject Z_1GameObject;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> GameObject Z_2GameObject;<br><br>    <span class="hljs-keyword">private</span> Vector3 Z_1_old_position = Vector3.zero;<br>    <span class="hljs-keyword">private</span> Vector3 Z_1_new_position = Vector3.zero;<br>    <span class="hljs-keyword">private</span> Vector3 Z_2_old_position = Vector3.zero;<br>    <span class="hljs-keyword">private</span> Vector3 Z_2_new_position = Vector3.zero;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> timer = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> L = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span>[,] X = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[<span class="hljs-number">4</span>, <span class="hljs-number">2</span>]<br>    &#123;<br>        &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span> &#125;,<br>        &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span> &#125;,<br>        &#123;<span class="hljs-number">3</span>, <span class="hljs-number">1</span> &#125;,<br>        &#123;<span class="hljs-number">3</span>, <span class="hljs-number">2</span> &#125;,<br>    &#125;;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span>[] Z_1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[] &#123; <span class="hljs-number">1.84</span>, <span class="hljs-number">1.84</span> &#125;;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span>[] Z_2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[] &#123;<span class="hljs-number">2.84</span>, <span class="hljs-number">1.84</span>&#125;;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span>[,] U = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>]&#123;<br>                &#123;<span class="hljs-number">0.9</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">0.7</span>, <span class="hljs-number">0.1</span>&#125;,<br>                &#123;<span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.3</span>, <span class="hljs-number">0.9</span>&#125;,<br>    &#125;;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span>[,] U_L_1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>]&#123;<br>                &#123;<span class="hljs-number">0.9</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">0.7</span>, <span class="hljs-number">0.1</span>&#125;,<br>                &#123;<span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.3</span>, <span class="hljs-number">0.9</span>&#125;,<br>    &#125;;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span>[,] U_L = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>]&#123;<br>                &#123;<span class="hljs-number">0.9</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">0.7</span>, <span class="hljs-number">0.1</span>&#125;,<br>                &#123;<span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.3</span>, <span class="hljs-number">0.9</span>&#125;,<br>    &#125;;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnIncreseL</span>()</span><br>    &#123;<br>        L += <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(L == <span class="hljs-number">7</span>)<br>        &#123;<br>            L = <span class="hljs-number">1</span>;<br>        &#125;<br>        LText.text = <span class="hljs-string">&quot;L=&quot;</span> + L;<br>        Calc();<br>        UpdateUI();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnDecreseL</span>()</span><br>    &#123;<br>        L -= <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (L == <span class="hljs-number">0</span>)<br>        &#123;<br>            L = <span class="hljs-number">6</span>;<br>        &#125;<br>        LText.text = <span class="hljs-string">&quot;L=&quot;</span> + L;<br>        Calc();<br>        UpdateUI();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Calc</span>()</span><br>    &#123;<br>        <span class="hljs-built_in">double</span>[,] temp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[U.GetLength(<span class="hljs-number">0</span>), U.GetLength(<span class="hljs-number">1</span>)];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; U.GetLength(<span class="hljs-number">0</span>); i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> j = <span class="hljs-number">0</span>; j &lt; U.GetLength(<span class="hljs-number">1</span>); j++)<br>            &#123;<br>                temp[i, j] = U[i, j];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; L; i++)  <span class="hljs-comment">// 重复 L 次</span><br>        &#123;<br>            <span class="hljs-comment">// Debug.Log(&quot;i=&quot; + i +&quot; ********************&quot;);</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> k = <span class="hljs-number">0</span>; k &lt; <span class="hljs-number">4</span>; k++)<br>            &#123;<br>                U_L_1[<span class="hljs-number">0</span>, k] = temp[<span class="hljs-number">0</span>, k];<br>                U_L_1[<span class="hljs-number">1</span>, k] = temp[<span class="hljs-number">1</span>, k];<br>                <span class="hljs-comment">// Debug.Log(Math.Round(U_L_1[0, k], 2) + &quot;, &quot; + Math.Round(U_L_1[1, k], 2));</span><br>            &#125;<br>            <span class="hljs-comment"><span class="hljs-doctag">///</span><span class="hljs-doctag">///</span><span class="hljs-doctag">///</span><span class="hljs-doctag">///</span><span class="hljs-doctag">///</span><span class="hljs-doctag">///</span> 计算 Z1</span><br>            <span class="hljs-built_in">double</span> dividend_x_1 = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 被除数 x</span><br>            <span class="hljs-built_in">double</span> dividend_y_1 = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 被除数 y</span><br>            <span class="hljs-built_in">double</span> dvider_1 = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 除数</span><br><br>            <span class="hljs-built_in">double</span> dividend_x_2 = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 被除数 x</span><br>            <span class="hljs-built_in">double</span> dividend_y_2 = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 被除数 y</span><br>            <span class="hljs-built_in">double</span> dvider_2 = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 除数</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">4</span>; j++)  <span class="hljs-comment">// 遍历第 0 行</span><br>            &#123;<br>                dvider_1 += temp[<span class="hljs-number">0</span>, j] * temp[<span class="hljs-number">0</span>, j];<br>                dividend_x_1 += X[j, <span class="hljs-number">0</span>] * temp[<span class="hljs-number">0</span>, j] * temp[<span class="hljs-number">0</span>, j];<br>                dividend_y_1 += X[j, <span class="hljs-number">1</span>] * temp[<span class="hljs-number">0</span>, j] * temp[<span class="hljs-number">0</span>, j];<br><br>                dvider_2 += temp[<span class="hljs-number">1</span>, j] * temp[<span class="hljs-number">1</span>, j];<br>                dividend_x_2 += X[j, <span class="hljs-number">0</span>] * temp[<span class="hljs-number">1</span>, j] * temp[<span class="hljs-number">1</span>, j];<br>                dividend_y_2 += X[j, <span class="hljs-number">1</span>] * temp[<span class="hljs-number">1</span>, j] * temp[<span class="hljs-number">1</span>, j];<br>            &#125;<br>            <span class="hljs-comment">// 更新聚类中心</span><br>            Z_1[<span class="hljs-number">0</span>] = dividend_x_1 / dvider_1;<br>            Z_1[<span class="hljs-number">1</span>] = dividend_y_1 / dvider_1;<br>            Z_2[<span class="hljs-number">0</span>] = dividend_x_2 / dvider_2;<br>            Z_2[<span class="hljs-number">1</span>] = dividend_y_2 / dvider_2;<br>            <span class="hljs-comment">// Debug.Log(&quot;迭代次数 &quot; + i + &quot; 聚类中心：(&quot; + Z_1[0] + &quot;,&quot; + Z_1[1] + &quot;),(&quot; + Z_2[0] + &quot;,&quot; + Z_2[1] + &quot;)&quot;);</span><br>            <span class="hljs-comment">// 计算距离, 更新矩阵</span><br>            <span class="hljs-built_in">double</span> d1;<br>            <span class="hljs-built_in">double</span> d2;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> k = <span class="hljs-number">0</span>; k &lt; <span class="hljs-number">4</span>; k++)<br>            &#123;<br>                <span class="hljs-comment">// Debug.Log(&quot;---------------------&quot;);</span><br>                <span class="hljs-comment">// Debug.Log(&quot;X&quot; + (k + 1) + &quot;: &quot; + X[k, 0] + &quot;, &quot; + X[k, 1]);</span><br>                d1 = (X[k, <span class="hljs-number">0</span>] - Z_1[<span class="hljs-number">0</span>]) * (X[k, <span class="hljs-number">0</span>] - Z_1[<span class="hljs-number">0</span>]) + (X[k, <span class="hljs-number">1</span>] - Z_1[<span class="hljs-number">1</span>]) * (X[k, <span class="hljs-number">1</span>] - Z_1[<span class="hljs-number">1</span>]);<br>                d2 = (X[k, <span class="hljs-number">0</span>] - Z_2[<span class="hljs-number">0</span>]) * (X[k, <span class="hljs-number">0</span>] - Z_2[<span class="hljs-number">0</span>]) + (X[k, <span class="hljs-number">1</span>] - Z_2[<span class="hljs-number">1</span>]) * (X[k, <span class="hljs-number">1</span>] - Z_2[<span class="hljs-number">1</span>]);<br>                temp[<span class="hljs-number">0</span>, k] = <span class="hljs-number">1</span> / (<span class="hljs-number">1</span> + d1 / d2);<br>                temp[<span class="hljs-number">1</span>, k] = <span class="hljs-number">1</span> / (<span class="hljs-number">1</span> + d2 / d1);<br>                <span class="hljs-comment">// Debug.Log(Math.Round(temp[0, k], 2) + &quot;, &quot; + Math.Round(temp[1, k], 2));</span><br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// Debug.Log(&quot;!!!!!!!!!!!!!!!!&quot;);</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> k = <span class="hljs-number">0</span>; k &lt; <span class="hljs-number">4</span>; k++)<br>        &#123;<br>            U_L[<span class="hljs-number">0</span>, k] = temp[<span class="hljs-number">0</span>, k];<br>            U_L[<span class="hljs-number">1</span>, k] = temp[<span class="hljs-number">1</span>, k];<br>            <span class="hljs-comment">// Debug.Log(Math.Round(U_L[0, k], 2) + &quot;, &quot; + Math.Round(U_L[1, k], 2));</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UpdateUI</span>()</span><br>    &#123;<br>        Matrix2.transform.Find((x * <span class="hljs-number">4</span> + y + <span class="hljs-number">1</span>).ToString()).GetComponent&lt;Image&gt;().color = originColor;<br>        Matrix3.transform.Find((x * <span class="hljs-number">4</span> + y + <span class="hljs-number">1</span>).ToString()).GetComponent&lt;Image&gt;().color = originColor;<br>        U_1_Text.text = <span class="hljs-string">&quot;U(&quot;</span> + (L - <span class="hljs-number">1</span>).ToString() + <span class="hljs-string">&quot;)=&quot;</span>;<br>        U_Text.text = <span class="hljs-string">&quot;U(&quot;</span> + L + <span class="hljs-string">&quot;)=&quot;</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)<br>        &#123;<br>            Matrix2.transform.Find((i + <span class="hljs-number">1</span>).ToString()).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = Math.Round(U_L_1[<span class="hljs-number">0</span>, i], <span class="hljs-number">2</span>).ToString();<br>            Matrix2.transform.Find((i + <span class="hljs-number">5</span>).ToString()).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = Math.Round(U_L_1[<span class="hljs-number">1</span>, i], <span class="hljs-number">2</span>).ToString();<br>            Matrix3.transform.Find((i + <span class="hljs-number">1</span>).ToString()).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = Math.Round(U_L[<span class="hljs-number">0</span>, i], <span class="hljs-number">2</span>).ToString();<br>            Matrix3.transform.Find((i + <span class="hljs-number">5</span>).ToString()).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = Math.Round(U_L[<span class="hljs-number">1</span>, i], <span class="hljs-number">2</span>).ToString();<br>        &#125;<br>        <span class="hljs-built_in">double</span> max = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; U.GetLength(<span class="hljs-number">0</span>); i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> j = <span class="hljs-number">0</span>; j &lt; U.GetLength(<span class="hljs-number">1</span>); j++)<br>            &#123;<br>                <span class="hljs-keyword">if</span> (max &lt; Math.Abs(U_L_1[i, j] - U_L[i, j]))<br>                &#123;<br>                    max = Math.Abs(U_L_1[i, j] - U_L[i, j]);<br>                    x = i;<br>                    y = j;<br>                &#125;<br>            &#125;<br>        &#125;<br>        CondictionText.text = Math.Round(max, <span class="hljs-number">6</span>).ToString();<br><br>        Matrix2.transform.Find((x * <span class="hljs-number">4</span> + y + <span class="hljs-number">1</span>).ToString()).GetComponent&lt;Image&gt;().color = matrixColor;<br>        Matrix3.transform.Find((x * <span class="hljs-number">4</span> + y + <span class="hljs-number">1</span>).ToString()).GetComponent&lt;Image&gt;().color = matrixColor;<br><br>        Z_1_old_position = Z_1GameObject.transform.localPosition;<br>        Z_2_old_position = Z_2GameObject.transform.localPosition;<br><br>        Z_1GameObject.transform.Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = <span class="hljs-string">&quot;Z1=(&quot;</span> + Math.Round(Z_1[<span class="hljs-number">0</span>], <span class="hljs-number">2</span>) + <span class="hljs-string">&quot;, &quot;</span> + Math.Round(Z_1[<span class="hljs-number">1</span>],<span class="hljs-number">2</span>) + <span class="hljs-string">&quot;)T&quot;</span>;<br>        Z_1_new_position = <span class="hljs-keyword">new</span> Vector3((<span class="hljs-built_in">float</span>)(<span class="hljs-number">120</span> * Math.Round(Z_1[<span class="hljs-number">0</span>], <span class="hljs-number">2</span>)), (<span class="hljs-built_in">float</span>)(<span class="hljs-number">120</span> * Math.Round(Z_1[<span class="hljs-number">1</span>], <span class="hljs-number">2</span>)), <span class="hljs-number">0</span>);<br>        <span class="hljs-comment">// Z_1GameObject.transform.localPosition = Z_1_new_position;</span><br><br>        Z_2GameObject.transform.Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = <span class="hljs-string">&quot;Z2=(&quot;</span> + Math.Round(Z_2[<span class="hljs-number">0</span>], <span class="hljs-number">2</span>) + <span class="hljs-string">&quot;, &quot;</span> + Math.Round(Z_2[<span class="hljs-number">1</span>],<span class="hljs-number">2</span>) + <span class="hljs-string">&quot;)T&quot;</span>;<br>        Z_2_new_position = <span class="hljs-keyword">new</span> Vector3((<span class="hljs-built_in">float</span>)(<span class="hljs-number">120</span> * Math.Round(Z_2[<span class="hljs-number">0</span>], <span class="hljs-number">2</span>)), (<span class="hljs-built_in">float</span>)(<span class="hljs-number">120</span> * Math.Round(Z_2[<span class="hljs-number">1</span>], <span class="hljs-number">2</span>)), <span class="hljs-number">0</span>);<br>        <span class="hljs-comment">// Z_2GameObject.transform.localPosition = Z_2_new_position;</span><br>        timer = <span class="hljs-number">0.5f</span>;<br><br><br>    &#125;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)<br>        &#123;<br>            Matrix1.transform.Find((i + <span class="hljs-number">1</span>).ToString()).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = Math.Round(U[<span class="hljs-number">0</span>, i], <span class="hljs-number">2</span>).ToString();<br>            Matrix1.transform.Find((i + <span class="hljs-number">5</span>).ToString()).Find(<span class="hljs-string">&quot;Text&quot;</span>).GetComponent&lt;Text&gt;().text = Math.Round(U[<span class="hljs-number">1</span>, i], <span class="hljs-number">2</span>).ToString();<br>        &#125;<br>        L = <span class="hljs-number">0</span>;<br>        Z_1_old_position = Z_1GameObject.transform.localPosition;<br>        Z_2_old_position = Z_2GameObject.transform.localPosition;<br>        OnIncreseL();<br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (timer &gt; <span class="hljs-number">0</span>)<br>        &#123;<br>            timer -= Time.deltaTime;<br>            Z_1GameObject.transform.localPosition = Z_1_old_position + (Z_1_new_position - Z_1_old_position) * (<span class="hljs-number">1</span> - timer) * (<span class="hljs-number">1</span> - timer);<br>            Z_2GameObject.transform.localPosition = Z_2_old_position + (Z_2_new_position - Z_2_old_position) * (<span class="hljs-number">1</span> - timer) * (<span class="hljs-number">1</span> - timer);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>6</strong></p>
<p><img src="F6.jpg" alt="jpg"></p>
<p><strong>模糊 ISODATA 算法</strong></p>
<p>​    这块计算量太大了，而且比较复杂，我没咋理解，更不会可视化了……</p>
<p>​    用 ChatGPT 帮忙写了一个 Python 版本的，用 Jupyter Notebook 确实能跑，但是稍微改一点参数就不能跑了，不过老田估计也不懂就鬼混过去了嘻嘻嘻。</p>
<p>​    把之前的代码滚动框抄了回去。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><code class="hljs xml">&lt;color=&quot;#FF8800&quot;&gt;import numpy as np<br><span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br><br>&lt;color=&quot;#00FFFF&quot;&gt;class FuzzyISODATA<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>():<br>    &lt;color=&quot;#dcdcaa&quot;&gt;def __init__(self, data, k, max_iter, min_samples=1, max_samples=None)<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>:<br>        self.data = data  &lt;color=&quot;#57a64a&quot;&gt;# 输入的样本数据<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        self.k = k  &lt;color=&quot;#57a64a&quot;&gt;# 簇的数量<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        self.max_iter = max_iter  &lt;color=&quot;#57a64a&quot;&gt;# 最大迭代次数<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        self.min_samples = min_samples  &lt;color=&quot;#57a64a&quot;&gt;# 每个簇的最小样本数<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        &lt;color=&quot;#57a64a&quot;&gt;# 每个簇的最大样本数 max_samples。如果未指定，则默认为样本数据 data 的长度<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        self.max_samples = max_samples if max_samples is not None else len(data)<br>        self.epsilon = 0.01  &lt;color=&quot;#57a64a&quot;&gt;# 容差阈值<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        self.alpha = 0.5  &lt;color=&quot;#57a64a&quot;&gt;# 簇重心标准偏差的阈值<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        self.beta = 0.5  &lt;color=&quot;#57a64a&quot;&gt;# 样本点从属度的阈值<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        <br>        self.centroids = None  &lt;color=&quot;#57a64a&quot;&gt;# 簇质心<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        self.weights = None  &lt;color=&quot;#57a64a&quot;&gt;# 每个样本点在所有簇中的从属度<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br><br>    &lt;color=&quot;#dcdcaa&quot;&gt;def initialize(self)<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>:<br>        &lt;color=&quot;#57a64a&quot;&gt;# 从原始数据 self.data 中选取 k 个随机的质心点，保存到 self.centroids 变量中。<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        self.centroids = self.data[np.random.choice(len(self.data), self.k, replace=False), :]<br>        &lt;color=&quot;#57a64a&quot;&gt;# 初始化权重矩阵 self.weights，大小为 (len(self.data), k)，其中每个元素都被初始化为 0<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        self.weights = np.zeros((len(self.data), self.k))<br>        &lt;color=&quot;#57a64a&quot;&gt;# 对于所有原始数据 self.data 中的向量，为它们随机分配一个初始的权重值<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        for i in range(len(self.data)):<br>            self.weights[i, np.random.randint(self.k)] = 1<br><br>    &lt;color=&quot;#dcdcaa&quot;&gt;def update_weights(self)<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>:<br>        &lt;color=&quot;#57a64a&quot;&gt;# 代码通过遍历所有的质心点 j，找到所有分配到第 j 个簇中的数据样本<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        for j in range(self.k):<br>            &lt;color=&quot;#57a64a&quot;&gt;# 如果该簇中的样本数小于预设的最小值 self.min_samples，<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            &lt;color=&quot;#57a64a&quot;&gt;# 那么就认为该簇没有足够的样本，后面就无法对它进行合并等操作，因此需要把该簇从质心和权重矩阵中删除，并把 self.k 减 1<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            samples = self.data[self.weights[:, j] &gt; 0]<br>            if len(samples) &lt; self.min_samples:<br>                mask = self.weights[:, j] == 1<br>                self.weights[mask, :] = np.delete(self.weights[mask, :], j, axis=1)<br>                self.centroids = np.delete(self.centroids, j, axis=0)<br>                self.k -= 1<br>                continue<br>            &lt;color=&quot;#57a64a&quot;&gt;# 对于有足够样本的簇，算法会根据该簇中所有样本与该簇的质心点 j 之间的距离计算出一个标准差 std_dev，<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            &lt;color=&quot;#57a64a&quot;&gt;# 并将除标准差以外的部分规范化为一个权重值，用于表示该样本属于该簇的程度<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            &lt;color=&quot;#57a64a&quot;&gt;# 首先计算所有样本到 j 号质心的欧几里得距离 dist<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            dist = np.linalg.norm(samples - self.centroids[j], axis=1)<br>            &lt;color=&quot;#57a64a&quot;&gt;# 求出这些距离的平均值 mean_dist 和标准差 std_dev<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            mean_dist = np.mean(dist)<br>            &lt;color=&quot;#57a64a&quot;&gt;# 利用高斯分布函数将距离 dist 转换为一个 0~1 之间的权重值，用于表示该样本属于这个簇的程度<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            std_dev = np.sqrt(np.mean((dist - mean_dist) ** 2))<br>            <br>            mask = self.weights[:, j] &gt; 0<br>            &lt;color=&quot;#57a64a&quot;&gt;# 根据计算出来的权重更新 self.weights 矩阵中的对应位置，即将 self.weights[i, j] 赋值为上面计算出来的权重值<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            self.weights[mask, j] = np.exp(-((dist - mean_dist) ** 2) / (2 * std_dev ** 2))<br><br>    &lt;color=&quot;#dcdcaa&quot;&gt;def update_centroids(self)<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>:<br>        &lt;color=&quot;#57a64a&quot;&gt;# 遍历所有质心点 j，并根据每个簇的权重信息，重新计算第 j 个簇的质心坐标<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        for j in range(self.k):<br>            &lt;color=&quot;#57a64a&quot;&gt;# 通过对 self.weights 矩阵进行逻辑判断，<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            &lt;color=&quot;#57a64a&quot;&gt;# 筛选出所有满足 self.weights[:, j] &gt; 0 条件的索引，即所有已经被分配到第 j 个簇的数据样本<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            mask = self.weights[:, j] &gt; 0<br>            &lt;color=&quot;#57a64a&quot;&gt;# 使用 np.mean() 方法在这些样本上分别计算出每个维度上的均值，作为该簇新的质心坐标<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            self.centroids[j] = np.mean(self.data[mask], axis=0)<br><br>    &lt;color=&quot;#dcdcaa&quot;&gt;def update_k(self)<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>:<br>        &lt;color=&quot;#57a64a&quot;&gt;# 判断样本数据量是否超过了 self.max_samples，如果没有超过就直接返回，不做任何处理<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        if len(self.data) &lt;= self.max_samples:<br>            return<br>        &lt;color=&quot;#57a64a&quot;&gt;# 样本数据量超过 self.max_samples 时，算法会计算所有质心点中每个维度的标准差，<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        &lt;color=&quot;#57a64a&quot;&gt;# 并筛选出其中标准差大于 self.epsilon 的质心点，即待进行拆分操作的质心点。<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        &lt;color=&quot;#57a64a&quot;&gt;# 这通过对 self.centroids 中每个质心点在各个维度上的标准差进行计算，<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        &lt;color=&quot;#57a64a&quot;&gt;# 并使用 np.where() 方法筛选出标准差大于 self.epsilon 的质心点来实现。<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        centroids_to_split = np.where(np.std(self.centroids, axis=1) &gt; self.epsilon)[0]<br><br>        &lt;color=&quot;#57a64a&quot;&gt;# 对于每个待拆分的质心点 i<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        for i in centroids_to_split:<br>            &lt;color=&quot;#57a64a&quot;&gt;# 算法会在该质心点的位置插入一个新的质心点 i+1。<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            &lt;color=&quot;#57a64a&quot;&gt;# 具体地，代码使用新质心点的计算公式，即当前质心坐标加上一个随机扰动，生成一个新的质心坐标<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            new_centroid = self.centroids[i] + self.alpha * np.std(self.data, axis=0)[i] * np.random.randn(len(self.data[0]))<br>            &lt;color=&quot;#57a64a&quot;&gt;# 使用 np.insert() 方法将这个新的质心坐标插入到 self.centroids 数组中第 i+1 个位置<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            self.centroids = np.insert(self.centroids, i + 1, new_centroid, axis=0)<br>            <br>            &lt;color=&quot;#57a64a&quot;&gt;# 根据每个簇的权重信息，对新拆分出来的簇进行样本分配<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            &lt;color=&quot;#57a64a&quot;&gt;# 对于拆分出来的两个簇 i 和 i+1，算法会将原来被分配到第 i 个簇中的数据样本重新分配到距离它更近的质心中<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            mask = self.weights[:, i] &gt; 0<br>            &lt;color=&quot;#57a64a&quot;&gt;# 对 self.weights 矩阵中被分配到第 i 个簇中的样本进行筛选<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            self.weights[mask, i] = self.beta<br>            &lt;color=&quot;#57a64a&quot;&gt;# 将它们的权重值从原来的 self.beta 修改为 1 - self.beta（即从属度由原来的较弱变为较强），<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            &lt;color=&quot;#57a64a&quot;&gt;# 同时将它们的权重值从第 i+1 个簇中原来的 0 修改为 1 - self.beta<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            self.weights[mask, i+1] = 1 - self.beta<br>            <br>            &lt;color=&quot;#57a64a&quot;&gt;# 将簇的数量 self.k 加一，表示新拆分出来的簇已经被计入簇的总数中<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            self.k += 1<br><br>    &lt;color=&quot;#dcdcaa&quot;&gt;def fit(self)<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>:<br>        self.initialize()<br><br>        for i in range(self.max_iter):<br>            self.update_weights()<br>            self.update_centroids()<br>            self.update_k()<br><br>    &lt;color=&quot;#dcdcaa&quot;&gt;def predict(self, data)<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>:<br>        &lt;color=&quot;#57a64a&quot;&gt;# 输入一组新的数据样本 data，算法会计算出这些样本点与所有质心点之间的距离，<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        &lt;color=&quot;#57a64a&quot;&gt;# 并对每个簇的权重进行计算。最终，算法会将所有数据样本分配到权重最大的簇中<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        weights = np.zeros((len(data), self.k))<br>        for j in range(self.k):<br>            &lt;color=&quot;#57a64a&quot;&gt;# 使用 np.linalg.norm() 方法计算 data 与第 j 个质心点的欧几里得距离<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            dist = np.linalg.norm(data - self.centroids[j], axis=1)<br>            &lt;color=&quot;#57a64a&quot;&gt;# 使用 np.mean() 方法计算所有样本点与该质心点之间的平均距离 mean_dist<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            mean_dist = np.mean(dist)<br>            &lt;color=&quot;#57a64a&quot;&gt;# 计算样本点与平均距离之间的标准差 std_dev<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            std_dev = np.sqrt(np.mean((dist - mean_dist) ** 2))<br>            &lt;color=&quot;#57a64a&quot;&gt;# 使用高斯核函数（Gaussian Kernel）计算每个样本分别属于第 j 个簇的概率<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>            weights[:, j] = np.exp(-((dist - mean_dist) ** 2) / (2 * std_dev ** 2))<br>        <br>        &lt;color=&quot;#57a64a&quot;&gt;# 算法选取每个样本点分别属于哪个簇的权重值最大，即使用 argmax() 方法在 weights 矩阵的第二个轴上取最大值所在的索引<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>        return weights.argmax(axis=1)<br><br>&lt;color=&quot;#FF8800&quot;&gt;import matplotlib.pyplot as plt<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>&lt;color=&quot;#FF8800&quot;&gt;from sklearn.datasets import make_blobs<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br><br>&lt;color=&quot;#57a64a&quot;&gt;# 生成一些随机的数据点<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>data, _ = make_blobs(n_samples=1000, centers=3, n_features=2, random_state=42)<br><br>&lt;color=&quot;#57a64a&quot;&gt;# 使用模糊 ISODATA 算法聚类数据<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>fisodata = FuzzyISODATA(data, k=3, max_iter=20)<br>fisodata.fit()<br>labels = fisodata.predict(data)<br><br>&lt;color=&quot;#57a64a&quot;&gt;# 将聚类结果可视化<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span><br>plt.scatter(data[:, 0], data[:, 1], c=labels)<br>plt.show()<br><br></code></pre></td></tr></table></figure>
<p><strong>7</strong></p>
<p><img src="F7.jpg" alt="jpg"></p>
<h2 id="synthtext3d" tabindex="-1" id="SynthText3D">SynthText3D</h2>
<p><img src="S1.png" alt="png"></p>
<p>​	布局是左边文字右边图片。配色方案：</p>
<ul>
<li>背景：<code>#312E2B</code></li>
<li>文字：
<ul>
<li>绿：<code>#92E86C</code></li>
<li>红：<code>#FF8080</code></li>
<li>青：<code>00FFFF</code></li>
</ul>
</li>
</ul>
<p>​	写了个更换鼠标指针的逻辑，结果编译完没生效，寄！</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ChangeCursor</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-keyword">public</span> Texture2D cursorTexture;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        Cursor.SetCursor(cursorTexture, Vector2.zero, CursorMode.Auto);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><img src="S2.png" alt="png"></p>
<p>​	<code>Hierarchy</code> 和 <code>Project</code> 的放置。左边的幻灯片序号是连续的，右边则不然，右边的 <code>GameObject</code> 绑定了 <code>SceneID</code> 类以和左边绑定。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SceneID</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> ID = <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>​	写了个 <code>ScenesController</code> 类用于控制翻页。</p>
<ul>
<li>按下 <code>左/A</code> 键向前翻页，执行 <code>privousScene()</code>。</li>
<li>按下 <code>右/D</code> 键向后翻页，执行 <code>nextScene()</code>。</li>
<li><code>playAnimation()</code> 掌管翻页动画，使用 <code>Dotween</code> 插件。</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> Unity.VisualScripting;<br><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><span class="hljs-keyword">using</span> DG.Tweening;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ScenesController</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Transform leftScenesParent;<br>    <span class="hljs-keyword">private</span> List&lt;Transform&gt; leftScenes = <span class="hljs-keyword">new</span> List&lt;Transform&gt;();<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Transform rightScenesParent;<br>    <span class="hljs-keyword">private</span> List&lt;Transform&gt; rightScenes = <span class="hljs-keyword">new</span> List&lt;Transform&gt;();<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> currentRightScene = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> oldRightScene = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> currentLeftScene = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> oldLeftScene = <span class="hljs-number">0</span>;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Text sceneIndexUI;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">bool</span> allowChange = <span class="hljs-literal">true</span>;<br><br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; leftScenesParent.childCount; i++)<br>        &#123;<br>            leftScenes.Add(leftScenesParent.GetChild(i));<br>            leftScenes[i].localPosition = <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">0</span>, <span class="hljs-number">-1440</span>, <span class="hljs-number">0</span>);<br>        &#125;<br>        leftScenes[<span class="hljs-number">0</span>].localPosition = Vector3.zero;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; rightScenesParent.childCount; i++)<br>        &#123;<br>            rightScenes.Add(rightScenesParent.GetChild(i));<br>            rightScenes[i].localPosition = <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">0</span>, <span class="hljs-number">1440</span>, <span class="hljs-number">0</span>);<br>        &#125;<br>        leftScenes[<span class="hljs-number">0</span>].localPosition = Vector3.zero;<br>        rightScenes[<span class="hljs-number">0</span>].localPosition = Vector3.zero;<br><br>        sceneIndexUI.text = (currentLeftScene + <span class="hljs-number">1</span>) + <span class="hljs-string">&quot;/&quot;</span> + leftScenes.Count;<br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (Input.GetKeyDown(KeyCode.LeftArrow) || Input.GetKeyDown(KeyCode.A))<br>        &#123;<br>            privousScene();<br>        &#125;<br>        <span class="hljs-keyword">if</span> (Input.GetKeyDown(KeyCode.RightArrow) || Input.GetKeyDown(KeyCode.D))<br>        &#123;<br>            nextScene();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">privousScene</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (allowChange)<br>        &#123;<br>            allowChange = <span class="hljs-literal">false</span>;<br>            Debug.Log(<span class="hljs-string">&quot;privousScene()&quot;</span>);<br>            oldLeftScene = currentLeftScene;<br>            <span class="hljs-keyword">if</span> (currentLeftScene == <span class="hljs-number">0</span>)<br>                currentLeftScene = leftScenes.Count - <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">else</span><br>                currentLeftScene -= <span class="hljs-number">1</span>;<br>            sceneIndexUI.text = (currentLeftScene + <span class="hljs-number">1</span>) + <span class="hljs-string">&quot;/&quot;</span> + leftScenes.Count;<br><br>            playAnimation();<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">nextScene</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (allowChange)<br>        &#123;<br>            allowChange = <span class="hljs-literal">false</span>;<br>            Debug.Log(<span class="hljs-string">&quot;nextScene()&quot;</span>);<br>            oldLeftScene = currentLeftScene;<br>            currentLeftScene = (currentLeftScene + <span class="hljs-number">1</span>) % leftScenes.Count;<br>            sceneIndexUI.text = (currentLeftScene + <span class="hljs-number">1</span>) + <span class="hljs-string">&quot;/&quot;</span> + leftScenes.Count;<br><br>            playAnimation();<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">playAnimation</span>()</span><br>    &#123;<br>        oldRightScene = currentRightScene;<br>        <span class="hljs-keyword">if</span> (rightScenes[rightScenes.Count - <span class="hljs-number">1</span>].GetComponent&lt;SceneID&gt;().ID &lt;= currentLeftScene)<br>        &#123;<br>            currentRightScene = rightScenes.Count - <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; rightScenes.Count - <span class="hljs-number">1</span>; i++)<br>            &#123;<br>                <span class="hljs-keyword">if</span> (rightScenes[i].GetComponent&lt;SceneID&gt;().ID &lt;= currentLeftScene &amp;&amp; rightScenes[i + <span class="hljs-number">1</span>].GetComponent&lt;SceneID&gt;().ID &gt; currentLeftScene)<br>                &#123;<br>                    currentRightScene = i;<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        Tweener tweenerLeftOut = <span class="hljs-literal">null</span>;<br>        Tweener tweenerRightOut = <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">if</span> (oldLeftScene &gt; currentLeftScene)<br>        &#123;<br>            tweenerLeftOut = leftScenes[oldLeftScene].DOLocalMoveY(<span class="hljs-number">-1440</span>, <span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            tweenerLeftOut = leftScenes[oldLeftScene].DOLocalMoveY(<span class="hljs-number">1440</span>, <span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (oldRightScene &gt; currentRightScene)<br>        &#123;<br>            tweenerRightOut = rightScenes[oldRightScene].DOLocalMoveY(<span class="hljs-number">1440</span>, <span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (oldRightScene &lt; currentRightScene)<br>        &#123;<br>            tweenerRightOut = rightScenes[oldRightScene].DOLocalMoveY(<span class="hljs-number">-1440</span>, <span class="hljs-number">1</span>);<br>        &#125;<br><br>        leftScenes[currentLeftScene].gameObject.SetActive(<span class="hljs-literal">true</span>);<br>        rightScenes[currentRightScene].gameObject.SetActive(<span class="hljs-literal">true</span>);<br>        Tweener tweenerLeftIn = leftScenes[currentLeftScene].DOLocalMoveY(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);<br>        Tweener tweenerRightIn = <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">if</span> (currentRightScene != oldRightScene)<br>        &#123;<br>            tweenerRightIn = rightScenes[currentRightScene].DOLocalMoveY(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);<br>        &#125;<br>        Debug.Log(<span class="hljs-string">&quot;currentRightScene: &quot;</span> + currentRightScene + <span class="hljs-string">&quot; oldRightScene: &quot;</span> + oldRightScene + <span class="hljs-string">&quot; currentLeftScene: &quot;</span> + currentLeftScene + <span class="hljs-string">&quot; oldLeftScene&quot;</span> + oldLeftScene);<br>        tweenerLeftIn.OnComplete(() =&gt;<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; leftScenes.Count; i++)<br>            &#123;<br>                <span class="hljs-keyword">if</span> (i &gt; currentLeftScene)<br>                &#123;<br>                    leftScenes[i].localPosition = <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">0</span>, <span class="hljs-number">-1440</span>, <span class="hljs-number">0</span>);<br>                    leftScenes[i].gameObject.SetActive(<span class="hljs-literal">false</span>);<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i &lt; currentLeftScene)<br>                &#123;<br>                    leftScenes[i].localPosition = <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">0</span>, <span class="hljs-number">1440</span>, <span class="hljs-number">0</span>);<br>                    leftScenes[i].gameObject.SetActive(<span class="hljs-literal">false</span>);<br>                &#125;<br>            &#125;<br>            allowChange = <span class="hljs-literal">true</span>;<br>        &#125;);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>​	显示图片的动画代码，这个应该是弃案了。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> System.Linq;<br><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><span class="hljs-keyword">using</span> DG.Tweening;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ShowPictures</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> Transform imagesParent;<br>    <span class="hljs-keyword">private</span> List&lt;Image&gt; images = <span class="hljs-keyword">new</span> List&lt;Image&gt;();<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; imagesParent.childCount; i++)<br>        &#123;<br>            images.Add(imagesParent.GetChild(i).GetComponent&lt;Image&gt;());<br>            images[i].color = <span class="hljs-keyword">new</span> Color(images[i].color[<span class="hljs-number">0</span>], images[i].color[<span class="hljs-number">1</span>], images[i].color[<span class="hljs-number">2</span>], <span class="hljs-number">0</span>);<br>        &#125;<br>        showPictures(<span class="hljs-number">0</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">showPictures</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (i &lt; images.Count)<br>        &#123;<br>            Tweener tweener = images[i].DOFade(<span class="hljs-number">1</span>, <span class="hljs-number">0.5f</span>);<br>            tweener.OnComplete(()=&gt; showPictures(i + <span class="hljs-number">1</span>));<br>        &#125;<br>        <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>​	经典的挂伟哥动画代码：</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><span class="hljs-keyword">using</span> DG.Tweening;<br><span class="hljs-keyword">using</span> Unity.VisualScripting;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ChangeColor</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    [<span class="hljs-meta">SerializeField</span>] <span class="hljs-keyword">private</span> <span class="hljs-built_in">bool</span> isImage = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">private</span> Image image;<br>    <span class="hljs-keyword">private</span> Text text;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (isImage)<br>        &#123;<br>            image = GetComponent&lt;Image&gt;();<br>            <span class="hljs-built_in">float</span> H, S, V;<br>            Color.RGBToHSV(image.color, <span class="hljs-keyword">out</span> H, <span class="hljs-keyword">out</span> S, <span class="hljs-keyword">out</span> V);<br>            changeColor(H, S, V);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            text = GetComponent&lt;Text&gt;();<br>            <span class="hljs-built_in">float</span> H, S, V;<br>            Color.RGBToHSV(text.color, <span class="hljs-keyword">out</span> H, <span class="hljs-keyword">out</span> S, <span class="hljs-keyword">out</span> V);<br>            changeColor(H, S, V);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">changeColor</span>(<span class="hljs-params"><span class="hljs-built_in">float</span> H, <span class="hljs-built_in">float</span> S, <span class="hljs-built_in">float</span> V</span>)</span><br>    &#123;<br>        <span class="hljs-built_in">float</span> newH = H + <span class="hljs-number">0.01f</span>;<br>        <span class="hljs-keyword">if</span> (newH &gt; <span class="hljs-number">1</span>)<br>        &#123;<br>            newH = <span class="hljs-number">0</span>;<br>        &#125;<br>        Tweener tweener = <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">if</span> (isImage)<br>        &#123;<br>            tweener = image.DOColor(Color.HSVToRGB(newH, S, V), <span class="hljs-number">0.05f</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            tweener = text.DOColor(Color.HSVToRGB(newH, S, V), <span class="hljs-number">0.05f</span>);<br>        &#125;<br>        <span class="hljs-comment">// 将 HSV 颜色转换回 RGB 格式</span><br>        tweener.OnComplete(()=&gt; changeColor(newH, S, V));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>​	本来有一个按下按钮出一个闽南语祝伟哥生日快乐的功能，结果汇报的时候不知道为啥没按出来……</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.UI;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PlaySounds</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-keyword">public</span> AudioClip soundClip;<br>    <span class="hljs-keyword">private</span> AudioSource audioSource;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-comment">// 获取按钮所附加的 AudioSource 组件</span><br>        audioSource = GetComponent&lt;AudioSource&gt;();<br>        <span class="hljs-keyword">if</span> (audioSource == <span class="hljs-literal">null</span>)<br>        &#123;<br>            <span class="hljs-comment">// 如果按钮上没有 AudioSource，则添加一个</span><br>            audioSource = gameObject.AddComponent&lt;AudioSource&gt;();<br>        &#125;<br><br>        <span class="hljs-comment">// 设置 AudioSource 的音频剪辑</span><br>        audioSource.clip = soundClip;<br><br>        <span class="hljs-comment">// 确保按钮有一个按钮点击事件处理程序，并将 PlaySound() 方法添加为响应方法</span><br>        Button button = GetComponent&lt;Button&gt;();<br>        button.onClick.AddListener(PlaySound);<br>    &#125;<br><br>    <span class="hljs-comment">// 播放声音的方法</span><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PlaySound</span>()</span><br>    &#123;<br>        Debug.Log(<span class="hljs-string">&quot;Play Sound!&quot;</span>);<br>        audioSource.Play();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>​</p>

            </article>
            
	<div class="rightside">
	
		<div class="rightside-button" id="js-aside">
			<span>
				<img no-lazy src="/images/icon/aside.png" class="rightside-button-icon" alt="Icon">
			</span>
		</div>
		<script>
			$("#js-aside").click(function () {
				onShowAsideButton();
			});
		</script>
	
	<div class="rightside-button" id="js-toggle_theme">
		<span>
			<img no-lazy src="/images/icon/toggle_theme.png" class="rightside-button-icon" alt="Icon">
		</span>
	</div>

	
<script src="/js/plugins/goto_position.js"></script>

	
	<div class="rightside-button" id="js-go_top">
		<span>
			<img no-lazy src="/images/icon/go_top.png" class="rightside-button-icon" alt="Icon">
		</span>
	</div>
	<div class="rightside-button" id="js-go_bottom">
		<span>
			<img no-lazy src="/images/icon/go_bottom.png" class="rightside-button-icon" alt="Icon">
		</span>
	</div>

	<script>
		setToggleThemeButtonListener();
	</script>
	<script>
		$('#js-go_top')
		.gotoPosition( {
			speed: 300,
			target: 'top',
		} );
		$('#js-go_bottom')
		.gotoPosition( {
			speed: 300,
			target: 'bottom',
		} );
	</script>
</div>


<div class="post-bottom">
    
        <div class="post-paging">     
            <div class="post-paging-last">
                
                    <a href="/posts/Unity-DOTween/">
                        上一篇：Unity-DOTween
                    </a>
                
            </div>
            <div class="post-paging-next">
                
                    <a href="/posts/Diary-1-%E6%A2%A7%E6%A1%90%E4%B8%8E%E9%93%B6%E6%9D%8F/">
                        下一篇：Diary-1-梧桐与银杏
                    </a>
                
            </div>
        </div>
    
    
    
        
            <div class="giscus comments"></div>
            <script>
                var scriptElement = document.createElement('script');
                scriptElement.src = 'https://giscus.app/client.js';
                scriptElement.setAttribute('data-repo', 'GZ-Metal-Cell/GZ-Metal-Cell.github.io');
                scriptElement.setAttribute('data-repo-id', 'R_kgDOIHLEOQ');
                scriptElement.setAttribute('data-category', 'Announcements');
                scriptElement.setAttribute('data-category-id', 'DIC_kwDOIHLEOc4CcVwP');
                scriptElement.setAttribute('data-mapping', 'title');
                scriptElement.setAttribute('data-strict', '1');
                scriptElement.setAttribute('data-reactions-enabled', '');
                scriptElement.setAttribute('data-emit-metadata', '0');
                scriptElement.setAttribute('data-input-position', 'bottom');
                scriptElement.setAttribute('data-theme', localStorage.getItem('theme') === 'light' ? 'light' : 'dark_high_contrast');
                scriptElement.setAttribute('data-lang', 'zh-CN');
                
                scriptElement.setAttribute('crossorigin', 'anonymous');
                scriptElement.async = true;
                document.head.appendChild(scriptElement);
            </script>
        
    
</div>
        </div>
    </main>
    
        <aside class="main-aside">
    
<script src="/js/widgets/aside.js"></script>

    <script>
        showAside();
    </script>

    <div class="aside-top">
        <div class="aside-top-about aside-card">
            <a href="/about" class="aside-top-about-portrait">
                <img no-lazy src="/about/portrait.png" alt="Q">
            </a>
            <div class="aside-top-about-info">
                <span class="author"> Zi-Zi</span>
                <span class="description">不以物喜，不以己悲。</span>
            </div>              
            <div class="aside-top-about-site">
                <a href="/categories" class="aside-top-about-site-item">
                    <span class="title">类别</span>
                    <span class="count">5</span>
                </a>
                <a href="/tags" class="aside-top-about-site-item">
                    <span class="title">标签</span>
                    <span class="count">120</span>
                </a>
                <a href="/archives" class="aside-top-about-site-item">
                    <span class="title">归档</span>
                    <span class="count">434</span>
                </a>
            </div>
            <div class="aside-top-about-contact">
                
                    
                        <a target="_blank" rel="noopener" href="https://weibo.com/u/5020307235">
                            <img no-lazy src="/images/bottom_icon/Weibo.webp" alt="Quieter">
                        </a>
                    
                        <a target="_blank" rel="noopener" href="https://tieba.baidu.com/home/main?id=tb.1.ff6d2775.vFH7wrdW2ZjPCmyBHJcjnA">
                            <img no-lazy src="/images/bottom_icon/Tieba.webp" alt="Quieter">
                        </a>
                    
                        <a target="_blank" rel="noopener" href="https://space.bilibili.com/11547880">
                            <img no-lazy src="/images/bottom_icon/Bilibili.webp" alt="Quieter">
                        </a>
                    
                        <a target="_blank" rel="noopener" href="https://github.com/GZ-Metal-Cell">
                            <img no-lazy src="/images/bottom_icon/github.webp" alt="Quieter">
                        </a>
                    
                
            </div>
        </div> 

        
    </div>

    <div class="aside-bottom">
        
            <script>
                
                    const tocCollapsed = true;
                
                
                    const tocDepth = 6;
                
                var headerString = '';
                for (let i = 1; i <= tocDepth; i++) {
                    if (i === 1) {
                        headerString += 'h1';
                    } else {
                        headerString += ', h' + i;
                    }
                }
                hbeToc();
            </script>
            <div class="aside-bottom-toc aside-card">
                <div class="aside-bottom-toc-title">
                    <h1>目录</h1>
                    <span class="toc-percentage"></span>
                </div>
                <ol class="aside-bottom-toc-content"></ol>
            </div>
        
    </div>
</aside>
    
</div>
		<footer>
	<div class="content">
		
			<span>©2022-2025&nbsp;By&nbsp;<a href="/about">Zi-Zi</a>.</span>
		
		<span><a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> theme by <a target="_blank" rel="noopener" href="https://github.com/GZ-Metal-Cell/hexo-theme-quieter">Quieter</a>.</span>
		
			<span style="display: flex;">
				<img no-lazy alt="icp" src="/images/icp_icon.png" style="width: 16px; height: 16px;">
				<a href="https://icp.gov.moe/?keyword=20241647" target="_blank">萌 ICP 备 20241647 号</a>
			</span>
		
	</div>

	
<script src="/js/plugins/ref.js"></script>

	
<script src="/js/plugins/highlight_tools.js"></script>

	<script>
		const  COPY_ICON = "/images/icon/copy.png";
		const CLOSE_CODE_BLOCK_ICON = "/images/icon/close_code_block.png";
		const HIGHLIGHT_SHRINK = "";
		const HIGHLIGHT_HEIGHT_LIMIT = "";
	</script>

	
	
	<!-- Analytics -->

    
        <!-- Busuanzi Analytics -->
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    
        <!-- Baidu Analytics -->
        <script defer>
            var _hmt = _hmt || [];
            (function () {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?e57cf62289f84322ebff116e8b3d343e";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();
        </script>
    


	

	

    
		
<link rel="stylesheet" href="/css/plugins/textIndent.css">

		
<script src="/js/plugins/textIndent.js"></script>

	

	
	
	
		<script>
			if (typeof init === 'function') {
				init();
			}
		</script>
	

	
		
	

	

	<!--
		
<script src="/js/plugins/jquery.pjax.min.js"></script>

		<script>
			$(document).pjax('a[target!=_blank]', 'main', {
				fragment: 'main',
				timeout: 8000
			});

			$(document).on('pjax:complete', function() {
			});
		</script> 
	-->
	<script>
		console.log('\n %c Hexo-Quieter 主题 %c https://github.com/GZ-Metal-Cell/hexo-theme-quieter \n', 'color: #fadfa3; background: #030307; padding:5px 0;', 'background: #fadfa3; padding:5px 0;')
	</script>
</footer>
	</body>

	<!-- Hexo-Quieter 主题  https://github.com/GZ-Metal-Cell/hexo-theme-quieter -->
</html>

